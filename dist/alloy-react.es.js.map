{"version":3,"file":"alloy-react.es.js","sources":["../src/components/cell/AlloyIcon.jsx","../src/components/cell/AlloyLink.jsx","../src/components/cell/AlloyLinkIcon.jsx","../src/components/cell/AlloyLinkLogo.jsx","../src/components/cell/AlloyButton.jsx","../src/components/cell/AlloyButtonIcon.jsx","../src/components/cell/AlloyButtonSubmit.jsx","../src/components/cell/AlloyInput.jsx"],"sourcesContent":["import React from \"react\";\n\n/** Incrementing ID: icon1, icon2, ... */\nlet __iconCounter = 0;\nfunction nextIconId() {\n  __iconCounter += 1;\n  return `alloyIcon${__iconCounter}`;\n}\n\n/**\n * Icon object with two properties:\n * - id?: string  (auto-generated if omitted)\n * - iconClass: string  (Font Awesome classes, e.g., \"fa-solid fa-user\")\n */\nexport class IconObject {\n  /**\n   * @param {{ id?: string, iconClass: string }} params\n   */\n  constructor({ id, iconClass }) {\n    if (!iconClass) throw new Error(\"Icon requires iconClass\");\n    this.id = id ?? nextIconId();\n    this.iconClass = iconClass;\n  }\n}\n\n/**\n * AlloyIcon: accepts ONLY an `icon` prop (instance of Icon).\n * Renders an <i> with the provided id and classes.\n */\nexport function AlloyIcon({ icon }) {\n  if (!icon) throw new Error(\"AlloyIcon requires `icon` prop (Icon instance).\");\n  return <i id={icon.id} className={icon.iconClass} aria-hidden=\"true\" />;\n}\n\nexport default AlloyIcon;\n","import React, { useMemo, useRef, useState } from \"react\";\n\nlet __linkCounter = 0;\nfunction nextLinkId() {\n  __linkCounter += 1;\n  return `alloyLink${__linkCounter}`;\n}\n\n// ---- Active class hook ----\nfunction useActiveClass(className = \"\", active = \"\") {\n  const [hovered, setHovered] = useState(false);\n  const [pressed, setPressed] = useState(false);\n  const [focused, setFocused] = useState(false);\n  const merged = useMemo(() => {\n    const on = hovered || pressed || focused;\n    return [className, on && active].filter(Boolean).join(\" \");\n  }, [className, active, hovered, pressed, focused]);\n  return {\n    className: merged,\n    events: {\n      onMouseEnter: () => setHovered(true),\n      onMouseLeave: () => {\n        setHovered(false);\n        setPressed(false);\n      },\n      onMouseDown: () => setPressed(true),\n      onMouseUp: () => setPressed(false),\n      onFocus: () => setFocused(true),\n      onBlur: () => setFocused(false),\n    },\n  };\n}\n\n// ---- Classes ----\nexport class LinkObject {\n  /**\n   * @param {{ id?: string, name?: string, link: string, className?: string, active?: string, target?: string, rel?: string, onClick?: (e: any)=>void, title?: string }} p\n   */\n  constructor({\n    id,\n    name,\n    href,\n    className,\n    active,\n    target,\n    rel,\n    onClick,\n    title,\n  }) {\n    if (!href) throw new Error(\"LinkObject requires `href`.\");\n    this.id = id ?? nextLinkId();\n    this.name = name; \n    this.href = href;\n    this.className = className ?? \"\";\n    this.active = active ?? \"\";\n    this.target = target;\n    this.rel = rel;\n    this.onClick = onClick;\n    this.title = title;\n  }\n}\n\n// ---- Component ----\n/**\n * AlloyLink — accepts ONLY a LinkObject instance via `link`.\n */\nexport function AlloyLink({ link }) {\n  if (!link || !(link instanceof LinkObject)) {\n    throw new Error(\"AlloyLink requires `link` (LinkObject instance).\");\n  }\n  if (!link.name) throw new Error(\"AlloyLink requires `link.name`.\");\n\n  const autoId = useRef(link.id);\n  const { className, events } = useActiveClass(link.className, link.active);\n  const rel =\n    link.target === \"_blank\"\n      ? link.rel\n        ? `${link.rel} noopener noreferrer`\n        : \"noopener noreferrer\"\n      : link.rel;\n\n  return (\n    <a\n      id={autoId.current}\n      href={link.href}\n      className={className}\n      target={link.target}\n      rel={rel}\n      onClick={link.onClick}\n      title={link.title}\n      {...events}\n    >\n      <span>{link.name}</span>\n    </a>\n  );\n}\nexport default AlloyLink;","import React, { useMemo, useRef, useState } from \"react\";\nimport { AlloyIcon,  IconObject } from \"./AlloyIcon\";\n\nlet __iconLinkCounter = 0;\nfunction nextLinkIconId() {\n  __iconLinkCounter += 1;\n  return `alloyLinkIcon${__iconLinkCounter}`;\n}\n\nfunction useActiveClassIcon(className = \"\", active = \"\") {\n  const [h, setH] = useState(false);\n  const [p, setP] = useState(false);\n  const [f, setF] = useState(false);\n  const merged = useMemo(\n    () => [className, (h || p || f) && active].filter(Boolean).join(\" \"),\n    [className, active, h, p, f]\n  );\n  return {\n    className: merged,\n    events: {\n      onMouseEnter: () => setH(true),\n      onMouseLeave: () => {\n        setH(false);\n        setP(false);\n      },\n      onMouseDown: () => setP(true),\n      onMouseUp: () => setP(false),\n      onFocus: () => setF(true),\n      onBlur: () => setF(false),\n    },\n  };\n}\n\nexport class LinkIconObject {\n  /**\n   * @param {{ id?: string, link: string, icon: Icon, name?: string, className?: string, active?: string, target?: string, rel?: string, onClick?: (e:any)=>void, title?: string }} p\n   */\n  constructor({\n    id,\n    href,\n    icon,\n    name,\n    className,\n    active,\n    target,\n    rel,\n    onClick,\n    title,\n  }) {\n    if (!href) throw new Error(\"LinkIconObject requires `href`.\");\n    if (!icon || !(icon instanceof IconObject))\n      throw new Error(\"LinkIconObject requires `icon` (Icon instance).\");\n    this.id = id ?? nextLinkIconId();\n    this.href = href;\n    this.icon = icon instanceof IconObject ? icon : new IconObject(icon);\n    this.name = name; \n    this.className = className ?? \"\";\n    this.active = active ?? \"\";\n    this.target = target;\n    this.rel = rel;\n    this.onClick = onClick;\n    this.title = title;\n  }\n}\n\nexport function AlloyLinkIcon({ linkIcon }) {\n  if (!linkIcon || !(linkIcon instanceof LinkIconObject)) {\n    throw new Error(\"AlloyLinkIcon requires `linkIcon` (LinkIconObject instance).\");\n  }\n  const autoId = useRef(linkIcon.id);\n  const { className, events } = useActiveClassIcon(linkIcon.className, linkIcon.active);\n  const rel =\n    linkIcon.target === \"_blank\"\n      ? linkIcon.rel\n        ? `${linkIcon.rel} noopener noreferrer`\n        : \"noopener noreferrer\"\n      : linkIcon.rel;\n  const hasLabel = Boolean(linkIcon.name);\n\n  return (\n    <a\n      id={autoId.current}\n      href={linkIcon.href}\n      className={className}\n      target={linkIcon.target}\n      rel={rel}\n      onClick={linkIcon.onClick}\n      title={linkIcon.title}\n      {...events}\n    >\n      <span>\n        <AlloyIcon icon={linkIcon.icon} />\n        {hasLabel && <span className=\"px-1\">{linkIcon.name}</span>}\n      </span>\n    </a>\n  );\n}\nexport default AlloyLinkIcon;","import React, { useMemo, useRef, useState } from \"react\";\n\nlet __logoLinkCounter = 0;\nfunction nextLogoLinkId() {\n  __logoLinkCounter += 1;\n  return `alloyLinkLogo${__logoLinkCounter}`;\n}\n\nfunction useActiveClassLogo(className = \"\", active = \"\") {\n  const [h, setH] = useState(false);\n  const [p, setP] = useState(false);\n  const [f, setF] = useState(false);\n  const merged = useMemo(\n    () => [className, (h || p || f) && active].filter(Boolean).join(\" \"),\n    [className, active, h, p, f]\n  );\n  return {\n    className: merged,\n    events: {\n      onMouseEnter: () => setH(true),\n      onMouseLeave: () => {\n        setH(false);\n        setP(false);\n      },\n      onMouseDown: () => setP(true),\n      onMouseUp: () => setP(false),\n      onFocus: () => setF(true),\n      onBlur: () => setF(false),\n    },\n  };\n}\n\nexport class LinkLogoObject {\n  /**\n   * @param {{ id?: string, name?: string, link: string, logo: string, width?: number|string, height?: number|string, logoAlt?: string, className?: string, active?: string, target?: string, rel?: string, onClick?: (e:any)=>void, title?: string }} p\n   */\n  constructor({\n    id,\n    name,\n    href,\n    logo,\n    width,\n    height,\n    logoAlt = \"\",\n    className,\n    active,\n    target,\n    rel,\n    onClick,\n    title,\n  }) {\n    if (!href) throw new Error(\"LinkLogoObject requires `href`.\");\n    if (!logo) throw new Error(\"LinkLogoObject requires `logo`.\");\n    this.id = id ?? nextLogoLinkId();\n    this.name = name; \n    this.href = href;\n    this.logo = logo;\n    this.width = width;\n    this.height = height;\n    this.logoAlt = logoAlt;\n    this.className = className ?? \"\";\n    this.active = active ?? \"\";\n    this.target = target;\n    this.rel = rel;\n    this.onClick = onClick;\n    this.title = title;\n  }\n}\n\nexport function AlloyLinkLogo({ linkLogo }) {\n  if (!linkLogo || !(linkLogo instanceof LinkLogoObject)) {\n    throw new Error(\"AlloyLinkLogo requires `linkLogo` (LinkLogoObject instance).\");\n  }\n  const autoId = useRef(linkLogo.id);\n  const { className, events } = useActiveClassLogo(linkLogo.className, linkLogo.active);\n  const rel =\n    linkLogo.target === \"_blank\"\n      ? linkLogo.rel\n        ? `${linkLogo.rel} noopener noreferrer`\n        : \"noopener noreferrer\"\n      : linkLogo.rel;\n      const hasLabel = Boolean(linkLogo.name);\n\n  return (\n    <a\n      id={autoId.current}\n      href={linkLogo.href}\n      className={className}\n      target={linkLogo.target}\n      rel={rel}\n      onClick={linkLogo.onClick}\n      title={linkLogo.title}\n      {...events}\n    >\n      <span>\n        <img\n          src={linkLogo.logo}\n          alt={linkLogo.logoAlt || linkLogo.name}\n          width={linkLogo.width}\n          height={linkLogo.height}\n          style={{ display: \"inline-block\" }}\n        />\n        {hasLabel && <span className=\"px-1\">{linkLogo.name}</span>}\n      </span>\n    </a>\n  );\n}\nexport default AlloyLinkLogo;","// AlloyButton.jsx\nimport React, {\n  useMemo,\n  useRef,\n  useState,\n  forwardRef,\n  useImperativeHandle,\n} from \"react\";\n\n/* -------------------- id generator -------------------- */\nlet __btnCounter = 0;\nfunction nextButtonId() {\n  __btnCounter += 1;\n  return `alloyBtn${__btnCounter}`;\n}\n\n/* -------------------- hover/press/focus → class merge -------------------- */\nfunction useActiveClass(className = \"\", active = \"\") {\n  const [hovered, setHovered] = useState(false);\n  const [pressed, setPressed] = useState(false);\n  const [focused, setFocused] = useState(false);\n\n  const merged = useMemo(() => {\n    const on = hovered || pressed || focused;\n    return [className, on && active].filter(Boolean).join(\" \");\n  }, [className, active, hovered, pressed, focused]);\n\n  return {\n    className: merged,\n    events: {\n      onMouseEnter: () => setHovered(true),\n      onMouseLeave: () => {\n        setHovered(false);\n        setPressed(false);\n      },\n      onMouseDown: () => setPressed(true),\n      onMouseUp: () => setPressed(false),\n      onFocus: () => setFocused(true),\n      onBlur: () => setFocused(false),\n    },\n  };\n}\n\n/* -------------------- ButtonObject (only `name` required) -------------------- */\n/**\n * Fields:\n *  - id?: string\n *  - name: string (required)\n *  - className?: string\n *  - active?: string        // class applied on hover/press/focus\n *  - disabled?: boolean\n *  - title?: string         // tooltip\n *  - ariaLabel?: string     // screen-reader label; defaults to `name`\n *  - tabIndex?: number\n *  - onClick? / onKeyDown? / onKeyUp? / onFocus? / onBlur? / onMouseEnter? / onMouseLeave?\n *      (each receives (event, self: ButtonObject))\n */\nexport class ButtonObject {\n  constructor(p) {\n    if (!p || !p.name) throw new Error(\"ButtonObject requires `name`.\");\n    this.id = p.id ?? nextButtonId();\n    this.name = p.name;\n\n    this.className = p.className ?? \"\";\n    this.active = p.active ?? \"\";\n    this.disabled = !!p.disabled;\n    this.title = p.title;\n    this.ariaLabel = p.ariaLabel;\n    this.tabIndex = p.tabIndex;\n\n    // optional per-event callbacks\n    this.onClick = p.onClick;\n    this.onKeyDown = p.onKeyDown;\n    this.onKeyUp = p.onKeyUp;\n    this.onFocus = p.onFocus;\n    this.onBlur = p.onBlur;\n    this.onMouseEnter = p.onMouseEnter;\n    this.onMouseLeave = p.onMouseLeave;\n  }\n}\n\n/* -------------------- AlloyButton (object-only input + separate output prop) -------------------- */\n/**\n * Props:\n *  - button: ButtonObject (required)\n *  - output?: (self: ButtonObject, e?: any) => void   // fires on ALL events\n *\n * Ref exposes:\n *   ref.current = {\n *     el,        // underlying <button> element\n *     model,     // the same ButtonObject instance you passed\n *     focus(),   // focus the button\n *     click(),   // click the button\n *   }\n */\nexport const AlloyButton = forwardRef(function AlloyButton({ button, output }, ref) {\n  if (!button || !(button instanceof ButtonObject)) {\n    throw new Error(\"AlloyButton requires `button` (ButtonObject instance).\");\n  }\n\n  const elRef = useRef(null);\n  const autoId = useRef(button.id);\n  const isDisabled = button.disabled;\n\n  const { className, events } = useActiveClass(button.className, button.active);\n\n  // Expose DOM + model + helpers via ref\n  useImperativeHandle(\n    ref,\n    () => ({\n      el: elRef.current,\n      model: button,\n      focus: () => elRef.current?.focus(),\n      click: () => elRef.current?.click(),\n    }),\n    [button]\n  );\n\n  // helper: fire output(self, event) first, then specific handler(self, event)\n  const emitThen = (handler, alsoCallInternal) => (e) => {\n    alsoCallInternal?.(e);      // keep internal hover/focus state\n    output?.(button, e);        // Angular-style, for ALL events\n    handler?.(e, button);       // optional per-event model handler\n  };\n\n  const mergedEvents = {\n    onClick: emitThen(button.onClick),\n    onKeyDown: emitThen(button.onKeyDown, events.onFocus),\n    onKeyUp: emitThen(button.onKeyUp),\n    onFocus: emitThen(button.onFocus, events.onFocus),\n    onBlur: emitThen(button.onBlur, events.onBlur),\n    onMouseEnter: emitThen(button.onMouseEnter, events.onMouseEnter),\n    onMouseLeave: emitThen(button.onMouseLeave, events.onMouseLeave),\n    onMouseDown: emitThen(undefined, events.onMouseDown),\n    onMouseUp: emitThen(undefined, events.onMouseUp),\n  };\n\n  return (\n    <button\n      id={autoId.current}\n      ref={elRef}\n      type=\"button\"  \n      className={className}\n      title={button.title}\n      aria-label={button.ariaLabel || button.name}\n      aria-disabled={isDisabled || undefined}\n      disabled={isDisabled}\n      tabIndex={button.tabIndex}\n      {...mergedEvents}\n    >\n      <span className=\"px-2 align-middle\">{button.name}</span>\n    </button>\n  );\n});\n\nexport default AlloyButton;\n","// AlloyButtonIcon.jsx\nimport React, {\n  useMemo,\n  useRef,\n  useState,\n  forwardRef,\n  useImperativeHandle,\n} from \"react\";\nimport AlloyIcon, { IconObject } from \"./AlloyIcon.jsx\";\n\n/* --------------- id generator --------------- */\nlet __btnIconCounter = 0;\nfunction nextButtonIconId() {\n  __btnIconCounter += 1;\n  return `alloyBtnicon${__btnIconCounter}`;\n}\n\n/* --------------- hover/press/focus → class merge --------------- */\nfunction useActiveClass(className = \"\", active = \"\") {\n  const [hovered, setHovered] = useState(false);\n  const [pressed, setPressed] = useState(false);\n  const [focused, setFocused] = useState(false);\n\n  const merged = useMemo(() => {\n    const on = hovered || pressed || focused;\n    return [className, on && active].filter(Boolean).join(\" \");\n  }, [className, active, hovered, pressed, focused]);\n\n  return {\n    className: merged,\n    events: {\n      onMouseEnter: () => setHovered(true),\n      onMouseLeave: () => { setHovered(false); setPressed(false); },\n      onMouseDown: () => setPressed(true),\n      onMouseUp: () => setPressed(false),\n      onFocus: () => setFocused(true),\n      onBlur: () => setFocused(false),\n    },\n  };\n}\n\n/* --------------- ButtonIconObject (name optional) --------------- */\n/**\n * Fields:\n *  - id?: string\n *  - name?: string                   // OPTIONAL; if omitted -> icon-only button\n *  - icon: IconObject                // REQUIRED\n *  - className?: string\n *  - active?: string\n *  - disabled?: boolean\n *  - title?: string\n *  - ariaLabel?: string              // falls back to name or \"icon button\"\n *  - tabIndex?: number\n *  - onClick? / onKeyDown? / onKeyUp? / onFocus? / onBlur? / onMouseEnter? / onMouseLeave?\n *      (each receives (event, self: ButtonIconObject))\n */\nexport class ButtonIconObject {\n  constructor(p) {\n    if (!p || !p.icon) throw new Error(\"ButtonIconObject requires `icon` (IconObject).\");\n\n    this.id = p.id ?? nextButtonIconId();\n    this.name = p.name; // optional\n    this.icon = p.icon instanceof IconObject ? p.icon : new IconObject(p.icon);\n\n    this.className = p.className ?? \"\";\n    this.active = p.active ?? \"\";\n    this.disabled = !!p.disabled;\n    this.title = p.title;\n    this.ariaLabel = p.ariaLabel;\n    this.tabIndex = p.tabIndex;\n\n    // optional per-event callbacks\n    this.onClick = p.onClick;\n    this.onKeyDown = p.onKeyDown;\n    this.onKeyUp = p.onKeyUp;\n    this.onFocus = p.onFocus;\n    this.onBlur = p.onBlur;\n    this.onMouseEnter = p.onMouseEnter;\n    this.onMouseLeave = p.onMouseLeave;\n  }\n}\n\n/* --------------- AlloyButtonIcon --------------- */\n/**\n * Props:\n *  - buttonIcon: ButtonIconObject (required)\n *  - output?: (self: ButtonIconObject, e?: any) => void   // fires on ALL events\n *\n * Ref:\n *   ref.current = { el, model, focus(), click() }\n */\nexport const AlloyButtonIcon = forwardRef(function AlloyButtonIcon({ buttonIcon, output }, ref) {\n  if (!buttonIcon || !(buttonIcon instanceof ButtonIconObject)) {\n    throw new Error(\"AlloyButtonIcon requires `buttonIcon` (ButtonIconObject instance).\");\n  }\n\n  const elRef = useRef(null);\n  const autoId = useRef(buttonIcon.id);\n  const isDisabled = buttonIcon.disabled;\n\n  const { className, events } = useActiveClass(buttonIcon.className, buttonIcon.active);\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      el: elRef.current,\n      model: buttonIcon,\n      focus: () => elRef.current?.focus(),\n      click: () => elRef.current?.click(),\n    }),\n    [buttonIcon]\n  );\n\n  // Emit output(self, event) first, then optional model handler\n  const emitThen = (handler, alsoCallInternal) => (e) => {\n    alsoCallInternal?.(e);\n    output?.(buttonIcon, e);\n    handler?.(e, buttonIcon);\n  };\n\n  const mergedEvents = {\n    onClick: emitThen(buttonIcon.onClick),\n    onKeyDown: emitThen(buttonIcon.onKeyDown, events.onFocus),\n    onKeyUp: emitThen(buttonIcon.onKeyUp),\n    onFocus: emitThen(buttonIcon.onFocus, events.onFocus),\n    onBlur: emitThen(buttonIcon.onBlur, events.onBlur),\n    onMouseEnter: emitThen(buttonIcon.onMouseEnter, events.onMouseEnter),\n    onMouseLeave: emitThen(buttonIcon.onMouseLeave, events.onMouseLeave),\n    onMouseDown: emitThen(undefined, events.onMouseDown),\n    onMouseUp: emitThen(undefined, events.onMouseUp),\n  };\n\n  const ariaLabel = buttonIcon.ariaLabel || buttonIcon.name || \"icon button\";\n\n  return (\n    <button\n      id={autoId.current}\n      ref={elRef}\n      type=\"button\"\n      className={className}\n      title={buttonIcon.title}\n      aria-label={ariaLabel}\n      aria-disabled={isDisabled || undefined}\n      disabled={isDisabled}\n      tabIndex={buttonIcon.tabIndex}\n      {...mergedEvents}\n    >\n      <span className=\"d-inline-flex align-middle\">\n        <AlloyIcon icon={buttonIcon.icon} />\n      </span>\n      {buttonIcon.name ? (\n        <span className=\"px-2 align-middle\">{buttonIcon.name}</span>\n      ) : null}\n    </button>\n  );\n});\n\nexport default AlloyButtonIcon;\n","// AlloyButtonSubmit.jsx\nimport React, {\n  useRef,\n  useState,\n  useEffect,\n  forwardRef,\n  useImperativeHandle,\n} from \"react\";\nimport AlloyIcon, { IconObject } from \"./AlloyIcon.jsx\";\n\n/* id generator */\nlet __btnSubmitCounter = 0;\nfunction nextSubmitId() {\n  __btnSubmitCounter += 1;\n  return `alloyBtnsubmit${__btnSubmitCounter}`;\n}\n\n/**\n * REQUIRED:\n *  - name: string\n *  - icon: IconObject | { iconClass: string, ... }\n *\n * OPTIONAL:\n *  - id?: string\n *  - className?: string\n *  - disabled?: boolean\n *  - loading?: boolean\n *  - title?: string\n *  - ariaLabel?: string\n *  - tabIndex?: number\n *  - onClick? / onMouseDown? / onKeyDown?   (each receives (event, self))\n */\nexport class ButtonSubmitObject {\n  constructor(p) {\n    if (!p || !p.name) throw new Error(\"ButtonSubmitObject requires `name`.\");\n    if (!p.icon) throw new Error(\"ButtonSubmitObject requires `icon`.\");\n\n    this.id = p.id ?? nextSubmitId();\n    this.name = p.name;\n    this.icon = p.icon instanceof IconObject ? p.icon : new IconObject(p.icon);\n\n    this.className = p.className ?? \"\";\n    this.disabled = !!p.disabled;\n    this.loading = !!p.loading;\n    this.title = p.title;\n    this.ariaLabel = p.ariaLabel;\n    this.tabIndex = p.tabIndex;\n\n    // optional (only these three are honored)\n    this.onClick = p.onClick;\n    this.onMouseDown = p.onMouseDown;\n    this.onKeyDown = p.onKeyDown;\n  }\n}\n\n/**\n * Props:\n *  - buttonSubmit: ButtonSubmitObject (required)\n *  - output?: (self: ButtonSubmitObject, e?: any) => void\n *\n * Behavior:\n *  - Triggered by mousedown / keydown(Enter|Space) / click\n *  - On trigger → loading=true, disabled=true, icon visible\n *  - While loading → disabled, icon visible\n *  - When loading=false → icon hidden, enabled again\n */\nexport const AlloyButtonSubmit = forwardRef(function AlloyButtonSubmit({ buttonSubmit, output }, ref) {\n  if (!buttonSubmit || !(buttonSubmit instanceof ButtonSubmitObject)) {\n    throw new Error(\"AlloyButtonSubmit requires `buttonSubmit` (ButtonSubmitObject instance).\");\n  }\n\n  const elRef = useRef(null);\n  const autoId = useRef(buttonSubmit.id);\n\n  const [loading, setLoading] = useState(!!buttonSubmit.loading);\n\n  useEffect(() => {\n    setLoading(!!buttonSubmit.loading);\n  }, [buttonSubmit.loading]);\n\n  const isDisabled = buttonSubmit.disabled || loading;\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      el: elRef.current,\n      model: buttonSubmit,\n      focus: () => elRef.current?.focus(),\n      click: () => elRef.current?.click(),\n    }),\n    [buttonSubmit]\n  );\n\n  const firedRef = useRef(false);\n  useEffect(() => {\n    if (!loading) firedRef.current = false;\n  }, [loading]);\n\n  const arm = () => {\n    if (firedRef.current || isDisabled) return false;\n    firedRef.current = true;\n\n    // Update model + internal\n    buttonSubmit.loading = true;\n    buttonSubmit.disabled = true;\n    setLoading(true);\n\n    return true;\n  };\n\n  const emit = (e, handler) => {\n    output?.(buttonSubmit, e);\n    handler?.(e, buttonSubmit);\n  };\n\n  const handleClick = (e) => {\n    if (arm()) emit(e, buttonSubmit.onClick);\n  };\n\n  const handleMouseDown = (e) => {\n    if (arm()) emit(e, buttonSubmit.onMouseDown);\n  };\n\n  const handleKeyDown = (e) => {\n    const key = e.key;\n    if (key === \"Enter\" || key === \" \") {\n      if (arm()) emit(e, buttonSubmit.onKeyDown);\n    }\n  };\n\n  const showIcon = loading;\n\n  return (\n    <button\n      id={autoId.current}\n      ref={elRef}\n      type=\"submit\"\n      className={buttonSubmit.className}\n      title={buttonSubmit.title}\n      aria-label={buttonSubmit.ariaLabel || buttonSubmit.name}\n      aria-busy={loading || undefined}\n      aria-disabled={isDisabled || undefined}\n      disabled={isDisabled}\n      tabIndex={buttonSubmit.tabIndex}\n      onClick={handleClick}\n      onMouseDown={handleMouseDown}\n      onKeyDown={handleKeyDown}\n    >\n      {showIcon && (\n        <span className=\"d-inline-flex align-middle\">\n          <AlloyIcon icon={buttonSubmit.icon} />\n        </span>\n      )}\n      <span className={showIcon ? \"px-2 align-middle\" : \"align-middle\"}>\n        {buttonSubmit.name}\n      </span>\n\n      {loading ? (\n        <span className=\"ms-2 visually-hidden\" aria-live=\"polite\">\n          Loading…\n        </span>\n      ) : null}\n    </button>\n  );\n});\n\nexport default AlloyButtonSubmit;\n","import React, { useState } from \"react\";\nimport { AlloyIcon, IconObject } from \"./AlloyIcon\";\n\n/** Auto-incrementing ID for input fields */\nlet __inputCounter = 0;\nfunction nextInputId() {\n  __inputCounter += 1;\n  return `alloyinput${__inputCounter}`;\n}\n\nexport class InputObject {\n  constructor(params) {\n    const {\n      id,\n      name,\n      type = \"text\",\n      label = \"\",\n      value = type === \"checkbox\" ? [] : \"\",\n      layout = \"text\",\n      icon,\n      placeholder = \"\",\n      required = false,\n      minLength,\n      maxLength,\n      min,\n      max,\n      pattern,\n      matchWith,\n      passwordStrength,\n      options = [],\n      validators = [],\n      ...rest\n    } = params || {};\n\n    if (!name) throw new Error(\"InputObject requires a 'name' field\");\n    if ([\"icon\", \"floating\"].includes(layout) && !icon)\n      throw new Error(\"Icon is required for icon and floating layouts\");\n\n    this.id = id ?? nextInputId();\n    this.name = name;\n    this.type = type;\n    this.label = label;\n    this.value = value;\n    this.layout = layout;\n    this.icon = icon instanceof IconObject ? icon : (icon ? new IconObject(icon) : undefined);\n    this.placeholder = placeholder;\n    this.required = required;\n    this.minLength = minLength;\n    this.maxLength = maxLength;\n    this.min = min;\n    this.max = max;\n    this.pattern = pattern;\n    this.matchWith = matchWith;\n    this.passwordStrength = passwordStrength;\n    this.options = options;\n    this.validators = validators;\n    Object.assign(this, rest);\n  }\n}\n\nexport function AlloyInput({ input, output }) {\n  const [val, setVal] = useState(input.value);\n  const [touched, setTouched] = useState(false);\n\n  const validate = (v) => {\n    const errs = [];\n    const trimmed = typeof v === \"string\" ? v.trim() : v;\n    if (input.required) {\n      if (\n        (Array.isArray(trimmed) && trimmed.length === 0) ||\n        (!Array.isArray(trimmed) && (trimmed === \"\" || trimmed === false))\n      ) {\n        errs.push(\"This field is required.\");\n      }\n    }\n    if (input.minLength && typeof trimmed === \"string\" && trimmed.length < input.minLength)\n      errs.push(`Minimum length is ${input.minLength}`);\n    if (input.maxLength && typeof trimmed === \"string\" && trimmed.length > input.maxLength)\n      errs.push(`Maximum length is ${input.maxLength}`);\n    if (input.pattern && typeof trimmed === \"string\" && !(new RegExp(input.pattern).test(trimmed)))\n      errs.push(\"Invalid format.\");\n    if (input.passwordStrength && typeof trimmed === \"string\" && !/(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{8,}/.test(trimmed))\n      errs.push(\"Password is too weak.\");\n    return errs;\n  };\n\n  const emit = (v) => {\n    const errors = validate(v);\n    output?.({\n      id: input.id,\n      name: input.name,\n      value: v,\n      valid: errors.length === 0,\n      error: errors.length > 0,\n      errors,\n    });\n  };\n\n  const onBlur = () => setTouched(true);\n\n  const showError = touched && validate(val).length > 0;\n  const errorBlock = showError && (\n    <div className=\"mt-2\" aria-live=\"polite\">\n      {validate(val).map((msg, i) => (\n        <div key={i} className=\"alert alert-danger py-2 mb-2\" role=\"alert\">\n          {msg}\n        </div>\n      ))}\n    </div>\n  );\n\n  const common = {\n    name: input.name,\n    placeholder: input.placeholder,\n    onBlur,\n    \"aria-invalid\": showError || undefined,\n  };\n\n  const handleChange = (e) => {\n    const v = e.target.value;\n    if (input.type === \"checkbox\") {\n      const valueArr = Array.isArray(val) ? [...val] : [];\n      const idx = valueArr.indexOf(v);\n      if (idx > -1) {\n        valueArr.splice(idx, 1);\n      } else {\n        valueArr.push(v);\n      }\n      setVal(valueArr);\n      emit(valueArr);\n    } else {\n      setVal(v);\n      emit(v);\n    }\n  };\n\n  const renderInput = () => {\n    if (input.type === \"textarea\") {\n      return <textarea {...common} value={val} className={`form-control${showError ? \" is-invalid\" : \"\"}`} />;\n    }\n\n    if (input.type === \"select\") {\n      return (\n        <select {...common} value={val} className={`form-select${showError ? \" is-invalid\" : \"\"}`} onChange={handleChange}>\n          {input.options.map((o) => (\n            <option key={o.value} value={o.value}>{o.label}</option>\n          ))}\n        </select>\n      );\n    }\n\n    if (input.type === \"radio\") {\n      return (\n        <div>\n          <label className=\"form-label d-block mb-2\">{input.label}</label>\n          {input.options.map((o, i) => (\n            <div className=\"form-check\" key={i}>\n              <input\n                type=\"radio\"\n                id={`${input.id}_${i}`}\n                className={`form-check-input${showError ? \" is-invalid\" : \"\"}`}\n                name={input.name}\n                value={o.value}\n                checked={val === o.value}\n                onChange={(e) => {\n                  setVal(e.target.value);\n                  emit(e.target.value);\n                }}\n              />\n              <label className=\"form-check-label\" htmlFor={`${input.id}_${i}`}>\n                {o.label}\n              </label>\n            </div>\n          ))}\n        </div>\n      );\n    }\n\n    if (input.type === \"checkbox\") {\n      return (\n        <div>\n          <label className=\"form-label d-block mb-2\">{input.label}</label>\n          {input.options.map((o, i) => (\n            <div className=\"form-check\" key={i}>\n              <input\n                type=\"checkbox\"\n                id={`${input.id}_${i}`}\n                className={`form-check-input${showError ? \" is-invalid\" : \"\"}`}\n                name={input.name}\n                value={o.value}\n                checked={Array.isArray(val) && val.includes(o.value)}\n                onChange={handleChange}\n              />\n              <label className=\"form-check-label\" htmlFor={`${input.id}_${i}`}>\n                {o.label}\n              </label>\n            </div>\n          ))}\n        </div>\n      );\n    }\n\n    return <input {...common} type={input.type} value={val} onChange={handleChange} className={`form-control${showError ? \" is-invalid\" : \"\"}`} />;\n  };\n\n  if (input.layout === \"floating\") {\n    return (\n      <div className=\"mb-3\">\n        <div className=\"form-floating\">\n          {renderInput()}\n          <label htmlFor={input.id}>\n            {input.icon && <AlloyIcon icon={input.icon} />} {input.label}\n          </label>\n        </div>\n        {errorBlock}\n      </div>\n    );\n  }\n\n  if (input.layout === \"icon\") {\n    return (\n      <div className=\"mb-3\">\n        <label htmlFor={input.id} className=\"form-label\">\n          {input.label}\n        </label>\n        <div className=\"input-group\">\n          <span className=\"input-group-text\">\n            <AlloyIcon icon={input.icon} />\n          </span>\n          {renderInput()}\n        </div>\n        {errorBlock}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"mb-3\">\n      {[\"text\", \"textarea\", \"number\", \"email\", \"password\", \"date\"].includes(input.type) && (\n        <label htmlFor={input.id} className=\"form-label\">{input.label}</label>\n      )}\n      {renderInput()}\n      {errorBlock}\n    </div>\n  );\n}\n\nexport default AlloyInput;\n"],"names":["__iconCounter","nextIconId","IconObject","id","iconClass","AlloyIcon","icon","jsx","__linkCounter","nextLinkId","useActiveClass","className","active","hovered","setHovered","useState","pressed","setPressed","focused","setFocused","useMemo","LinkObject","name","href","target","rel","onClick","title","AlloyLink","link","autoId","useRef","events","__iconLinkCounter","nextLinkIconId","useActiveClassIcon","h","setH","p","setP","f","setF","LinkIconObject","AlloyLinkIcon","linkIcon","hasLabel","__logoLinkCounter","nextLogoLinkId","useActiveClassLogo","LinkLogoObject","logo","width","height","logoAlt","AlloyLinkLogo","linkLogo","__btnCounter","nextButtonId","ButtonObject","AlloyButton","forwardRef","button","output","ref","elRef","isDisabled","useImperativeHandle","_a","emitThen","handler","alsoCallInternal","e","mergedEvents","__btnIconCounter","nextButtonIconId","ButtonIconObject","AlloyButtonIcon","buttonIcon","ariaLabel","jsxs","__btnSubmitCounter","nextSubmitId","ButtonSubmitObject","AlloyButtonSubmit","buttonSubmit","loading","setLoading","useEffect","firedRef","arm","emit","handleClick","handleMouseDown","handleKeyDown","key","showIcon","__inputCounter","nextInputId","InputObject","params","type","label","value","layout","placeholder","required","minLength","maxLength","min","max","pattern","matchWith","passwordStrength","options","validators","rest","AlloyInput","input","val","setVal","touched","setTouched","validate","v","errs","trimmed","errors","onBlur","showError","errorBlock","msg","i","common","handleChange","valueArr","idx","renderInput","o"],"mappings":"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"}