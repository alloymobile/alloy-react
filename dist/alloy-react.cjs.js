"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("react/jsx-runtime"),p=require("react");require("react-dom");function ft(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const s in e)if(s!=="default"){const n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:()=>e[s]})}}return t.default=e,Object.freeze(t)}const w=ft(p);function S(e="id"){const t=Date.now(),s=Math.random().toString(36).slice(2,7);return`${e}-${t}-${s}`}class N{constructor(t={}){const{id:s,name:n,className:i}=t;this.id=s??S("tag"),this.name=n??"",this.className=i??""}}class U{constructor(t={}){const{id:s,type:n="",action:i="",data:r={},error:c=!1}=t||{},l=typeof s<"u"?s:r&&typeof r.id<"u"?r.id:"";this.id=l,this.type=n,this.action=i,this.error=!!c,this.data={...r}}static ok({id:t="",type:s="",action:n="",data:i={}}={}){return new U({id:t,type:s,action:n,error:!1,data:i})}static errorOf({id:t="",type:s="",action:n="",message:i="",data:r={}}={}){const c={...r};return i&&c.message==null&&(c.message=String(i)),new U({id:t,type:s,action:n,error:!0,data:c})}addError(t,s={}){this.error=!0;const n={...this.data,...s};return t&&n.message==null&&(n.message=String(t)),this.data=n,this}clearError(){return this.error=!1,this}toJSON(){return{id:this.id,type:this.type,action:this.action,error:this.error,data:{...this.data}}}}class L{constructor(t={}){if(!t.iconClass)throw new Error("IconObject requires `iconClass`.");this.id=t.id??S("icon"),this.iconClass=t.iconClass}}function P({icon:e}){if(!e)throw new Error("AlloyIcon requires `icon` prop (Icon instance).");return a.jsx("i",{id:e.id,className:e.iconClass,"aria-hidden":"true"})}function mt(e="",t=""){const[s,n]=p.useState(!1),[i,r]=p.useState(!1),[c,l]=p.useState(!1);return{className:p.useMemo(()=>[e,(s||i||c)&&t].filter(Boolean).join(" "),[e,t,s,i,c]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),r(!1)},onMouseDown:()=>r(!0),onMouseUp:()=>r(!1),onFocus:()=>l(!0),onBlur:()=>l(!1)}}}class G{constructor(t={}){if(!t.href)throw new Error("LinkObject requires `href`.");if(!t.name)throw new Error("LinkObject requires `name`.");this.id=t.id??S("link"),this.name=t.name,this.href=t.href,this.className=t.className??"nav-link",this.active=t.active??"",this.target=t.target,this.rel=t.rel,this.onClick=t.onClick,this.title=t.title??t.name}}function Me({link:e}){if(!e||!(e instanceof G))throw new Error("AlloyLink requires `link` (LinkObject instance).");const t=p.useRef(e.id),{className:s,events:n}=mt(e.className,e.active),i=e.target==="_blank"?e.rel?`${e.rel} noopener noreferrer`:"noopener noreferrer":e.rel;return a.jsx("a",{id:t.current,href:e.href,className:s,target:e.target,rel:i,onClick:e.onClick,title:e.title,...n,children:a.jsx("span",{children:e.name})})}function yt(e="",t=""){const[s,n]=p.useState(!1),[i,r]=p.useState(!1),[c,l]=p.useState(!1);return{className:p.useMemo(()=>[e,(s||i||c)&&t].filter(Boolean).join(" "),[e,t,s,i,c]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),r(!1)},onMouseDown:()=>r(!0),onMouseUp:()=>r(!1),onFocus:()=>l(!0),onBlur:()=>l(!1)}}}class Y{constructor(t={}){if(!t.href)throw new Error("LinkIconObject requires `href`.");if(!t.icon)throw new Error("LinkIconObject requires `icon`.");const s=t.icon instanceof L?t.icon:new L(t.icon);this.id=t.id??S("link-icon"),this.href=t.href,this.icon=s,this.name=t.name,this.className=t.className??"nav-link",this.active=t.active??"",this.target=t.target,this.rel=t.rel,this.onClick=t.onClick,this.title=t.title??t.name}}function _e({linkIcon:e}){if(!e||!(e instanceof Y))throw new Error("AlloyLinkIcon requires `linkIcon` (LinkIconObject instance).");const t=p.useRef(e.id),{className:s,events:n}=yt(e.className,e.active),i=e.target==="_blank"?e.rel?`${e.rel} noopener noreferrer`:"noopener noreferrer":e.rel,r=!!e.name;return a.jsx("a",{id:t.current,href:e.href,className:s,target:e.target,rel:i,onClick:e.onClick,title:e.title,...n,children:a.jsxs("span",{className:"d-inline-flex align-items-center",children:[a.jsx(P,{icon:e.icon}),r&&a.jsx("span",{className:"px-1",children:e.name})]})})}function pt(e="",t=""){const[s,n]=p.useState(!1),[i,r]=p.useState(!1),[c,l]=p.useState(!1);return{className:p.useMemo(()=>[e,(s||i||c)&&t].filter(Boolean).join(" "),[e,t,s,i,c]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),r(!1)},onMouseDown:()=>r(!0),onMouseUp:()=>r(!1),onFocus:()=>l(!0),onBlur:()=>l(!1)}}}class z{constructor(t={}){if(!t.href)throw new Error("LinkLogoObject requires `href`.");if(!t.logo)throw new Error("LinkLogoObject requires `logo`.");this.id=t.id??S("link-logo"),this.name=t.name,this.href=t.href,this.logo=t.logo,this.width=t.width,this.height=t.height,this.logoAlt=t.logoAlt??t.name??"",this.className=t.className??"nav-link",this.active=t.active??"",this.target=t.target,this.rel=t.rel,this.onClick=t.onClick,this.title=t.title??t.name}}function Ce({linkLogo:e}){if(!e||!(e instanceof z))throw new Error("AlloyLinkLogo requires `linkLogo` (LinkLogoObject instance).");const t=p.useRef(e.id),{className:s,events:n}=pt(e.className,e.active),i=e.target==="_blank"?e.rel?`${e.rel} noopener noreferrer`:"noopener noreferrer":e.rel,r=!!e.name;return a.jsx("a",{id:t.current,href:e.href,className:s,target:e.target,rel:i,onClick:e.onClick,title:e.title,...n,children:a.jsxs("span",{className:"d-inline-flex align-items-center",children:[a.jsx("img",{src:e.logo,alt:e.logoAlt||e.name||"",width:e.width,height:e.height,style:{display:"inline-block"}}),r&&a.jsx("span",{className:"px-1",children:e.name})]})})}function xt(e="",t=""){const[s,n]=p.useState(!1),[i,r]=p.useState(!1),[c,l]=p.useState(!1);return{className:p.useMemo(()=>[e,(s||i||c)&&t].filter(Boolean).join(" "),[e,t,s,i,c]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),r(!1)},onMouseDown:()=>r(!0),onMouseUp:()=>r(!1),onFocus:()=>l(!0),onBlur:()=>l(!1)}}}class Z{constructor(t={}){if(!t.name)throw new Error("ButtonObject requires `name`.");this.id=t.id??S("btn"),this.name=t.name,this.className=t.className??"btn btn-primary",this.active=t.active??"",this.disabled=!!t.disabled,this.title=t.title??t.name,this.ariaLabel=t.ariaLabel??t.name,this.tabIndex=t.tabIndex,this.onClick=t.onClick,this.onKeyDown=t.onKeyDown,this.onKeyUp=t.onKeyUp,this.onFocus=t.onFocus,this.onBlur=t.onBlur,this.onMouseEnter=t.onMouseEnter,this.onMouseLeave=t.onMouseLeave}}const Ke=p.forwardRef(function({button:t,output:s},n){if(!t||!(t instanceof Z))throw new Error("AlloyButton requires `button` (ButtonObject instance).");const i=p.useRef(null),r=p.useRef(t.id),c=t.disabled,{className:l,events:d}=xt(t.className,t.active);p.useImperativeHandle(n,()=>({el:i.current,model:t,focus:()=>{var u;return(u=i.current)==null?void 0:u.focus()},click:()=>{var u;return(u=i.current)==null?void 0:u.click()}}),[t]);const o=(u,f,y)=>m=>{if(f==null||f(m),typeof s=="function"){const v=U.ok({id:t.id,type:"button",action:y,data:{name:t.name}});s(v)}u==null||u(m,t)},h={onClick:o(t.onClick,void 0,"click"),onKeyDown:o(t.onKeyDown,d.onFocus,"keydown"),onKeyUp:o(t.onKeyUp,void 0,"keyup"),onFocus:o(t.onFocus,d.onFocus,"focus"),onBlur:o(t.onBlur,d.onBlur,"blur"),onMouseEnter:o(t.onMouseEnter,d.onMouseEnter,"mouseenter"),onMouseLeave:o(t.onMouseLeave,d.onMouseLeave,"mouseleave"),onMouseDown:o(void 0,d.onMouseDown,"mousedown"),onMouseUp:o(void 0,d.onMouseUp,"mouseup")};return a.jsx("button",{id:r.current,ref:i,type:"button",className:l,title:t.title,"aria-label":t.ariaLabel,"aria-disabled":c||void 0,disabled:c,tabIndex:t.tabIndex,...h,children:a.jsx("span",{className:"px-2 align-middle",children:t.name})})});function vt(e="",t=""){const[s,n]=p.useState(!1),[i,r]=p.useState(!1),[c,l]=p.useState(!1);return{className:p.useMemo(()=>[e,(s||i||c)&&t].filter(Boolean).join(" "),[e,t,s,i,c]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),r(!1)},onMouseDown:()=>r(!0),onMouseUp:()=>r(!1),onFocus:()=>l(!0),onBlur:()=>l(!1)}}}class V{constructor(t={}){if(!t.icon)throw new Error("ButtonIconObject requires `icon`.");this.id=t.id??S("btn-icon"),this.name=t.name,this.className=t.className??"btn btn-primary",this.active=t.active??"",this.disabled=!!t.disabled;const s=this.name||"icon button";this.title=t.title??s,this.ariaLabel=t.ariaLabel??s,this.tabIndex=t.tabIndex,this.icon=t.icon instanceof L?t.icon:new L(t.icon),this.onClick=t.onClick,this.onKeyDown=t.onKeyDown,this.onKeyUp=t.onKeyUp,this.onFocus=t.onFocus,this.onBlur=t.onBlur,this.onMouseEnter=t.onMouseEnter,this.onMouseLeave=t.onMouseLeave}}const se=p.forwardRef(function({buttonIcon:t,output:s},n){if(!t||!(t instanceof V))throw new Error("AlloyButtonIcon requires `buttonIcon` (ButtonIconObject instance).");const i=p.useRef(null),r=p.useRef(t.id),c=t.disabled,{className:l,events:d}=vt(t.className,t.active);p.useImperativeHandle(n,()=>({el:i.current,model:t,focus:()=>{var u;return(u=i.current)==null?void 0:u.focus()},click:()=>{var u;return(u=i.current)==null?void 0:u.click()}}),[t]);const o=(u,f,y,m)=>v=>{if(f==null||f(v),m&&typeof s=="function"){const x=U.ok({id:t.id,type:"button-icon",action:y,data:{name:t.name}});s(x)}u==null||u(v,t)},h={onClick:o(t.onClick,void 0,"click",!0),onKeyDown:o(t.onKeyDown,d.onFocus,"keydown",!0),onKeyUp:o(t.onKeyUp,void 0,"keyup",!1),onFocus:o(t.onFocus,d.onFocus,"focus",!1),onBlur:o(t.onBlur,d.onBlur,"blur",!1),onMouseEnter:o(t.onMouseEnter,d.onMouseEnter,"mouseenter",!1),onMouseLeave:o(t.onMouseLeave,d.onMouseLeave,"mouseleave",!1),onMouseDown:o(void 0,d.onMouseDown,"mousedown",!1),onMouseUp:o(void 0,d.onMouseUp,"mouseup",!1)};return a.jsxs("button",{id:r.current,ref:i,type:"button",className:l,title:t.title,"aria-label":t.ariaLabel,"aria-disabled":c||void 0,disabled:c,tabIndex:t.tabIndex,...h,children:[a.jsx("span",{className:"align-middle",children:a.jsx(P,{icon:t.icon})}),t.name&&a.jsx("span",{className:"px-2 align-middle",children:t.name})]})});class ne{constructor(t={}){if(!t.name)throw new Error("ButtonSubmitObject requires `name`.");if(!t.icon)throw new Error("ButtonSubmitObject requires `icon`.");const s=t.icon instanceof L?t.icon:new L(t.icon);this.id=t.id??S("btn-submit"),this.name=t.name,this.icon=s,this.className=t.className??"",this.disabled=!!t.disabled,this.loading=!!t.loading,this.title=t.title??t.name,this.ariaLabel=t.ariaLabel??t.name,this.tabIndex=t.tabIndex,this.onClick=t.onClick,this.onMouseDown=t.onMouseDown,this.onKeyDown=t.onKeyDown}}const We=p.forwardRef(function({buttonSubmit:t,output:s},n){if(!t||!(t instanceof ne))throw new Error("AlloyButtonSubmit requires `buttonSubmit` (ButtonSubmitObject instance).");const i=p.useRef(null),r=p.useRef(t.id),[c,l]=p.useState(!!t.loading),d=p.useRef(!1);p.useEffect(()=>{const x=!!t.loading;l(x),x||(d.current=!1)},[t.loading]);const o=t.disabled||c;p.useImperativeHandle(n,()=>({el:i.current,model:t,focus:()=>{var x;return(x=i.current)==null?void 0:x.focus()},click:()=>{var x;return(x=i.current)==null?void 0:x.click()}}),[t]);const h=()=>d.current||o?!1:(d.current=!0,t.loading=!0,t.disabled=!0,l(!0),!0),u=(x,b,j)=>{if(typeof s=="function"){const k=new U({id:t.id,type:"button-submit",action:j,error:!1,data:{name:t.name}});s(k)}b==null||b(x,t)},f=x=>{h()&&u(x,t.onClick,"click")},y=x=>{h()&&u(x,t.onMouseDown,"mousedown")},m=x=>{const b=x.key;(b==="Enter"||b===" ")&&h()&&u(x,t.onKeyDown,"keydown")},v=c;return a.jsxs("button",{id:r.current,ref:i,type:"submit",className:t.className,title:t.title,"aria-label":t.ariaLabel,"aria-busy":c||void 0,"aria-disabled":o||void 0,disabled:o,tabIndex:t.tabIndex,onClick:f,onMouseDown:y,onKeyDown:m,children:[v&&a.jsx("span",{className:"d-inline-flex align-middle",children:a.jsx(P,{icon:t.icon})}),a.jsx("span",{className:v?"px-2 align-middle":"align-middle",children:t.name}),c?a.jsx("span",{className:"ms-2 visually-hidden","aria-live":"polite",children:"Loading…"}):null]})});class fe{constructor(t={}){const{id:s,name:n,type:i="text",label:r="",value:c,layout:l="text",icon:d,placeholder:o="",required:h=!1,minLength:u,maxLength:f,min:y,max:m,pattern:v,matchWith:x,passwordStrength:b,className:j,options:k=[],validators:O=[],...C}=t;if(!n)throw new Error("InputObject requires `name`.");if((l==="icon"||l==="floating")&&!d)throw new Error("InputObject with layout='icon' or 'floating' requires `icon`.");let E;typeof c<"u"?E=c:i==="checkbox"?E=[]:E="";const A=d instanceof L?d:d?new L(d):void 0;this.id=s??S("input"),this.name=n,this.type=i,this.label=r,this.value=E,this.layout=l,this.icon=A,this.placeholder=o,this.required=!!h,this.minLength=u,this.maxLength=f,this.min=y,this.max=m,this.pattern=v,this.matchWith=x,this.passwordStrength=b,typeof j=="string"&&j.trim()!==""?this.className=j.trim():i==="select"?this.className="form-select":i==="radio"||i==="checkbox"?this.className="form-check-input":this.className="form-control",this.options=k,this.validators=O,Object.assign(this,C)}}function Ee({input:e,output:t}){const[s,n]=p.useState(e.value),[i,r]=p.useState(!1);p.useEffect(()=>{n(e.value),r(!1)},[e.value,e.required,e.minLength,e.maxLength,e.min,e.max,e.pattern,e.passwordStrength,e.matchWith,e.type,e.layout,e.options]);const c=C=>{const E=[],A=typeof C=="string"?C.trim():C;if(e.required){const $=Array.isArray(A)&&A.length===0,g=!Array.isArray(A)&&(A===""||A===!1||A==null);($||g)&&E.push("This field is required.")}return typeof A=="string"&&e.minLength!=null&&A.length<e.minLength&&E.push(`Minimum length is ${e.minLength}`),typeof A=="string"&&e.maxLength!=null&&A.length>e.maxLength&&E.push(`Maximum length is ${e.maxLength}`),typeof A=="string"&&e.pattern&&e.pattern!==""&&(new RegExp(e.pattern).test(A)||E.push("Invalid format.")),e.passwordStrength&&typeof A=="string"&&(/(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}/.test(A)||E.push("Password is too weak.")),E},l=c(s),d=i&&l.length>0,o=d&&l.length>0&&a.jsx("div",{className:"mt-2","aria-live":"polite",children:l.map((C,E)=>a.jsx("div",{className:"alert alert-danger py-2 mb-2",role:"alert",children:C},E))}),h=(C,E="change")=>{const A=c(C),$=A.length>0;if(typeof t=="function"){const g=new U({id:e.id,type:"input",action:E,error:$,data:{name:e.name,value:C,errors:A}});t(g)}},u=C=>{const E=C.target.value;if(e.type==="checkbox"){const A=Array.isArray(s)?[...s]:[],$=A.indexOf(E);$>-1?A.splice($,1):A.push(E),n(A),h(A,"change")}else e.type,n(E),h(E,"change")},f=()=>{r(!0),h(s,"blur")},y={id:e.id,name:e.name,placeholder:e.placeholder,onBlur:f,"aria-invalid":d||void 0},m=C=>C+(d?" is-invalid":""),v=()=>a.jsx("textarea",{...y,value:s,onChange:u,className:m(e.className)}),x=()=>a.jsx("select",{...y,value:s,onChange:u,className:m(e.className),children:e.options.map(C=>a.jsx("option",{value:C.value,children:C.label},C.value))}),b=()=>a.jsxs("div",{children:[e.label&&a.jsx("label",{className:"form-label d-block mb-2",children:e.label}),e.options.map((C,E)=>a.jsxs("div",{className:"form-check",children:[a.jsx("input",{type:"radio",id:`${e.id}_${E}`,className:m(e.className),name:e.name,value:C.value,checked:s===C.value,onChange:u,onBlur:f,"aria-invalid":d||void 0}),a.jsx("label",{className:"form-check-label",htmlFor:`${e.id}_${E}`,children:C.label})]},E)),o]}),j=()=>a.jsxs("div",{children:[e.label&&a.jsx("label",{className:"form-label d-block mb-2",children:e.label}),e.options.map((C,E)=>a.jsxs("div",{className:"form-check",children:[a.jsx("input",{type:"checkbox",id:`${e.id}_${E}`,className:m(e.className),name:e.name,value:C.value,checked:Array.isArray(s)&&s.includes(C.value),onChange:u,onBlur:f,"aria-invalid":d||void 0}),a.jsx("label",{className:"form-check-label",htmlFor:`${e.id}_${E}`,children:C.label})]},E)),o]}),k=()=>a.jsx("input",{...y,type:e.type,value:s,onChange:u,className:m(e.className)}),O=()=>{switch(e.type){case"textarea":return v();case"select":return x();case"radio":return b();case"checkbox":return j();default:return k()}};return e.layout==="floating"?a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"form-floating",children:[O(),a.jsxs("label",{htmlFor:e.id,children:[e.icon&&a.jsx(P,{icon:e.icon}),e.icon&&" ",e.label]})]}),!(e.type==="radio"||e.type==="checkbox")&&o]}):e.layout==="icon"?a.jsxs("div",{className:"mb-3",children:[e.label&&a.jsx("label",{htmlFor:e.id,className:"form-label",children:e.label}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:a.jsx(P,{icon:e.icon})}),["radio","checkbox"].includes(e.type)?O():a.jsx("input",{...y,type:e.type,value:s,onChange:u,className:m(e.className)})]}),!(e.type==="radio"||e.type==="checkbox")&&o]}):a.jsxs("div",{className:"mb-3",children:[["text","textarea","number","email","password","date"].includes(e.type)&&e.label&&a.jsx("label",{htmlFor:e.id,className:"form-label",children:e.label}),O(),!(e.type==="radio"||e.type==="checkbox")&&o]})}class M{constructor(t={}){this.id=t.id??S("linkBar"),this.className=t.className??"d-flex justify-content-center",this.type=t.type??"AlloyLink",this.linkClass=t.linkClass??"nav-item",this.selected=t.selected??"active",t.title instanceof N?this.title=t.title:t.title?this.title=new N(t.title):this.title=new N({});const s=Array.isArray(t.links)?t.links:[];this.type==="AlloyLinkIcon"?this.links=s.map(n=>n instanceof Y?n:new Y(n)):this.type==="AlloyLinkLogo"?this.links=s.map(n=>n instanceof z?n:new z(n)):this.links=s.map(n=>n instanceof G?n:new G(n))}}function Nt(e,t,s,n){const i=s?t:"";return e instanceof G?new G({id:e.id,name:e.name,href:e.href,className:e.className,active:i,target:e.target,rel:e.rel,onClick:n,title:e.title}):e instanceof Y?new Y({id:e.id,href:e.href,icon:e.icon,name:e.name,className:e.className,active:i,target:e.target,rel:e.rel,onClick:n,title:e.title}):e instanceof z?new z({id:e.id,name:e.name,href:e.href,logo:e.logo,width:e.width,height:e.height,logoAlt:e.logoAlt,className:e.className,active:i,target:e.target,rel:e.rel,onClick:n,title:e.title}):e}function ae({linkBar:e}){if(!e||!(e instanceof M))throw new Error("AlloyLinkBar requires `linkBar` (LinkBarObject instance).");const t=p.useRef(e.id),[s,n]=p.useState("");p.useEffect(()=>{n("")},[e]);const i=()=>e.title&&e.title.name?a.jsx("div",{id:e.title.id,className:e.title.className,children:e.title.name}):null;function r(l){const d=l.onClick;return o=>{const h=l.id||`${l.href||""}-${l.name||""}`;n(h),d==null||d(o)}}function c(){return a.jsx("ul",{id:t.current,className:e.className,children:e.links.map((l,d)=>{const o=((l==null?void 0:l.id)??"")===s,h=Nt(l,e.selected,o,r(l));switch(e.type){case"AlloyLink":if(!(h instanceof G))throw new Error("AlloyLinkBar (type='AlloyLink') expects each link to be a LinkObject instance.");return a.jsx("li",{className:e.linkClass,children:a.jsx(Me,{link:h})},((l==null?void 0:l.id)??d)+"-li");case"AlloyLinkIcon":if(!(h instanceof Y))throw new Error("AlloyLinkBar (type='AlloyLinkIcon') expects each link to be a LinkIconObject instance.");return a.jsx("li",{className:e.linkClass,children:a.jsx(_e,{linkIcon:h})},((l==null?void 0:l.id)??d)+"-li");case"AlloyLinkLogo":if(!(h instanceof z))throw new Error("AlloyLinkBar (type='AlloyLinkLogo') expects each link to be a LinkLogoObject instance.");return a.jsx("li",{className:e.linkClass,children:a.jsx(Ce,{linkLogo:h})},((l==null?void 0:l.id)??d)+"-li");default:throw new Error(`Unsupported linkBar.type "${e.type}".`)}})})}return a.jsxs("nav",{"data-type":e.type,children:[a.jsx(i,{}),c()]})}class _{constructor(t={}){this.id=t.id??S("buttonBar"),this.className=t.className??"d-flex justify-content-center",this.type=t.type??"AlloyButton",this.buttonClass=t.buttonClass??"nav-item",this.selected=t.selected??"active",t.title instanceof N?this.title=t.title:t.title?this.title=new N(t.title):this.title=new N({});const s=Array.isArray(t.buttons)?t.buttons:[];this.type==="AlloyButtonIcon"?this.buttons=s.map(n=>n instanceof V?n:new V(n)):this.buttons=s.map(n=>n instanceof Z?n:new Z(n))}}function Te(e,t,s,n,i){const r=s?t:"";function c(l){var h,u;if(!l)return;if((l.action||((h=l==null?void 0:l.data)==null?void 0:h.event)||"")==="click"){const f=((u=l==null?void 0:l.data)==null?void 0:u.id)??"";f&&n(f)}i==null||i(l)}return e instanceof Z?{model:new Z({id:e.id,name:e.name,className:e.className,active:r,disabled:e.disabled,title:e.title,ariaLabel:e.ariaLabel,tabIndex:e.tabIndex,onClick:e.onClick,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onFocus:e.onFocus,onBlur:e.onBlur,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}),onAnyEvent:c}:e instanceof V?{model:new V({id:e.id,name:e.name,icon:e.icon,className:e.className,active:r,disabled:e.disabled,title:e.title,ariaLabel:e.ariaLabel,tabIndex:e.tabIndex,onClick:e.onClick,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onFocus:e.onFocus,onBlur:e.onBlur,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}),onAnyEvent:c}:{model:e,onAnyEvent:c}}function ie({buttonBar:e,output:t}){if(!e||!(e instanceof _))throw new Error("AlloyButtonBar requires `buttonBar` (ButtonBarObject instance).");const s=p.useRef(e.id),[n,i]=p.useState("");p.useEffect(()=>{i("")},[e]);const r=()=>e.title&&e.title.name?a.jsx("div",{id:e.title.id,className:e.title.className,children:e.title.name}):null;function c(){return a.jsx("ul",{id:s.current,className:e.className,children:e.buttons.map((o,h)=>{if(!(o instanceof Z))throw new Error("AlloyButtonBar (type='AlloyButton') expects ButtonObject items.");const u=((o==null?void 0:o.id)??"")===n,{model:f,onAnyEvent:y}=Te(o,e.selected,u,i,t);return a.jsx("li",{className:e.buttonClass,children:a.jsx(Ke,{button:f,output:y})},((o==null?void 0:o.id)??h)+"-li")})})}function l(){return a.jsx("ul",{id:s.current,className:e.className,children:e.buttons.map((o,h)=>{if(!(o instanceof V))throw new Error("AlloyButtonBar (type='AlloyButtonIcon') expects ButtonIconObject items.");const u=((o==null?void 0:o.id)??"")===n,{model:f,onAnyEvent:y}=Te(o,e.selected,u,i,t);return a.jsx("li",{className:e.buttonClass,children:a.jsx(se,{buttonIcon:f,output:y})},((o==null?void 0:o.id)??h)+"-li")})})}function d(){switch(e.type){case"AlloyButtonIcon":return l();case"AlloyButton":default:return c()}}return a.jsxs("nav",{"data-type":e.type,children:[a.jsx(r,{}),d()]})}class ze{constructor(t={}){if(this.id=t.id??S("navbar"),this.className=t.className??"navbar navbar-expand-lg navbar-light bg-light",t.logo instanceof z)this.logo=t.logo;else{const s=t.logo??{href:"/",logo:"/logos/alloy.svg",name:"Alloy",width:110,height:28,logoAlt:"Alloy",className:"navbar-brand d-flex align-items-center gap-2"};this.logo=new z(s)}if(t.linkBar instanceof M)this.linkBar=t.linkBar;else{const s=t.linkBar??{};this.linkBar=new M({id:s.id,className:s.className??"navbar-nav ms-auto mb-2 mb-lg-0 gap-2",title:s.title??{name:"",className:"text-center fw-semibold mb-2"},type:s.type??"AlloyLink",linkClass:s.linkClass??"nav-item",selected:s.selected??"active",links:Array.isArray(s.links)?s.links:[]})}}}function wt({navBar:e}){if(!e||!(e instanceof ze))throw new Error("AlloyNavBar requires `navBar` (NavBarObject instance).");const t=p.useRef(e.id),s=`${t.current}-collapse`;return a.jsx("nav",{id:t.current,className:e.className,children:a.jsxs("div",{className:"container-fluid",children:[a.jsx(Ce,{linkLogo:e.logo}),a.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":`#${s}`,"aria-controls":s,"aria-expanded":"false","aria-label":"Toggle navigation",children:a.jsx("span",{className:"navbar-toggler-icon"})}),a.jsx("div",{className:"position-relative navbar-collapse collapse justify-content-end",id:s,children:a.jsx(ae,{linkBar:e.linkBar})})]})})}function jt(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}class He{constructor(t={}){this.id=t.id??S("table"),this.className=t.className??"table",this.name=t.name??"table",this.rows=Array.isArray(t.rows)?t.rows.slice():[];const s={iconClass:"fa-solid fa-user"},n={iconClass:"fa-solid fa-arrow-down"},i=t.icon instanceof L?t.icon:new L(t.icon||s),r=t.sort instanceof L?t.sort:new L(t.sort||n);this.icon=i,this.sort=r}}function gt(e){return!e||e.length===0?[]:Object.keys(e[0]).filter(t=>t!=="id")}function bt({table:e,output:t}){if(!e||!(e instanceof He))throw new Error("AlloyTable requires `table` (TableObject instance).");const s=p.useRef(e.id),[n,i]=p.useState({col:"",dir:"asc"}),r=p.useMemo(()=>gt(e.rows),[e.rows]),c=d=>{if(!d)return;const o=n.col===d&&n.dir==="asc"?"desc":"asc";i({col:d,dir:o}),t==null||t({type:"column",name:d,dir:o})},l=d=>{t==null||t({type:"row",id:d})};return a.jsxs("table",{id:s.current,className:e.className,children:[a.jsx("caption",{className:"caption-top text-center",children:e.name}),a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",children:"Type"}),r.map(d=>{const o=n.col===d,h=o&&n.dir==="desc";return a.jsx("th",{scope:"col",children:a.jsxs("span",{onClick:()=>c(d),style:{userSelect:"none",cursor:"pointer"},children:[jt(d),o&&a.jsx("span",{className:"ms-1 d-inline-flex align-middle","aria-hidden":"true",title:h?"Sorted descending":"Sorted ascending",style:{transform:h?"rotate(180deg)":"none",transition:"transform 120ms"},children:a.jsx(P,{icon:e.sort})})]})},d)})]})}),a.jsx("tbody",{children:e.rows.length>0?e.rows.map((d,o)=>a.jsxs("tr",{onClick:()=>l(d==null?void 0:d.id),style:{cursor:"pointer"},children:[a.jsx("td",{children:a.jsx(P,{icon:e.icon})}),r.map(h=>a.jsx("td",{children:a.jsx("span",{children:d==null?void 0:d[h]})},`${(d==null?void 0:d.id)??o}-${h}`))]},(d==null?void 0:d.id)??o)):a.jsx("tr",{children:a.jsx("td",{colSpan:Math.max(1,r.length)+1,className:"text-center text-secondary",children:"No rows"})})})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},we.apply(this,arguments)}var Fe;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fe||(Fe={}));function T(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function re(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function je(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Je(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var De;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(De||(De={}));function Ue(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=Ct(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let r=i[0],c=r.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((o,h,u)=>{let{paramName:f,isOptional:y}=h;if(f==="*"){let v=l[u]||"";c=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const m=l[u];return y&&!m?o[f]=void 0:o[f]=(m||"").replace(/%2F/g,"/"),o},{}),pathname:r,pathnameBase:c,pattern:e}}function Ct(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),re(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function I(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function Et(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?Je(e):e;return{pathname:s?s.startsWith("/")?s:kt(s,t):t,search:At(n),hash:Lt(i)}}function kt(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function ve(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ot(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Ge(e,t){let s=Ot(e);return t?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Ye(e,t,s,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Je(e):(i=we({},e),T(!i.pathname||!i.pathname.includes("?"),ve("?","pathname","search",i)),T(!i.pathname||!i.pathname.includes("#"),ve("#","pathname","hash",i)),T(!i.search||!i.search.includes("#"),ve("#","search","hash",i)));let r=e===""||i.pathname==="",c=r?"/":i.pathname,l;if(c==null)l=s;else{let u=t.length-1;if(!n&&c.startsWith("..")){let f=c.split("/");for(;f[0]==="..";)f.shift(),u-=1;i.pathname=f.join("/")}l=u>=0?t[u]:"/"}let d=Et(i,l),o=c&&c!=="/"&&c.endsWith("/"),h=(r||c===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(o||h)&&(d.pathname+="/"),d}const ke=e=>e.join("/").replace(/\/\/+/g,"/"),At=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Lt=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ze=["post","put","patch","delete"];new Set(Ze);const Bt=["get",...Ze];new Set(Bt);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ge.apply(this,arguments)}const ye=w.createContext(null);process.env.NODE_ENV!=="production"&&(ye.displayName="DataRouter");const Xe=w.createContext(null);process.env.NODE_ENV!=="production"&&(Xe.displayName="DataRouterState");const St=w.createContext(null);process.env.NODE_ENV!=="production"&&(St.displayName="Await");const H=w.createContext(null);process.env.NODE_ENV!=="production"&&(H.displayName="Navigation");const Oe=w.createContext(null);process.env.NODE_ENV!=="production"&&(Oe.displayName="Location");const te=w.createContext({outlet:null,matches:[],isDataRoute:!1});process.env.NODE_ENV!=="production"&&(te.displayName="Route");const Rt=w.createContext(null);process.env.NODE_ENV!=="production"&&(Rt.displayName="RouteError");function Tt(e,t){let{relative:s}=t===void 0?{}:t;Ae()||(process.env.NODE_ENV!=="production"?T(!1,"useHref() may be used only in the context of a <Router> component."):T(!1));let{basename:n,navigator:i}=w.useContext(H),{hash:r,pathname:c,search:l}=le(e,{relative:s}),d=c;return n!=="/"&&(d=c==="/"?n:ke([n,c])),i.createHref({pathname:d,search:l,hash:r})}function Ae(){return w.useContext(Oe)!=null}function oe(){return Ae()||(process.env.NODE_ENV!=="production"?T(!1,"useLocation() may be used only in the context of a <Router> component."):T(!1)),w.useContext(Oe).location}const Qe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ie(e){w.useContext(H).static||w.useLayoutEffect(e)}function Ft(){let{isDataRoute:e}=w.useContext(te);return e?Vt():Dt()}function Dt(){Ae()||(process.env.NODE_ENV!=="production"?T(!1,"useNavigate() may be used only in the context of a <Router> component."):T(!1));let e=w.useContext(ye),{basename:t,future:s,navigator:n}=w.useContext(H),{matches:i}=w.useContext(te),{pathname:r}=oe(),c=JSON.stringify(Ge(i,s.v7_relativeSplatPath)),l=w.useRef(!1);return Ie(()=>{l.current=!0}),w.useCallback(function(o,h){if(h===void 0&&(h={}),process.env.NODE_ENV!=="production"&&re(l.current,Qe),!l.current)return;if(typeof o=="number"){n.go(o);return}let u=Ye(o,JSON.parse(c),r,h.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:ke([t,u.pathname])),(h.replace?n.replace:n.push)(u,h.state,h)},[t,n,c,r,e])}function le(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=w.useContext(H),{matches:i}=w.useContext(te),{pathname:r}=oe(),c=JSON.stringify(Ge(i,n.v7_relativeSplatPath));return w.useMemo(()=>Ye(e,JSON.parse(c),r,s==="path"),[e,c,r,s])}var et=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(et||{}),Le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Le||{});function tt(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function Ut(e){let t=w.useContext(ye);return t||(process.env.NODE_ENV!=="production"?T(!1,tt(e)):T(!1)),t}function Pt(e){let t=w.useContext(te);return t||(process.env.NODE_ENV!=="production"?T(!1,tt(e)):T(!1)),t}function st(e){let t=Pt(e),s=t.matches[t.matches.length-1];return s.route.id||(process.env.NODE_ENV!=="production"?T(!1,e+' can only be used on routes that contain a unique "id"'):T(!1)),s.route.id}function $t(){return st(Le.UseRouteId)}function Vt(){let{router:e}=Ut(et.UseNavigateStable),t=st(Le.UseNavigateStable),s=w.useRef(!1);return Ie(()=>{s.current=!0}),w.useCallback(function(i,r){r===void 0&&(r={}),process.env.NODE_ENV!=="production"&&re(s.current,Qe),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ge({fromRouteId:t},r)))},[e,t])}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ee.apply(this,arguments)}function Be(e,t){if(e==null)return{};var s={},n=Object.keys(e),i,r;for(r=0;r<n.length;r++)i=n[r],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}const ue="get",he="application/x-www-form-urlencoded";function pe(e){return e!=null&&typeof e.tagName=="string"}function qt(e){return pe(e)&&e.tagName.toLowerCase()==="button"}function Mt(e){return pe(e)&&e.tagName.toLowerCase()==="form"}function _t(e){return pe(e)&&e.tagName.toLowerCase()==="input"}function Kt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wt(e,t){return e.button===0&&(!t||t==="_self")&&!Kt(e)}let de=null;function zt(){if(de===null)try{new FormData(document.createElement("form"),0),de=!1}catch{de=!0}return de}const Ht=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ne(e){return e!=null&&!Ht.has(e)?(process.env.NODE_ENV!=="production"&&re(!1,'"'+e+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` '+('and will default to "'+he+'"')),null):e}function Jt(e,t){let s,n,i,r,c;if(Mt(e)){let l=e.getAttribute("action");n=l?I(l,t):null,s=e.getAttribute("method")||ue,i=Ne(e.getAttribute("enctype"))||he,r=new FormData(e)}else if(qt(e)||_t(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||l.getAttribute("action");if(n=d?I(d,t):null,s=e.getAttribute("formmethod")||l.getAttribute("method")||ue,i=Ne(e.getAttribute("formenctype"))||Ne(l.getAttribute("enctype"))||he,r=new FormData(l,e),!zt()){let{name:o,type:h,value:u}=e;if(h==="image"){let f=o?o+".":"";r.append(f+"x","0"),r.append(f+"y","0")}else o&&r.append(o,u)}}else{if(pe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=ue,n=null,i=he,c=e}return r&&i==="text/plain"&&(c=r,r=void 0),{action:n,method:s.toLowerCase(),encType:i,formData:r,body:c}}const Gt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yt=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Zt=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],Xt="6";try{window.__reactRouterVersion=Xt}catch{}const nt=w.createContext({isTransitioning:!1});process.env.NODE_ENV!=="production"&&(nt.displayName="ViewTransition");const Qt=w.createContext(new Map);process.env.NODE_ENV!=="production"&&(Qt.displayName="Fetchers");process.env.NODE_ENV;const It=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",es=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K=w.forwardRef(function(t,s){let{onClick:n,relative:i,reloadDocument:r,replace:c,state:l,target:d,to:o,preventScrollReset:h,viewTransition:u}=t,f=Be(t,Gt),{basename:y}=w.useContext(H),m,v=!1;if(typeof o=="string"&&es.test(o)&&(m=o,It))try{let k=new URL(window.location.href),O=o.startsWith("//")?new URL(k.protocol+o):new URL(o),C=I(O.pathname,y);O.origin===k.origin&&C!=null?o=C+O.search+O.hash:v=!0}catch{process.env.NODE_ENV!=="production"&&re(!1,'<Link to="'+o+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let x=Tt(o,{relative:i}),b=as(o,{replace:c,state:l,target:d,preventScrollReset:h,relative:i,viewTransition:u});function j(k){n&&n(k),k.defaultPrevented||b(k)}return w.createElement("a",ee({},f,{href:m||x,onClick:v||r?n:j,ref:s,target:d}))});process.env.NODE_ENV!=="production"&&(K.displayName="Link");const ts=w.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:i=!1,className:r="",end:c=!1,style:l,to:d,viewTransition:o,children:h}=t,u=Be(t,Yt),f=le(d,{relative:u.relative}),y=oe(),m=w.useContext(Xe),{navigator:v,basename:x}=w.useContext(H),b=m!=null&&ds(f)&&o===!0,j=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,k=y.pathname,O=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(k=k.toLowerCase(),O=O?O.toLowerCase():null,j=j.toLowerCase()),O&&x&&(O=I(O,x)||O);const C=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let E=k===j||!c&&k.startsWith(j)&&k.charAt(C)==="/",A=O!=null&&(O===j||!c&&O.startsWith(j)&&O.charAt(j.length)==="/"),$={isActive:E,isPending:A,isTransitioning:b},g=E?n:void 0,R;typeof r=="function"?R=r($):R=[r,E?"active":null,A?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let B=typeof l=="function"?l($):l;return w.createElement(K,ee({},u,{"aria-current":g,className:R,ref:s,style:B,to:d,viewTransition:o}),typeof h=="function"?h($):h)});process.env.NODE_ENV!=="production"&&(ts.displayName="NavLink");const ss=w.forwardRef((e,t)=>{let{fetcherKey:s,navigate:n,reloadDocument:i,replace:r,state:c,method:l=ue,action:d,onSubmit:o,relative:h,preventScrollReset:u,viewTransition:f}=e,y=Be(e,Zt),m=ls(),v=cs(d,{relative:h}),x=l.toLowerCase()==="get"?"get":"post",b=j=>{if(o&&o(j),j.defaultPrevented)return;j.preventDefault();let k=j.nativeEvent.submitter,O=(k==null?void 0:k.getAttribute("formmethod"))||l;m(k||j.currentTarget,{fetcherKey:s,method:O,navigate:n,replace:r,state:c,relative:h,preventScrollReset:u,viewTransition:f})};return w.createElement("form",ee({ref:t,method:x,action:v,onSubmit:i?o:b},y))});process.env.NODE_ENV!=="production"&&(ss.displayName="Form");process.env.NODE_ENV;var me;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(me||(me={}));var Pe;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pe||(Pe={}));function ns(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function at(e){let t=w.useContext(ye);return t||(process.env.NODE_ENV!=="production"?T(!1,ns(e)):T(!1)),t}function as(e,t){let{target:s,replace:n,state:i,preventScrollReset:r,relative:c,viewTransition:l}=t===void 0?{}:t,d=Ft(),o=oe(),h=le(e,{relative:c});return w.useCallback(u=>{if(Wt(u,s)){u.preventDefault();let f=n!==void 0?n:je(o)===je(h);d(e,{replace:f,state:i,preventScrollReset:r,relative:c,viewTransition:l})}},[o,d,h,n,i,s,e,r,c,l])}function is(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let rs=0,os=()=>"__"+String(++rs)+"__";function ls(){let{router:e}=at(me.UseSubmit),{basename:t}=w.useContext(H),s=$t();return w.useCallback(function(n,i){i===void 0&&(i={}),is();let{action:r,method:c,encType:l,formData:d,body:o}=Jt(n,t);if(i.navigate===!1){let h=i.fetcherKey||os();e.fetch(h,s,i.action||r,{preventScrollReset:i.preventScrollReset,formData:d,body:o,formMethod:i.method||c,formEncType:i.encType||l,flushSync:i.flushSync})}else e.navigate(i.action||r,{preventScrollReset:i.preventScrollReset,formData:d,body:o,formMethod:i.method||c,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,s])}function cs(e,t){let{relative:s}=t===void 0?{}:t,{basename:n}=w.useContext(H),i=w.useContext(te);i||(process.env.NODE_ENV!=="production"?T(!1,"useFormAction must be used inside a RouteContext"):T(!1));let[r]=i.matches.slice(-1),c=ee({},le(e||".",{relative:s})),l=oe();if(e==null){c.search=l.search;let d=new URLSearchParams(c.search),o=d.getAll("index");if(o.some(u=>u==="")){d.delete("index"),o.filter(f=>f).forEach(f=>d.append("index",f));let u=d.toString();c.search=u?"?"+u:""}}return(!e||e===".")&&r.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ke([n,c.pathname])),je(c)}function ds(e,t){t===void 0&&(t={});let s=w.useContext(nt);s==null&&(process.env.NODE_ENV!=="production"?T(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?"):T(!1));let{basename:n}=at(me.useViewTransitionState),i=le(e,{relative:t.relative});if(!s.isTransitioning)return!1;let r=I(s.currentLocation.pathname,n)||s.currentLocation.pathname,c=I(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Ue(i.pathname,c)!=null||Ue(i.pathname,r)!=null}function us(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}class it{constructor(t={}){if(!t.link)throw new Error("TableLinkObject requires `link` (base route).");this.id=t.id??S("table-link"),this.className=t.className??"table",this.name=t.name??"table",this.rows=Array.isArray(t.rows)?t.rows.slice():[],this.link=t.link;const s={iconClass:"fa-solid fa-user"},n={iconClass:"fa-solid fa-arrow-down"};this.icon=t.icon instanceof L?t.icon:new L(t.icon||s),this.sort=t.sort instanceof L?t.sort:new L(t.sort||n)}}function hs(e){return!e||e.length===0?[]:Object.keys(e[0]).filter(t=>t!=="id")}function fs({tableLink:e,output:t}){if(!e||!(e instanceof it))throw new Error("AlloyTableLink requires `tableLink` (TableLinkObject instance).");const s=p.useRef(e.id),[n,i]=p.useState({col:"",dir:"asc"}),r=p.useMemo(()=>hs(e.rows),[e.rows]),c=l=>{if(!l)return;const d=n.col===l&&n.dir==="asc"?"desc":"asc";i({col:l,dir:d}),t==null||t({type:"column",name:l,dir:d})};return a.jsxs("table",{id:s.current,className:e.className,children:[a.jsx("caption",{className:"caption-top text-center",children:e.name}),a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",children:"Type"}),r.map(l=>{const d=n.col===l,o=d&&n.dir==="desc";return a.jsx("th",{scope:"col",children:a.jsxs("span",{onClick:()=>c(l),style:{userSelect:"none",cursor:"pointer"},children:[us(l),d&&a.jsx("span",{className:"ms-1 d-inline-flex align-middle","aria-hidden":"true",title:o?"Sorted descending":"Sorted ascending",style:{transform:o?"rotate(180deg)":"none",transition:"transform 120ms"},children:a.jsx(P,{icon:e.sort})})]})},l)})]})}),a.jsx("tbody",{children:e.rows.length>0?e.rows.map((l,d)=>{const o=(l==null?void 0:l.id)??d,u=`${e.link.endsWith("/")?e.link.slice(0,-1):e.link}/${o}`;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(P,{icon:e.icon})}),r.map(f=>a.jsx("td",{children:a.jsx(K,{to:u,className:"text-decoration-none",onClick:()=>t==null?void 0:t({type:"navigate",to:u,id:o}),children:a.jsx("span",{children:l==null?void 0:l[f]})})},`${o}-${f}`))]},o)}):a.jsx("tr",{children:a.jsx("td",{colSpan:Math.max(1,r.length)+1,className:"text-center text-secondary",children:"No rows"})})})]})}function ms(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}function ys(e){if(!Array.isArray(e)||e.length===0)return[];const t=e[0]??{};return Object.keys(t).filter(s=>s!=="id")}function ps(e){if(!e||typeof e!="object")return"";const t=typeof e.name=="string"?e.name.trim():"";if(t)return t;const s=typeof e.ariaLabel=="string"?e.ariaLabel.trim():"";if(s)return s;const n=typeof e.title=="string"?e.title.trim():"";if(n)return n;const i=typeof e.id=="string"?e.id.trim():"";return i||""}class rt{constructor(t={}){this.id=t.id??S("table-action"),this.className=t.className??"table",this.name=t.name??"table",this.rows=Array.isArray(t.rows)?t.rows.slice():[],this.link=typeof t.link=="string"?t.link:"";const s=new L({iconClass:"fa-solid fa-user"}),n=new L({iconClass:"fa-solid fa-arrow-down"});this.icon=t.icon instanceof L?t.icon:new L(t.icon||s),this.sort=t.sort instanceof L?t.sort:new L(t.sort||n),this.actions=t.actions?t.actions instanceof _?t.actions:new _(t.actions):void 0}}function xs({tableAction:e,output:t}){if(!e||!(e instanceof rt))throw new Error("AlloyTableAction requires `tableAction` (TableActionObject instance).");const s=p.useRef(e.id),n=p.useMemo(()=>ys(e.rows),[e.rows]),[i,r]=p.useState({col:"",dir:"asc"});function c(o){const h=i.col===o&&i.dir==="asc"?"desc":"asc";r({col:o,dir:h});const u=new U({id:s.current,type:"column",action:"Sort",error:!1,data:{name:o,dir:h}});t==null||t(u)}function l(o){return(h,u)=>{const f=ps(h),y=new U({id:s.current,type:"table",action:f,error:!1,data:o});t==null||t(y)}}const d=!!e.actions;return a.jsxs("table",{id:s.current,className:e.className,children:[a.jsx("caption",{className:"caption-top text-center",children:e.name}),a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",children:"Type"}),n.map(o=>{const h=i.col===o,u=h&&i.dir==="desc";return a.jsx("th",{scope:"col",children:a.jsxs("span",{onClick:()=>c(o),style:{userSelect:"none",cursor:"pointer"},children:[ms(o),h&&a.jsx("span",{className:"ms-1 d-inline-flex align-middle","aria-hidden":"true",title:u?"Sorted descending":"Sorted ascending",style:{transform:u?"rotate(180deg)":"none",transition:"transform 120ms"},children:a.jsx(P,{icon:e.sort})})]})},`h-${o}`)}),d&&a.jsx("th",{scope:"col",className:"text-end",children:"Actions"})]})}),a.jsx("tbody",{children:e.rows.length>0?e.rows.map((o,h)=>{const u=(o==null?void 0:o.id)??h,f=e.actions;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(P,{icon:e.icon})}),n.map(y=>{const m=e.link||"",v=m.endsWith("/")?m.slice(0,-1):m,x=v?`${v}/${u}`:"";return a.jsx("td",{children:v?a.jsx(K,{to:x,onClick:()=>{const b=new U({id:s.current,type:"row",action:"navigate",error:!1,data:{to:x,...o}});t==null||t(b)},className:"text-decoration-none",children:a.jsx("span",{children:o==null?void 0:o[y]})}):a.jsx("span",{children:o==null?void 0:o[y]})},`${u}-${y}`)}),d&&a.jsx("td",{className:"text-end",children:a.jsx(ie,{buttonBar:f,output:l(o)})})]},u)}):a.jsx("tr",{children:a.jsx("td",{colSpan:1+n.length+(d?1:0),className:"text-center text-secondary",children:"No rows"})})})]})}class Se{constructor(t={}){if(!t.body)throw new Error("CardObject requires `body`.");if(this.id=t.id??S("card"),this.className=t.className??"card border m-2 shadow",this.link=typeof t.link=="string"?t.link:"",t.header instanceof N)this.header=t.header;else if(t.header){const n=new N(t.header);n.className=n.className||"card-header",this.header=n}else this.header=void 0;if(t.body instanceof N)this.body=t.body;else{const n=new N(t.body);n.className=n.className||"card-body",this.body=n}if(t.footer instanceof N)this.footer=t.footer;else if(t.footer){const n=new N(t.footer);n.className=n.className||"card-footer",this.footer=n}else this.footer=void 0;const s=Array.isArray(t.fields)?t.fields:[];this.fields=s.map(n=>n instanceof N?n:new N(n||{}))}}function vs({card:e}){var r;if(!e||!(e instanceof Se))throw new Error("AlloyCard requires `card` (CardObject instance).");const t=e.header?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header","aria-label":e.header.name,children:e.header.name}):null,s=a.jsxs("div",{id:e.body.id,className:e.body.className||"card-body","aria-label":e.body.name,children:[e.body.name&&a.jsx("div",{className:"mb-2",children:e.body.name}),e.fields.map(c=>a.jsx("div",{id:c.id,className:c.className,"aria-label":c.name,children:c.name},c.id))]}),n=e.link?a.jsx(K,{to:e.link,className:"text-decoration-none d-block","aria-label":(r=e.body)==null?void 0:r.name,children:s}):s,i=e.footer?a.jsx("div",{id:e.footer.id,className:e.footer.className||"card-footer","aria-label":e.footer.name,children:e.footer.name}):null;return a.jsxs("div",{id:e.id,className:e.className,children:[t,n,i]})}class ot extends Se{constructor(t={}){if(super(t),!t.icon)throw new Error("CardIconObject requires `icon`.");this.icon=t.icon instanceof L?t.icon:new L(t.icon),this.iconClass=t.iconClass??"col-4 d-flex align-items-start justify-content-center text-warning fs-2",this.textClass=t.textClass??"col-8"}}function Ns({cardIcon:e}){var r,c,l,d;if(!e||!(e instanceof ot))throw new Error("AlloyCardIcon requires `cardIcon` (CardIconObject instance).");const t=(r=e.header)!=null&&r.name?a.jsx("div",{id:e.header.id,className:e.header.className,children:e.header.name}):null,s=a.jsx("div",{id:e.body.id,className:e.body.className,"aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.iconClass,children:a.jsx(P,{icon:e.icon})}),a.jsxs("div",{className:e.textClass,children:[(c=e.body)!=null&&c.name?a.jsx("div",{className:"mb-1 fw-semibold",children:e.body.name}):null,e.fields.map(o=>o!=null&&o.name?a.jsx("div",{id:o.id,className:o.className,children:o.name},o.id):null)]})]})}),n=e.link?a.jsx(K,{to:e.link,className:"text-decoration-none d-block","aria-label":(l=e.body)==null?void 0:l.name,children:s}):s,i=(d=e.footer)!=null&&d.name?a.jsx("div",{id:e.footer.id,className:e.footer.className,children:e.footer.name}):null;return a.jsxs("div",{id:e.id,className:e.className,children:[t,n,i]})}class $e{constructor(t={}){this.id=t.id??S("logo"),this.imageUrl=t.imageUrl??"https://alloymobile.blob.core.windows.net/alloymobile/alloymobile.png",this.alt=t.alt??"Alloymobile",this.width=t.width??"72px",this.height=t.height??"auto"}}class Re{constructor(t={}){this.id=t.id??S("card"),this.className=t.className??"card border m-2 shadow",this.link=typeof t.link=="string"?t.link:"",this.header=t.header instanceof N?t.header:new N(t.header||{}),this.body=t.body instanceof N?t.body:new N(t.body||{}),this.footer=t.footer instanceof N?t.footer:new N(t.footer||{});const s=Array.isArray(t.fields)?t.fields:[];this.fields=s.map(n=>n instanceof N?n:new N(n||{})),this.logo=t.logo instanceof $e?t.logo:new $e(t.logo||{}),this.logoClass=t.logoClass??"col-4 d-flex align-items-center justify-content-center bg-light rounded mb-0",this.textClass=t.textClass??"col-8"}}function ws({cardImage:e}){var r,c,l,d;if(!(e instanceof Re))throw new Error("AlloyCardImage requires `cardImage` (CardImageObject instance).");const t=(r=e.header)!=null&&r.name?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header py-2 fw-semibold","aria-label":e.header.name,children:e.header.name}):null,s=a.jsx("div",{id:e.body.id,className:e.body.className||"card-body py-3","aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.logoClass,children:a.jsx("img",{src:e.logo.imageUrl,alt:e.logo.alt,style:{width:e.logo.width,height:e.logo.height,maxWidth:"100%",objectFit:"contain"}})}),a.jsx("div",{className:e.textClass,children:a.jsxs("div",{className:"row p-1",children:[(c=e.body)!=null&&c.name?a.jsx("div",{className:"fw-semibold mb-1",children:e.body.name}):null,e.fields.map(o=>o!=null&&o.name?a.jsx("div",{id:o.id,className:o.className||"",children:o.name},o.id??S("card-image-field")):null)]})})]})}),n=e.link?a.jsx(K,{to:e.link,className:"text-decoration-none d-block","aria-label":(l=e.body)==null?void 0:l.name,children:s}):s,i=(d=e.footer)!=null&&d.name?a.jsx("div",{id:e.footer.id,className:e.footer.className||"card-footer small text-muted py-2","aria-label":e.footer.name,children:e.footer.name}):null;return a.jsxs("div",{id:e.id,className:e.className,children:[t,n,i]})}class lt{constructor(t={}){this.id=t.id??S("card-action"),this.className=t.className??"card border m-2 shadow",this.link=t.link??"";const s=t.header??{};this.header=s instanceof N?s:new N(s);const n=t.body??{};this.body=n instanceof N?n:new N(n);const i=Array.isArray(t.fields)?t.fields:[];this.fields=i.map(l=>l instanceof N?l:new N(l||{}));const r=t.footer??{};this.footer=r instanceof N?r:new N(r),this.type=t.type??"AlloyButtonBar";const c=t.action;this.type==="AlloyLinkBar"?this.action=c instanceof M?c:c?new M(c):void 0:this.action=c instanceof _?c:c?new _(c):void 0}}function js({cardAction:e,output:t}){var d,o;if(!e||!(e instanceof lt))throw new Error("AlloyCardAction requires `cardAction` (CardActionObject instance).");function s(h){if(typeof t!="function")return;const u=h&&typeof h.toJSON=="function"?h.toJSON():h||{},{error:f=!1,errorMessage:y=[]}=u,m=n(u),v={};Array.isArray(e.fields)&&e.fields.forEach(b=>{if(!b)return;const j=b.id,k=b.name;j&&typeof k<"u"&&(v[j]=k)});const x=new U({id:e.id,type:"card-action",action:m,error:!!f,errorMessage:y||[],data:v});t(x)}function n(h){if(!h||typeof h!="object")return"";const u=y=>{if(!y||typeof y!="object")return"";const m=typeof y.name=="string"?y.name.trim():"";if(m)return m;const v=typeof y.ariaLabel=="string"?y.ariaLabel.trim():"";if(v)return v;const x=typeof y.title=="string"?y.title.trim():"";if(x)return x;const b=typeof y.id=="string"?y.id.trim():"";return b||""},f=h.data&&typeof h.data=="object"?h.data:null;if(f){if(f.action&&typeof f.action=="object"){const m=u(f.action);if(m)return m}if(f.button&&typeof f.button=="object"){const m=u(f.button);if(m)return m}if(f.link&&typeof f.link=="object"){const m=u(f.link);if(m)return m}const y=u(f);if(y)return y}return u(h)}const i=(d=e.header)!=null&&d.name?a.jsx("div",{id:e.header.id,className:e.header.className??"card-header py-2 fw-semibold",children:e.header.name}):null,r=a.jsxs("div",{id:e.body.id,className:e.body.className??"card-body",children:[e.body.name?a.jsx("div",{className:"fw-semibold mb-1",children:e.body.name}):null,e.fields.map(h=>h!=null&&h.name?a.jsx("div",{id:h.id,className:h.className??"",children:h.name},h.id??S("card-field")):null)]}),c=e.link?a.jsx(K,{to:e.link,className:"text-decoration-none d-block","aria-label":(o=e.body)==null?void 0:o.name,children:r}):r,l=a.jsxs("div",{id:e.footer.id,className:e.footer.className??"card-footer d-flex align-items-center gap-2 py-2",children:[e.footer.name?a.jsx("div",{className:"me-auto small text-muted",children:e.footer.name}):null,e.action?e.type==="AlloyLinkBar"?a.jsx(ae,{linkBar:e.action,output:s}):a.jsx(ie,{buttonBar:e.action,output:s}):null]});return a.jsxs("div",{id:e.id,className:e.className??"card border m-2 shadow",children:[i,c,l]})}class ct{constructor(t={}){this.id=t.id??S("card-icon-action"),this.className=t.className??"card border m-2 shadow",this.link=typeof t.link=="string"?t.link:"";const s=t.header??{};this.header=s instanceof N?s:new N(s);const n=t.body??{};this.body=n instanceof N?n:new N(n);const i=Array.isArray(t.fields)?t.fields:[];this.fields=i.map(l=>l instanceof N?l:new N(l||{}));const r=t.footer??{};this.footer=r instanceof N?r:new N(r);const c=new L({iconClass:"fa-solid fa-user fa-2xl"});this.icon=t.icon instanceof L?t.icon:new L(t.icon||{iconClass:c.iconClass}),this.iconClass=t.iconClass??"col-3 d-flex align-items-center justify-content-center rounded-circle bg-warning text-white mb-0",this.textClass=t.textClass??"col-9",this.type=t.type??"AlloyButtonBar",this.type==="AlloyLinkBar"?this.action=t.action instanceof M?t.action:new M(t.action||{}):this.action=t.action instanceof _?t.action:new _(t.action||{})}}function gs({cardIconAction:e,output:t}){var o,h;if(!e||!(e instanceof ct))throw new Error("AlloyCardIconAction requires `cardIconAction` (CardIconActionObject instance).");function s(u){if(!u||typeof u!="object")return"";const f=typeof u.name=="string"?u.name.trim():"";if(f)return f;const y=typeof u.ariaLabel=="string"?u.ariaLabel.trim():"";if(y)return y;const m=typeof u.title=="string"?u.title.trim():"";if(m)return m;const v=typeof u.id=="string"?u.id.trim():"";return v||""}function n(){return(u,f)=>{if(typeof t!="function")return;const y=s(u),m={};Array.isArray(e.fields)&&e.fields.forEach(x=>{if(!x)return;const b=x.id,j=x.name;b&&typeof j<"u"&&(m[b]=j)});const v=new U({id:e.id,type:"card-action",action:y,error:!1,errorMessage:[],data:m});t(v)}}const i=(o=e.header)!=null&&o.name?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header py-2 fw-semibold","aria-label":e.header.name,children:e.header.name}):null,r=a.jsx("div",{id:e.body.id,className:e.body.className||"card-body","aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.iconClass,children:a.jsx(P,{icon:e.icon})}),a.jsx("div",{className:e.textClass,children:a.jsx("div",{className:"row p-1",children:e.fields.map(u=>u!=null&&u.name?a.jsx("div",{id:u.id,className:u.className,children:u.name},u.id??S("card-icon-action-field")):null)})})]})}),c=e.link?a.jsx(K,{to:e.link,className:"text-decoration-none d-block","aria-label":(h=e.body)==null?void 0:h.name,children:r}):r,l=e.type==="AlloyLinkBar"?a.jsx(ae,{linkBar:e.action,output:n()}):a.jsx(ie,{buttonBar:e.action,output:n()}),d=a.jsxs("div",{id:e.footer.id,className:e.footer.className||"card-footer d-flex align-items-center justify-content-between flex-wrap gap-2 py-2","aria-label":e.footer.name,children:[a.jsx("div",{className:"me-auto",children:e.footer.name?e.footer.name:null}),a.jsx("div",{role:"group",children:l})]});return a.jsxs("div",{id:e.id,className:e.className,children:[i,c,d]})}class dt extends Re{constructor(t={}){super(t),this.header=t.header instanceof N?t.header:new N(t.header||{className:"card-header py-2 fw-semibold",name:""}),this.body=t.body instanceof N?t.body:new N(t.body||{className:"card-body d-flex align-items-center",name:"Card Body"});const s=Array.isArray(t.fields)?t.fields:[];switch(this.fields=s.map((n,i)=>n instanceof N?n:new N({id:(n==null?void 0:n.id)||`field_${i+1}`,className:(n==null?void 0:n.className)??"",name:(n==null?void 0:n.name)??""})),this.footer=t.footer instanceof N?t.footer:new N(t.footer||{className:"card-footer d-flex align-items-center justify-content-between flex-wrap gap-2 py-2",name:"Footer"}),this.type=t.type??"AlloyButtonBar",this.type){case"AlloyLinkBar":{this.action=t.action instanceof M?t.action:new M(t.action||{className:"nav gap-2",linkClass:"nav-item",barName:{show:!1},type:"AlloyLink",links:[]});break}case"AlloyButtonBar":default:{this.type="AlloyButtonBar",this.action=t.action instanceof _?t.action:new _(t.action||{className:"nav gap-2",buttonClass:"nav-item",barName:{show:!1},type:"AlloyButton",buttons:[]});break}}}}function bs({cardImageAction:e,output:t}){var d,o,h,u,f,y;if(!e||!(e instanceof dt))throw new Error("AlloyCardImageAction requires `cardImageAction` (CardImageActionObject instance).");function s(){return(m,v)=>{if(typeof t!="function")return;const x=Cs(m),b={};Array.isArray(e.fields)&&e.fields.forEach(k=>{if(!k)return;const O=k.id,C=k.name;O&&typeof C<"u"&&(b[O]=C)});const j=new U({id:e.id,type:"card-action",action:x,error:!1,errorMessage:[],data:b});t(j)}}const i=e.header&&((d=e.header.name)==null?void 0:d.trim())?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header py-2 fw-semibold","aria-label":e.header.name,children:e.header.name}):null,r=a.jsx("div",{id:e.body.id,className:e.body.className||"card-body d-flex align-items-center","aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.logoClass,children:a.jsx("img",{src:(o=e.logo)==null?void 0:o.imageUrl,alt:(h=e.logo)==null?void 0:h.alt,style:{width:(u=e.logo)==null?void 0:u.width,height:(f=e.logo)==null?void 0:f.height,maxWidth:"100%",objectFit:"contain"}})}),a.jsx("div",{className:e.textClass,children:a.jsx("div",{className:"row p-1",children:e.fields.map(m=>m!=null&&m.name?a.jsx("div",{id:m.id,className:m.className,children:m.name},m.id):null)})})]})}),c=e.link?a.jsx(K,{to:e.link,className:"text-decoration-none d-block","aria-label":(y=e.body)==null?void 0:y.name,children:r}):r,l=a.jsxs("div",{id:e.footer.id,className:e.footer.className||"card-footer d-flex align-items-center justify-content-between flex-wrap gap-2 py-2","aria-label":e.footer.name,children:[a.jsx("div",{className:"flex-grow-1",children:e.footer.name}),a.jsx("div",{role:"group",children:e.type==="AlloyLinkBar"?a.jsx(ae,{linkBar:e.action,output:s()}):a.jsx(ie,{buttonBar:e.action,output:s()})})]});return a.jsxs("div",{id:e.id,className:e.className,children:[i,c,l]})}function Cs(e){if(!e||typeof e!="object")return"";const t=typeof e.name=="string"?e.name.trim():"";if(t)return t;const s=typeof e.ariaLabel=="string"?e.ariaLabel.trim():"";if(s)return s;const n=typeof e.title=="string"?e.title.trim():"";if(n)return n;const i=typeof e.id=="string"?e.id.trim():"";return i||""}class be{constructor(t={}){const{id:s,title:n="AlloyMobile",className:i="col m-2",message:r="",action:c="",type:l="AlloyInputTextIcon",submit:d,fields:o,data:h}=t;this.id=s??S("form"),this.title=n,this.className=i,this.message=r,this.action=c,this.type=l,this.submit=d instanceof ne?d:new ne(d||{name:"Submit",icon:{iconClass:"fa-solid fa-circle-notch fa-spin"},className:"btn btn-primary w-100 mt-3",disabled:!1,loading:!1,ariaLabel:"Submit",title:"Submit"});const u=Array.isArray(o)?o:[];this.fields=u.map(f=>f instanceof fe?f:new fe(f)),this.data=h??{}}}function Ve(e,t,s){let n=!0;const i=[];if(e.required&&(e.type==="checkbox"?(Array.isArray(t)?t:[]).length===0&&(n=!1,i.push("This field is required.")):(t===""||t===!1||t===void 0||t===null)&&(n=!1,i.push("This field is required."))),n&&typeof e.minLength=="number"&&typeof t=="string"&&t.length<e.minLength&&(n=!1,i.push(`Minimum length is ${e.minLength}`)),n&&typeof e.maxLength=="number"&&typeof t=="string"&&t.length>e.maxLength&&(n=!1,i.push(`Maximum length is ${e.maxLength}`)),n&&e.pattern&&typeof t=="string"&&!new RegExp(e.pattern).test(t)&&(n=!1,i.push("Invalid format.")),n&&e.passwordStrength&&typeof t=="string"&&(/(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}/.test(t)||(n=!1,i.push("Password is too weak."))),n&&e.matchWith){const r=e.matchWith;s[r]!==t&&(n=!1,i.push("Values do not match."))}return{valid:n,error:!n,errors:i}}function Es({form:e,output:t}){const s=e instanceof be?e:new be(e||{});if(!s||!Array.isArray(s.fields)||!(s.submit instanceof ne))throw new Error("AlloyForm could not hydrate a valid FormObject (missing fields[] or submit).");const[n,i]=p.useState(()=>{const u={},f={};return s.fields.forEach(y=>{f[y.name]=y.value}),s.fields.forEach(y=>{const m=y.value,{valid:v,error:x,errors:b}=Ve(y,m,f);u[y.name]={value:m,valid:v,error:x,errors:b}}),u}),r=p.useRef(null),c=p.useCallback(u=>{const f={};Object.keys(u).forEach(m=>{f[m]=u[m].value});const y={};return s.fields.forEach(m=>{const v=f[m.name],{valid:x,error:b,errors:j}=Ve(m,v,f);y[m.name]={value:v,valid:x,error:b,errors:j}}),y},[s.fields]);function l(u){const f=u instanceof U?u.data||{}:u||{},{name:y,value:m}=f;y&&i(v=>{const x={...v};return x[y]={...v[y]||{value:void 0,valid:!0,error:!1,errors:[]},value:m},c(x)})}const d=p.useMemo(()=>{const u={};return Object.keys(n).forEach(f=>{u[f]=n[f].value}),u},[n]),o=p.useMemo(()=>Object.values(n).some(u=>u.error||!u.valid),[n]);function h(u){let f=!1;Object.values(n).forEach(x=>{(x.error||!x.valid)&&(f=!0)});const y={...d};s.data=y,s.message="";const m=f?{...n}:y,v=new U({id:s.id,type:"form",action:"submit",data:m,error:f});t==null||t(v)}return s.submit.disabled=o||!!s.submit.loading,a.jsx("div",{className:"row",children:a.jsx("div",{className:s.className,children:a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{children:s.title}),s.message!==""&&a.jsx("div",{className:"alert alert-text-danger m-0 p-0",children:s.message}),s.fields.map(u=>a.jsx(Ee,{input:u,output:l},u.id)),a.jsx(We,{ref:r,buttonSubmit:s.submit,output:h})]})})})}class ut{constructor(t={}){this.id=t.id??S("tab"),this.key=t.key??this.id,this.title=t.title??"",this.subtitle=t.subtitle??"",this.order=typeof t.order=="number"?t.order:0,this.required=!!t.required,this.stage=t.stage??"",this.status=t.status??"",this.icon=t.icon?t.icon instanceof L?t.icon:new L(t.icon):null,this.inputs=Array.isArray(t.inputs)?t.inputs:[]}}class ht{constructor(t={}){this.id=t.id??S("tab-form"),this.name=t.name??"",this.status=t.status??"draft";const n=(Array.isArray(t.tabs)?t.tabs:[]).map(c=>new ut(c));this.tabs=n.sort((c,l)=>c.order-l.order);let i=typeof t.currentIndex=="number"?t.currentIndex:0;i<0&&(i=0),i>=this.tabs.length&&(i=this.tabs.length-1),this.currentIndex=this.tabs.length>0?i:0;const r=t.navButtons||{};this.navButtons={previous:r.previous?new V({...r.previous,name:r.previous.name||r.previous.label||"Previous"}):null,next:r.next?new V({...r.next,name:r.next.name||r.next.label||"Next"}):null,finish:r.finish?new V({...r.finish,name:r.finish.name||r.finish.label||"Finish"}):null}}}function ks(e){const t={};return e.tabs.forEach(s=>{const n={};s.inputs.forEach(i=>{const r=i.name;r&&(typeof i.value<"u"?n[r]=i.value:i.type==="checkbox"?n[r]=!1:n[r]="")}),t[s.key]=n}),t}function qe(e,t){const s={};return e.inputs.forEach(n=>{const i=n.name;if(!i)return;const r=[],c=typeof t[i]<"u"?t[i]:n.value;if(n.required&&(n.type==="checkbox"?c||r.push("This field is required."):(c===""||c===null||typeof c>"u")&&r.push("This field is required.")),n.matchWith){const l=n.matchWith,d=t[l];c!==d&&r.push("Values do not match.")}r.length>0&&(s[i]=r)}),s}function Os({tabForm:e,output:t}){if(!e||!(e instanceof ht))throw new Error("AlloyTabForm requires `tabForm` (TabFormObject instance).");const[s,n]=p.useState(e.currentIndex),[i,r]=p.useState(()=>ks(e)),[c,l]=p.useState({}),d=e.tabs,o=d.length,h=d[s]||null,u=h?h.key:"",f=e.navButtons||{};function y(g,R,B,F){const D=i[g]||{};return Object.prototype.hasOwnProperty.call(D,R)?D[R]:typeof B<"u"?B:F==="checkbox"?!1:""}function m(g,R){var X,W,ce;const B=R&&typeof R.toJSON=="function"?R.toJSON():R,F=(X=B==null?void 0:B.data)==null?void 0:X.name,D=(W=B==null?void 0:B.data)==null?void 0:W.value,q=((ce=B==null?void 0:B.data)==null?void 0:ce.errors)||[];F&&(r(xe=>{const J={...xe},Q={...J[g]||{}};return Q[F]=D,J[g]=Q,J}),l(xe=>{const J={...xe},Q={...J[g]||{}};return q.length>0?Q[F]=q:delete Q[F],J[g]=Q,J}))}function v(g,R,B,F,D){const q=d[R]||h,X=q?q.key:u,W={currentIndex:R,currentTabKey:X,values:B};if(D&&F&&Object.keys(F).length>0&&(W.errors=F,W.message="Validation failed for current step."),typeof t!="function")return;const ce=D?U.errorOf({id:e.id,type:"tab-form",action:g==="finish"?"submit":"draft",data:W}):U.ok({id:e.id,type:"tab-form",action:g==="finish"?"submit":"draft",data:W});t(ce)}function x(){if(!h||s<=0)return;const g=s-1;n(g),v("previous",g,i,c,!1)}function b(){if(!h||s>=o-1)return;const g=h.key,R=i[g]||{},B=qe(h,R);if(Object.keys(B).length>0){const q={...c,[g]:B};l(q),v("next",s,i,q,!0);return}const F=s+1;n(F);const D={...c};delete D[g],l(D),v("next",F,i,D,!1)}function j(){if(!h)return;const g=h.key,R=i[g]||{},B=qe(h,R);if(Object.keys(B).length>0){const D={...c,[g]:B};l(D),v("finish",s,i,D,!0);return}const F={...c};delete F[g],l(F),v("finish",s,i,F,!1)}if(!h)return a.jsx("div",{className:"alert alert-warning",children:"No steps defined for this TabForm."});const k=s>0,O=s===o-1,C=!O,E=k&&(f.previous||new V({name:"Previous",icon:{iconClass:"fa-solid fa-arrow-left"},className:"btn btn-primary"})),A=C&&(f.next||new V({name:"Next",icon:{iconClass:"fa-solid fa-arrow-right"},className:"btn btn-primary"})),$=O&&(f.finish||new V({name:"Finish",icon:{iconClass:"fa-solid fa-paper-plane"},className:"btn btn-primary"}));return a.jsxs("div",{className:"alloy-tab-form",children:[a.jsx("ul",{className:"nav nav-tabs mb-3 flex-wrap",children:d.map((g,R)=>{const B=R===s;return a.jsx("li",{className:"nav-item",children:a.jsxs("button",{type:"button",className:`nav-link ${B?"active":""}`,onClick:()=>n(R),children:[g.icon&&a.jsx("span",{className:"me-1",children:a.jsx(P,{icon:g.icon})}),g.title||`Step ${R+1}`]})},g.id)})}),(h.title||h.subtitle)&&a.jsxs("div",{className:"mb-3",children:[h.title&&a.jsx("h5",{className:"mb-1",children:h.title}),h.subtitle&&a.jsx("div",{className:"text-muted small",children:h.subtitle})]}),a.jsxs("form",{onSubmit:g=>g.preventDefault(),noValidate:!0,children:[a.jsx("div",{className:"row g-3",children:a.jsx("div",{className:"col-12 col-md-6 col-lg-5 mx-auto",children:h.inputs.map((g,R)=>{const B=y(h.key,g.name,g.value,g.type),D=(c[h.key]||{})[g.name]||[],q=D.length>0,X=new fe({...g,value:B,errors:D,invalid:q});return a.jsx(Ee,{input:X,output:W=>m(h.key,W)},`inp-${R}`)})})}),a.jsxs("div",{className:"d-flex justify-content-between mt-4",children:[k?a.jsx(se,{buttonIcon:E,output:()=>x()}):a.jsx("span",{}),a.jsxs("div",{className:"d-flex gap-2 ms-auto",children:[C&&a.jsx(se,{buttonIcon:A,output:()=>b()}),O&&a.jsx(se,{buttonIcon:$,output:()=>j()})]})]})]})]})}exports.AlloyButton=Ke;exports.AlloyButtonBar=ie;exports.AlloyButtonIcon=se;exports.AlloyButtonSubmit=We;exports.AlloyCard=vs;exports.AlloyCardAction=js;exports.AlloyCardIcon=Ns;exports.AlloyCardIconAction=gs;exports.AlloyCardImage=ws;exports.AlloyCardImageAction=bs;exports.AlloyForm=Es;exports.AlloyIcon=P;exports.AlloyInput=Ee;exports.AlloyLink=Me;exports.AlloyLinkBar=ae;exports.AlloyLinkIcon=_e;exports.AlloyLinkLogo=Ce;exports.AlloyNavBar=wt;exports.AlloyTabForm=Os;exports.AlloyTable=bt;exports.AlloyTableAction=xs;exports.AlloyTableLink=fs;exports.ButtonBarObject=_;exports.ButtonIconObject=V;exports.ButtonObject=Z;exports.ButtonSubmitObject=ne;exports.CardActionObject=lt;exports.CardIconActionObject=ct;exports.CardIconObject=ot;exports.CardImageActionObject=dt;exports.CardImageObject=Re;exports.CardObject=Se;exports.FormObject=be;exports.IconObject=L;exports.InputObject=fe;exports.LinkBarObject=M;exports.LinkIconObject=Y;exports.LinkLogoObject=z;exports.LinkObject=G;exports.NavBarObject=ze;exports.TabFormObject=ht;exports.TabObject=ut;exports.TableActionObject=rt;exports.TableLinkObject=it;exports.TableObject=He;
//# sourceMappingURL=alloy-react.cjs.js.map
