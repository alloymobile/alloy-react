"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("react/jsx-runtime"),w=require("react");require("react-dom");function At(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const s in e)if(s!=="default"){const n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:()=>e[s]})}}return t.default=e,Object.freeze(t)}const A=At(w);function B(e="id"){const t=Date.now(),s=Math.random().toString(36).slice(2,7);return`${e}-${t}-${s}`}class k{constructor(t={}){const{id:s,name:n,className:o}=t;this.id=s??B("tag"),this.name=n??"",this.className=o??""}}class S{constructor(t={}){const{id:s,type:n="",action:o="",data:i={},error:r=!1}=t||{},d=typeof s<"u"?s:i&&typeof i.id<"u"?i.id:"";this.id=d,this.type=n,this.action=o,this.error=!!r,this.data={...i}}static ok({id:t="",type:s="",action:n="",data:o={}}={}){return new S({id:t,type:s,action:n,error:!1,data:o})}static errorOf({id:t="",type:s="",action:n="",message:o="",data:i={}}={}){const r={...i};return o&&r.message==null&&(r.message=String(o)),new S({id:t,type:s,action:n,error:!0,data:r})}addError(t,s={}){this.error=!0;const n={...this.data,...s};return t&&n.message==null&&(n.message=String(t)),this.data=n,this}clearError(){return this.error=!1,this}toJSON(){return{id:this.id,type:this.type,action:this.action,error:this.error,data:{...this.data}}}}class L{constructor(t={}){if(!t.iconClass)throw new Error("IconObject requires `iconClass`.");this.id=t.id??B("icon"),this.iconClass=t.iconClass}}function U({icon:e}){if(!e)throw new Error("AlloyIcon requires `icon` prop (Icon instance).");return a.jsx("i",{id:e.id,className:e.iconClass,"aria-hidden":"true"})}function Ot(e="",t=""){const[s,n]=w.useState(!1),[o,i]=w.useState(!1),[r,d]=w.useState(!1);return{className:w.useMemo(()=>[e,(s||o||r)&&t].filter(Boolean).join(" "),[e,t,s,o,r]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),i(!1)},onMouseDown:()=>i(!0),onMouseUp:()=>i(!1),onFocus:()=>d(!0),onBlur:()=>d(!1)}}}class X{constructor(t={}){if(!t.href)throw new Error("LinkObject requires `href`.");if(!t.name)throw new Error("LinkObject requires `name`.");this.id=t.id??B("link"),this.name=t.name,this.href=t.href,this.className=t.className??"nav-link",this.active=t.active??"",this.target=t.target,this.rel=t.rel,this.onClick=t.onClick,this.title=t.title??t.name}}function Ye({link:e}){if(!e||!(e instanceof X))throw new Error("AlloyLink requires `link` (LinkObject instance).");const t=w.useRef(e.id),{className:s,events:n}=Ot(e.className,e.active),o=e.target==="_blank"?e.rel?`${e.rel} noopener noreferrer`:"noopener noreferrer":e.rel;return a.jsx("a",{id:t.current,href:e.href,className:s,target:e.target,rel:o,onClick:e.onClick,title:e.title,...n,children:a.jsx("span",{children:e.name})})}function St(e="",t=""){const[s,n]=w.useState(!1),[o,i]=w.useState(!1),[r,d]=w.useState(!1);return{className:w.useMemo(()=>[e,(s||o||r)&&t].filter(Boolean).join(" "),[e,t,s,o,r]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),i(!1)},onMouseDown:()=>i(!0),onMouseUp:()=>i(!1),onFocus:()=>d(!0),onBlur:()=>d(!1)}}}class Q{constructor(t={}){if(!t.href)throw new Error("LinkIconObject requires `href`.");if(!t.icon)throw new Error("LinkIconObject requires `icon`.");const s=t.icon instanceof L?t.icon:new L(t.icon);this.id=t.id??B("link-icon"),this.href=t.href,this.icon=s,this.name=t.name,this.className=t.className??"nav-link",this.active=t.active??"",this.target=t.target,this.rel=t.rel,this.onClick=t.onClick,this.title=t.title??t.name}}function Ze({linkIcon:e}){if(!e||!(e instanceof Q))throw new Error("AlloyLinkIcon requires `linkIcon` (LinkIconObject instance).");const t=w.useRef(e.id),{className:s,events:n}=St(e.className,e.active),o=e.target==="_blank"?e.rel?`${e.rel} noopener noreferrer`:"noopener noreferrer":e.rel,i=!!e.name;return a.jsx("a",{id:t.current,href:e.href,className:s,target:e.target,rel:o,onClick:e.onClick,title:e.title,...n,children:a.jsxs("span",{className:"d-inline-flex align-items-center",children:[a.jsx(U,{icon:e.icon}),i&&a.jsx("span",{className:"px-1",children:e.name})]})})}function Bt(e="",t=""){const[s,n]=w.useState(!1),[o,i]=w.useState(!1),[r,d]=w.useState(!1);return{className:w.useMemo(()=>[e,(s||o||r)&&t].filter(Boolean).join(" "),[e,t,s,o,r]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),i(!1)},onMouseDown:()=>i(!0),onMouseUp:()=>i(!1),onFocus:()=>d(!0),onBlur:()=>d(!1)}}}class H{constructor(t={}){if(!t.href)throw new Error("LinkLogoObject requires `href`.");if(!t.logo)throw new Error("LinkLogoObject requires `logo`.");this.id=t.id??B("link-logo"),this.name=t.name,this.href=t.href,this.logo=t.logo,this.width=t.width,this.height=t.height,this.logoAlt=t.logoAlt??t.name??"",this.className=t.className??"nav-link",this.active=t.active??"",this.target=t.target,this.rel=t.rel,this.onClick=t.onClick,this.title=t.title??t.name}}function Me({linkLogo:e}){if(!e||!(e instanceof H))throw new Error("AlloyLinkLogo requires `linkLogo` (LinkLogoObject instance).");const t=w.useRef(e.id),{className:s,events:n}=Bt(e.className,e.active),o=e.target==="_blank"?e.rel?`${e.rel} noopener noreferrer`:"noopener noreferrer":e.rel,i=!!e.name;return a.jsx("a",{id:t.current,href:e.href,className:s,target:e.target,rel:o,onClick:e.onClick,title:e.title,...n,children:a.jsxs("span",{className:"d-inline-flex align-items-center",children:[a.jsx("img",{src:e.logo,alt:e.logoAlt||e.name||"",width:e.width,height:e.height,style:{display:"inline-block"}}),i&&a.jsx("span",{className:"px-1",children:e.name})]})})}function Lt(e="",t=""){const[s,n]=w.useState(!1),[o,i]=w.useState(!1),[r,d]=w.useState(!1);return{className:w.useMemo(()=>[e,(s||o||r)&&t].filter(Boolean).join(" "),[e,t,s,o,r]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),i(!1)},onMouseDown:()=>i(!0),onMouseUp:()=>i(!1),onFocus:()=>d(!0),onBlur:()=>d(!1)}}}class q{constructor(t={}){if(!t.name)throw new Error("ButtonObject requires `name`.");this.id=t.id??B("btn"),this.name=t.name,this.className=t.className??"btn btn-primary",this.active=t.active??"",this.disabled=!!t.disabled,this.title=t.title??t.name,this.ariaLabel=t.ariaLabel??t.name,this.tabIndex=t.tabIndex,this.onClick=t.onClick,this.onKeyDown=t.onKeyDown,this.onKeyUp=t.onKeyUp,this.onFocus=t.onFocus,this.onBlur=t.onBlur,this.onMouseEnter=t.onMouseEnter,this.onMouseLeave=t.onMouseLeave}}const ge=w.forwardRef(function({button:t,output:s},n){if(!t||!(t instanceof q))throw new Error("AlloyButton requires `button` (ButtonObject instance).");const o=w.useRef(null),i=w.useRef(t.id),r=t.disabled,{className:d,events:u}=Lt(t.className,t.active);w.useImperativeHandle(n,()=>({el:o.current,model:t,focus:()=>{var f;return(f=o.current)==null?void 0:f.focus()},click:()=>{var f;return(f=o.current)==null?void 0:f.click()}}),[t]);const l=(f,m,j,b)=>C=>{if(m==null||m(C),b&&typeof s=="function"){const c=S.ok({id:t.id,type:"button",action:j,data:{name:t.name}});s(c)}f==null||f(C,t)},h={onClick:l(t.onClick,void 0,"click",!0),onMouseDown:l(void 0,u.onMouseDown,"mousedown",!0),onKeyDown:l(t.onKeyDown,u.onFocus,"keydown",!1),onKeyUp:l(t.onKeyUp,void 0,"keyup",!1),onFocus:l(t.onFocus,u.onFocus,"focus",!1),onBlur:l(t.onBlur,u.onBlur,"blur",!1),onMouseEnter:l(t.onMouseEnter,u.onMouseEnter,"mouseenter",!1),onMouseLeave:l(t.onMouseLeave,u.onMouseLeave,"mouseleave",!1),onMouseUp:l(void 0,u.onMouseUp,"mouseup",!1)};return a.jsx("button",{id:i.current,ref:o,type:"button",className:d,title:t.title,"aria-label":t.ariaLabel,"aria-disabled":r||void 0,disabled:r,tabIndex:t.tabIndex,...h,children:a.jsx("span",{className:"px-2 align-middle",children:t.name})})});function Rt(e="",t=""){const[s,n]=w.useState(!1),[o,i]=w.useState(!1),[r,d]=w.useState(!1);return{className:w.useMemo(()=>[e,(s||o||r)&&t].filter(Boolean).join(" "),[e,t,s,o,r]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),i(!1)},onMouseDown:()=>i(!0),onMouseUp:()=>i(!1),onFocus:()=>d(!0),onBlur:()=>d(!1)}}}class T{constructor(t={}){if(!t.icon)throw new Error("ButtonIconObject requires `icon`.");this.id=t.id??B("btn-icon"),this.name=t.name,this.className=t.className??"btn btn-primary",this.active=t.active??"",this.disabled=!!t.disabled;const s=this.name||"icon button";this.title=t.title??s,this.ariaLabel=t.ariaLabel??s,this.tabIndex=t.tabIndex,this.icon=t.icon instanceof L?t.icon:new L(t.icon),this.onClick=t.onClick,this.onKeyDown=t.onKeyDown,this.onKeyUp=t.onKeyUp,this.onFocus=t.onFocus,this.onBlur=t.onBlur,this.onMouseEnter=t.onMouseEnter,this.onMouseLeave=t.onMouseLeave}}const Y=w.forwardRef(function({buttonIcon:t,output:s},n){if(!t||!(t instanceof T))throw new Error("AlloyButtonIcon requires `buttonIcon` (ButtonIconObject instance).");const o=w.useRef(null),i=w.useRef(t.id),r=t.disabled,{className:d,events:u}=Rt(t.className,t.active);w.useImperativeHandle(n,()=>({el:o.current,model:t,focus:()=>{var f;return(f=o.current)==null?void 0:f.focus()},click:()=>{var f;return(f=o.current)==null?void 0:f.click()}}),[t]);const l=(f,m,j,b)=>C=>{if(m==null||m(C),b&&typeof s=="function"){const c=S.ok({id:t.id,type:"button-icon",action:j,data:{name:t.name}});s(c)}f==null||f(C,t)},h={onClick:l(t.onClick,void 0,"click",!0),onKeyDown:l(t.onKeyDown,u.onFocus,"keydown",!0),onKeyUp:l(t.onKeyUp,void 0,"keyup",!1),onFocus:l(t.onFocus,u.onFocus,"focus",!1),onBlur:l(t.onBlur,u.onBlur,"blur",!1),onMouseEnter:l(t.onMouseEnter,u.onMouseEnter,"mouseenter",!1),onMouseLeave:l(t.onMouseLeave,u.onMouseLeave,"mouseleave",!1),onMouseDown:l(void 0,u.onMouseDown,"mousedown",!1),onMouseUp:l(void 0,u.onMouseUp,"mouseup",!1)};return a.jsxs("button",{id:i.current,ref:o,type:"button",className:d,title:t.title,"aria-label":t.ariaLabel,"aria-disabled":r||void 0,disabled:r,tabIndex:t.tabIndex,...h,children:[a.jsx("span",{className:"align-middle",children:a.jsx(U,{icon:t.icon})}),t.name&&a.jsx("span",{className:"px-2 align-middle",children:t.name})]})});class re{constructor(t={}){if(!t.name)throw new Error("ButtonSubmitObject requires `name`.");if(!t.icon)throw new Error("ButtonSubmitObject requires `icon`.");const s=t.icon instanceof L?t.icon:new L(t.icon);this.id=t.id??B("btn-submit"),this.name=t.name,this.icon=s,this.className=t.className??"",this.disabled=!!t.disabled,this.loading=!!t.loading,this.title=t.title??t.name,this.ariaLabel=t.ariaLabel??t.name,this.tabIndex=t.tabIndex,this.onClick=t.onClick,this.onMouseDown=t.onMouseDown,this.onKeyDown=t.onKeyDown}}const Xe=w.forwardRef(function({buttonSubmit:t,output:s},n){if(!t||!(t instanceof re))throw new Error("AlloyButtonSubmit requires `buttonSubmit` (ButtonSubmitObject instance).");const o=w.useRef(null),i=w.useRef(t.id),[r,d]=w.useState(!!t.loading),u=w.useRef(!1);w.useEffect(()=>{const c=!!t.loading;d(c),c||(u.current=!1)},[t.loading]);const l=t.disabled||r;w.useImperativeHandle(n,()=>({el:o.current,model:t,focus:()=>{var c;return(c=o.current)==null?void 0:c.focus()},click:()=>{var c;return(c=o.current)==null?void 0:c.click()}}),[t]);const h=()=>u.current||l?!1:(u.current=!0,t.loading=!0,t.disabled=!0,d(!0),!0),f=(c,p,x)=>{if(typeof s=="function"){const g=new S({id:t.id,type:"button-submit",action:x,error:!1,data:{name:t.name}});s(g)}p==null||p(c,t)},m=c=>{h()&&f(c,t.onClick,"click")},j=c=>{h()&&f(c,t.onMouseDown,"mousedown")},b=c=>{const p=c.key;(p==="Enter"||p===" ")&&h()&&f(c,t.onKeyDown,"keydown")},C=r;return a.jsxs("button",{id:i.current,ref:o,type:"submit",className:t.className,title:t.title,"aria-label":t.ariaLabel,"aria-busy":r||void 0,"aria-disabled":l||void 0,disabled:l,tabIndex:t.tabIndex,onClick:m,onMouseDown:j,onKeyDown:b,children:[C&&a.jsx("span",{className:"d-inline-flex align-middle",children:a.jsx(U,{icon:t.icon})}),a.jsx("span",{className:C?"px-2 align-middle":"align-middle",children:t.name}),r?a.jsx("span",{className:"ms-2 visually-hidden","aria-live":"polite",children:"Loading…"}):null]})});class V{constructor(t={}){const{id:s,name:n,type:o="text",label:i="",value:r,layout:d="text",icon:u,placeholder:l="",required:h=!1,minLength:f,maxLength:m,min:j,max:b,pattern:C,matchWith:c,passwordStrength:p,className:x,options:g=[],validators:N=[],...y}=t;if(!n)throw new Error("InputObject requires `name`.");if((d==="icon"||d==="floating")&&!u)throw new Error("InputObject with layout='icon' or 'floating' requires `icon`.");let v;typeof r<"u"?v=r:o==="checkbox"?v=[]:v="";const E=u instanceof L?u:u?new L(u):void 0;this.id=s??B("input"),this.name=n,this.type=o,this.label=i,this.value=v,this.layout=d,this.icon=E,this.placeholder=l,this.required=!!h,this.minLength=f,this.maxLength=m,this.min=j,this.max=b,this.pattern=C,this.matchWith=c,this.passwordStrength=p,typeof x=="string"&&x.trim()!==""?this.className=x.trim():o==="select"?this.className="form-select":o==="radio"||o==="checkbox"?this.className="form-check-input":this.className="form-control",this.options=g,this.validators=N,Object.assign(this,y)}}function oe({input:e,output:t}){const[s,n]=w.useState(e.value),[o,i]=w.useState(!1);w.useEffect(()=>{n(e.value),i(!1)},[e.value,e.required,e.minLength,e.maxLength,e.min,e.max,e.pattern,e.passwordStrength,e.matchWith,e.type,e.layout,e.options]);const r=y=>{const v=[],E=typeof y=="string"?y.trim():y;if(e.required){const M=Array.isArray(E)&&E.length===0,O=!Array.isArray(E)&&(E===""||E===!1||E==null);(M||O)&&v.push("This field is required.")}return typeof E=="string"&&e.minLength!=null&&E.length<e.minLength&&v.push(`Minimum length is ${e.minLength}`),typeof E=="string"&&e.maxLength!=null&&E.length>e.maxLength&&v.push(`Maximum length is ${e.maxLength}`),typeof E=="string"&&e.pattern&&e.pattern!==""&&(new RegExp(e.pattern).test(E)||v.push("Invalid format.")),e.passwordStrength&&typeof E=="string"&&(/(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}/.test(E)||v.push("Password is too weak.")),v},d=r(s),u=o&&d.length>0,l=u&&d.length>0&&a.jsx("div",{className:"mt-2","aria-live":"polite",children:d.map((y,v)=>a.jsx("div",{className:"alert alert-danger py-2 mb-2",role:"alert",children:y},v))}),h=(y,v="change")=>{const E=r(y),M=E.length>0;if(typeof t=="function"){const O=new S({id:e.id,type:"input",action:v,error:M,data:{name:e.name,value:y,errors:E}});t(O)}},f=y=>{const v=y.target.value;if(e.type==="checkbox"){const E=Array.isArray(s)?[...s]:[],M=E.indexOf(v);M>-1?E.splice(M,1):E.push(v),n(E),h(E,"change")}else e.type,n(v),h(v,"change")},m=()=>{i(!0),h(s,"blur")},j={id:e.id,name:e.name,placeholder:e.placeholder,onBlur:m,"aria-invalid":u||void 0},b=y=>y+(u?" is-invalid":""),C=()=>a.jsx("textarea",{...j,value:s,onChange:f,className:b(e.className)}),c=()=>a.jsx("select",{...j,value:s,onChange:f,className:b(e.className),children:e.options.map(y=>a.jsx("option",{value:y.value,children:y.label},y.value))}),p=()=>a.jsxs("div",{children:[e.label&&a.jsx("label",{className:"form-label d-block mb-2",children:e.label}),e.options.map((y,v)=>a.jsxs("div",{className:"form-check",children:[a.jsx("input",{type:"radio",id:`${e.id}_${v}`,className:b(e.className),name:e.name,value:y.value,checked:s===y.value,onChange:f,onBlur:m,"aria-invalid":u||void 0}),a.jsx("label",{className:"form-check-label",htmlFor:`${e.id}_${v}`,children:y.label})]},v)),l]}),x=()=>a.jsxs("div",{children:[e.label&&a.jsx("label",{className:"form-label d-block mb-2",children:e.label}),e.options.map((y,v)=>a.jsxs("div",{className:"form-check",children:[a.jsx("input",{type:"checkbox",id:`${e.id}_${v}`,className:b(e.className),name:e.name,value:y.value,checked:Array.isArray(s)&&s.includes(y.value),onChange:f,onBlur:m,"aria-invalid":u||void 0}),a.jsx("label",{className:"form-check-label",htmlFor:`${e.id}_${v}`,children:y.label})]},v)),l]}),g=()=>a.jsx("input",{...j,type:e.type,value:s,onChange:f,className:b(e.className)}),N=()=>{switch(e.type){case"textarea":return C();case"select":return c();case"radio":return p();case"checkbox":return x();default:return g()}};return e.layout==="floating"?a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"form-floating",children:[N(),a.jsxs("label",{htmlFor:e.id,children:[e.icon&&a.jsx(U,{icon:e.icon}),e.icon&&" ",e.label]})]}),!(e.type==="radio"||e.type==="checkbox")&&l]}):e.layout==="icon"?a.jsxs("div",{className:"mb-3",children:[e.label&&a.jsx("label",{htmlFor:e.id,className:"form-label",children:e.label}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:a.jsx(U,{icon:e.icon})}),["radio","checkbox"].includes(e.type)?N():a.jsx("input",{...j,type:e.type,value:s,onChange:f,className:b(e.className)})]}),!(e.type==="radio"||e.type==="checkbox")&&l]}):a.jsxs("div",{className:"mb-3",children:[["text","textarea","number","email","password","date"].includes(e.type)&&e.label&&a.jsx("label",{htmlFor:e.id,className:"form-label",children:e.label}),N(),!(e.type==="radio"||e.type==="checkbox")&&l]})}class W{constructor(t={}){this.id=t.id??B("linkBar"),this.className=t.className??"d-flex justify-content-center",this.type=t.type??"AlloyLink",this.linkClass=t.linkClass??"nav-item",this.selected=t.selected??"active",t.title instanceof k?this.title=t.title:t.title?this.title=new k(t.title):this.title=new k({});const s=Array.isArray(t.links)?t.links:[];this.type==="AlloyLinkIcon"?this.links=s.map(n=>n instanceof Q?n:new Q(n)):this.type==="AlloyLinkLogo"?this.links=s.map(n=>n instanceof H?n:new H(n)):this.links=s.map(n=>n instanceof X?n:new X(n))}}function Mt(e,t,s,n){const o=s?t:"";return e instanceof X?new X({id:e.id,name:e.name,href:e.href,className:e.className,active:o,target:e.target,rel:e.rel,onClick:n,title:e.title}):e instanceof Q?new Q({id:e.id,href:e.href,icon:e.icon,name:e.name,className:e.className,active:o,target:e.target,rel:e.rel,onClick:n,title:e.title}):e instanceof H?new H({id:e.id,name:e.name,href:e.href,logo:e.logo,width:e.width,height:e.height,logoAlt:e.logoAlt,className:e.className,active:o,target:e.target,rel:e.rel,onClick:n,title:e.title}):e}function de({linkBar:e}){if(!e||!(e instanceof W))throw new Error("AlloyLinkBar requires `linkBar` (LinkBarObject instance).");const t=w.useRef(e.id),[s,n]=w.useState("");w.useEffect(()=>{n("")},[e]);const o=()=>e.title&&e.title.name?a.jsx("div",{id:e.title.id,className:e.title.className,children:e.title.name}):null;function i(d){const u=d.onClick;return l=>{const h=d.id||`${d.href||""}-${d.name||""}`;n(h),u==null||u(l)}}function r(){return a.jsx("ul",{id:t.current,className:e.className,children:e.links.map((d,u)=>{const l=((d==null?void 0:d.id)??"")===s,h=Mt(d,e.selected,l,i(d));switch(e.type){case"AlloyLink":if(!(h instanceof X))throw new Error("AlloyLinkBar (type='AlloyLink') expects each link to be a LinkObject instance.");return a.jsx("li",{className:e.linkClass,children:a.jsx(Ye,{link:h})},((d==null?void 0:d.id)??u)+"-li");case"AlloyLinkIcon":if(!(h instanceof Q))throw new Error("AlloyLinkBar (type='AlloyLinkIcon') expects each link to be a LinkIconObject instance.");return a.jsx("li",{className:e.linkClass,children:a.jsx(Ze,{linkIcon:h})},((d==null?void 0:d.id)??u)+"-li");case"AlloyLinkLogo":if(!(h instanceof H))throw new Error("AlloyLinkBar (type='AlloyLinkLogo') expects each link to be a LinkLogoObject instance.");return a.jsx("li",{className:e.linkClass,children:a.jsx(Me,{linkLogo:h})},((d==null?void 0:d.id)??u)+"-li");default:throw new Error(`Unsupported linkBar.type "${e.type}".`)}})})}return a.jsxs("nav",{"data-type":e.type,children:[a.jsx(o,{}),r()]})}class I{constructor(t={}){this.id=t.id??B("buttonBar"),this.className=t.className??"d-flex justify-content-center",this.type=t.type??"AlloyButton",this.buttonClass=t.buttonClass??"nav-item",this.selected=t.selected??"active",t.title instanceof k?this.title=t.title:t.title?this.title=new k(t.title):this.title=new k({});const s=Array.isArray(t.buttons)?t.buttons:[];this.type==="AlloyButtonIcon"?this.buttons=s.map(n=>n instanceof T?n:new T(n)):this.buttons=s.map(n=>n instanceof q?n:new q(n))}}function Ve(e,t,s,n,o){const i=s?t:"";function r(d){var h,f;if(!d)return;if((d.action||((h=d==null?void 0:d.data)==null?void 0:h.event)||"")==="click"){const m=((f=d==null?void 0:d.data)==null?void 0:f.id)??"";m&&n(m)}o==null||o(d)}return e instanceof q?{model:new q({id:e.id,name:e.name,className:e.className,active:i,disabled:e.disabled,title:e.title,ariaLabel:e.ariaLabel,tabIndex:e.tabIndex,onClick:e.onClick,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onFocus:e.onFocus,onBlur:e.onBlur,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}),onAnyEvent:r}:e instanceof T?{model:new T({id:e.id,name:e.name,icon:e.icon,className:e.className,active:i,disabled:e.disabled,title:e.title,ariaLabel:e.ariaLabel,tabIndex:e.tabIndex,onClick:e.onClick,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onFocus:e.onFocus,onBlur:e.onBlur,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}),onAnyEvent:r}:{model:e,onAnyEvent:r}}function ue({buttonBar:e,output:t}){if(!e||!(e instanceof I))throw new Error("AlloyButtonBar requires `buttonBar` (ButtonBarObject instance).");const s=w.useRef(e.id),[n,o]=w.useState("");w.useEffect(()=>{o("")},[e]);const i=()=>e.title&&e.title.name?a.jsx("div",{id:e.title.id,className:e.title.className,children:e.title.name}):null;function r(){return a.jsx("ul",{id:s.current,className:e.className,children:e.buttons.map((l,h)=>{if(!(l instanceof q))throw new Error("AlloyButtonBar (type='AlloyButton') expects ButtonObject items.");const f=((l==null?void 0:l.id)??"")===n,{model:m,onAnyEvent:j}=Ve(l,e.selected,f,o,t);return a.jsx("li",{className:e.buttonClass,children:a.jsx(ge,{button:m,output:j})},((l==null?void 0:l.id)??h)+"-li")})})}function d(){return a.jsx("ul",{id:s.current,className:e.className,children:e.buttons.map((l,h)=>{if(!(l instanceof T))throw new Error("AlloyButtonBar (type='AlloyButtonIcon') expects ButtonIconObject items.");const f=((l==null?void 0:l.id)??"")===n,{model:m,onAnyEvent:j}=Ve(l,e.selected,f,o,t);return a.jsx("li",{className:e.buttonClass,children:a.jsx(Y,{buttonIcon:m,output:j})},((l==null?void 0:l.id)??h)+"-li")})})}function u(){switch(e.type){case"AlloyButtonIcon":return d();case"AlloyButton":default:return r()}}return a.jsxs("nav",{"data-type":e.type,children:[a.jsx(i,{}),u()]})}class Qe{constructor(t={}){if(this.id=t.id??B("navbar"),this.className=t.className??"navbar navbar-expand-lg navbar-light bg-light",t.logo instanceof H)this.logo=t.logo;else{const s=t.logo??{href:"/",logo:"/logos/alloy.svg",name:"Alloy",width:110,height:28,logoAlt:"Alloy",className:"navbar-brand d-flex align-items-center gap-2"};this.logo=new H(s)}if(t.linkBar instanceof W)this.linkBar=t.linkBar;else{const s=t.linkBar??{};this.linkBar=new W({id:s.id,className:s.className??"navbar-nav ms-auto mb-2 mb-lg-0 gap-2",title:s.title??{name:"",className:"text-center fw-semibold mb-2"},type:s.type??"AlloyLink",linkClass:s.linkClass??"nav-item",selected:s.selected??"active",links:Array.isArray(s.links)?s.links:[]})}}}function Dt({navBar:e}){if(!e||!(e instanceof Qe))throw new Error("AlloyNavBar requires `navBar` (NavBarObject instance).");const t=w.useRef(e.id),s=`${t.current}-collapse`;return a.jsx("nav",{id:t.current,className:e.className,children:a.jsxs("div",{className:"container-fluid",children:[a.jsx(Me,{linkLogo:e.logo}),a.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":`#${s}`,"aria-controls":s,"aria-expanded":"false","aria-label":"Toggle navigation",children:a.jsx("span",{className:"navbar-toggler-icon"})}),a.jsx("div",{className:"position-relative navbar-collapse collapse justify-content-end",id:s,children:a.jsx(de,{linkBar:e.linkBar})})]})})}function Ft(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}class et{constructor(t={}){this.id=t.id??B("table"),this.className=t.className??"table",this.name=t.name??"table",this.rows=Array.isArray(t.rows)?t.rows.slice():[];const s={iconClass:"fa-solid fa-user"},n={iconClass:"fa-solid fa-arrow-down"},o=t.icon instanceof L?t.icon:new L(t.icon||s),i=t.sort instanceof L?t.sort:new L(t.sort||n);this.icon=o,this.sort=i}}function Tt(e){return!e||e.length===0?[]:Object.keys(e[0]).filter(t=>t!=="id")}function Pt({table:e,output:t}){if(!e||!(e instanceof et))throw new Error("AlloyTable requires `table` (TableObject instance).");const s=w.useRef(e.id),[n,o]=w.useState({col:"",dir:"asc"}),i=w.useMemo(()=>Tt(e.rows),[e.rows]),r=u=>{if(!u)return;const l=n.col===u&&n.dir==="asc"?"desc":"asc";o({col:u,dir:l}),t==null||t({type:"column",name:u,dir:l})},d=u=>{t==null||t({type:"row",id:u})};return a.jsxs("table",{id:s.current,className:e.className,children:[a.jsx("caption",{className:"caption-top text-center",children:e.name}),a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",children:"Type"}),i.map(u=>{const l=n.col===u,h=l&&n.dir==="desc";return a.jsx("th",{scope:"col",children:a.jsxs("span",{onClick:()=>r(u),style:{userSelect:"none",cursor:"pointer"},children:[Ft(u),l&&a.jsx("span",{className:"ms-1 d-inline-flex align-middle","aria-hidden":"true",title:h?"Sorted descending":"Sorted ascending",style:{transform:h?"rotate(180deg)":"none",transition:"transform 120ms"},children:a.jsx(U,{icon:e.sort})})]})},u)})]})}),a.jsx("tbody",{children:e.rows.length>0?e.rows.map((u,l)=>a.jsxs("tr",{onClick:()=>d(u==null?void 0:u.id),style:{cursor:"pointer"},children:[a.jsx("td",{children:a.jsx(U,{icon:e.icon})}),i.map(h=>a.jsx("td",{children:a.jsx("span",{children:u==null?void 0:u[h]})},`${(u==null?void 0:u.id)??l}-${h}`))]},(u==null?void 0:u.id)??l)):a.jsx("tr",{children:a.jsx("td",{colSpan:Math.max(1,i.length)+1,className:"text-center text-secondary",children:"No rows"})})})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Be.apply(this,arguments)}var _e;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_e||(_e={}));function F(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Le(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function tt(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var Ke;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ke||(Ke={}));function We(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=$t(e.path,e.caseSensitive,e.end),o=t.match(s);if(!o)return null;let i=o[0],r=i.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:n.reduce((l,h,f)=>{let{paramName:m,isOptional:j}=h;if(m==="*"){let C=d[f]||"";r=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const b=d[f];return j&&!b?l[m]=void 0:l[m]=(b||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:r,pattern:e}}function $t(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),fe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,d,u)=>(n.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function se(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function Ut(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:o=""}=typeof e=="string"?tt(e):e;return{pathname:s?s.startsWith("/")?s:qt(s,t):t,search:_t(n),hash:Kt(o)}}function qt(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Oe(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vt(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function st(e,t){let s=Vt(e);return t?s.map((n,o)=>o===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function nt(e,t,s,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=tt(e):(o=Be({},e),F(!o.pathname||!o.pathname.includes("?"),Oe("?","pathname","search",o)),F(!o.pathname||!o.pathname.includes("#"),Oe("#","pathname","hash",o)),F(!o.search||!o.search.includes("#"),Oe("#","search","hash",o)));let i=e===""||o.pathname==="",r=i?"/":o.pathname,d;if(r==null)d=s;else{let f=t.length-1;if(!n&&r.startsWith("..")){let m=r.split("/");for(;m[0]==="..";)m.shift(),f-=1;o.pathname=m.join("/")}d=f>=0?t[f]:"/"}let u=Ut(o,d),l=r&&r!=="/"&&r.endsWith("/"),h=(i||r===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(l||h)&&(u.pathname+="/"),u}const De=e=>e.join("/").replace(/\/\/+/g,"/"),_t=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kt=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,at=["post","put","patch","delete"];new Set(at);const Wt=["get",...at];new Set(Wt);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Re.apply(this,arguments)}const Ce=A.createContext(null);process.env.NODE_ENV!=="production"&&(Ce.displayName="DataRouter");const ot=A.createContext(null);process.env.NODE_ENV!=="production"&&(ot.displayName="DataRouterState");const It=A.createContext(null);process.env.NODE_ENV!=="production"&&(It.displayName="Await");const G=A.createContext(null);process.env.NODE_ENV!=="production"&&(G.displayName="Navigation");const Fe=A.createContext(null);process.env.NODE_ENV!=="production"&&(Fe.displayName="Location");const ie=A.createContext({outlet:null,matches:[],isDataRoute:!1});process.env.NODE_ENV!=="production"&&(ie.displayName="Route");const zt=A.createContext(null);process.env.NODE_ENV!=="production"&&(zt.displayName="RouteError");function Jt(e,t){let{relative:s}=t===void 0?{}:t;Te()||(process.env.NODE_ENV!=="production"?F(!1,"useHref() may be used only in the context of a <Router> component."):F(!1));let{basename:n,navigator:o}=A.useContext(G),{hash:i,pathname:r,search:d}=me(e,{relative:s}),u=r;return n!=="/"&&(u=r==="/"?n:De([n,r])),o.createHref({pathname:u,search:d,hash:i})}function Te(){return A.useContext(Fe)!=null}function he(){return Te()||(process.env.NODE_ENV!=="production"?F(!1,"useLocation() may be used only in the context of a <Router> component."):F(!1)),A.useContext(Fe).location}const it="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rt(e){A.useContext(G).static||A.useLayoutEffect(e)}function Ht(){let{isDataRoute:e}=A.useContext(ie);return e?Qt():Gt()}function Gt(){Te()||(process.env.NODE_ENV!=="production"?F(!1,"useNavigate() may be used only in the context of a <Router> component."):F(!1));let e=A.useContext(Ce),{basename:t,future:s,navigator:n}=A.useContext(G),{matches:o}=A.useContext(ie),{pathname:i}=he(),r=JSON.stringify(st(o,s.v7_relativeSplatPath)),d=A.useRef(!1);return rt(()=>{d.current=!0}),A.useCallback(function(l,h){if(h===void 0&&(h={}),process.env.NODE_ENV!=="production"&&fe(d.current,it),!d.current)return;if(typeof l=="number"){n.go(l);return}let f=nt(l,JSON.parse(r),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:De([t,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[t,n,r,i,e])}function me(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=A.useContext(G),{matches:o}=A.useContext(ie),{pathname:i}=he(),r=JSON.stringify(st(o,n.v7_relativeSplatPath));return A.useMemo(()=>nt(e,JSON.parse(r),i,s==="path"),[e,r,i,s])}var lt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lt||{}),Pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pe||{});function ct(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function Yt(e){let t=A.useContext(Ce);return t||(process.env.NODE_ENV!=="production"?F(!1,ct(e)):F(!1)),t}function Zt(e){let t=A.useContext(ie);return t||(process.env.NODE_ENV!=="production"?F(!1,ct(e)):F(!1)),t}function dt(e){let t=Zt(e),s=t.matches[t.matches.length-1];return s.route.id||(process.env.NODE_ENV!=="production"?F(!1,e+' can only be used on routes that contain a unique "id"'):F(!1)),s.route.id}function Xt(){return dt(Pe.UseRouteId)}function Qt(){let{router:e}=Yt(lt.UseNavigateStable),t=dt(Pe.UseNavigateStable),s=A.useRef(!1);return rt(()=>{s.current=!0}),A.useCallback(function(o,i){i===void 0&&(i={}),process.env.NODE_ENV!=="production"&&fe(s.current,it),s.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Re({fromRouteId:t},i)))},[e,t])}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ne.apply(this,arguments)}function $e(e,t){if(e==null)return{};var s={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(s[o]=e[o]);return s}const xe="get",ve="application/x-www-form-urlencoded";function Ee(e){return e!=null&&typeof e.tagName=="string"}function es(e){return Ee(e)&&e.tagName.toLowerCase()==="button"}function ts(e){return Ee(e)&&e.tagName.toLowerCase()==="form"}function ss(e){return Ee(e)&&e.tagName.toLowerCase()==="input"}function ns(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function as(e,t){return e.button===0&&(!t||t==="_self")&&!ns(e)}let ye=null;function os(){if(ye===null)try{new FormData(document.createElement("form"),0),ye=!1}catch{ye=!0}return ye}const is=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Se(e){return e!=null&&!is.has(e)?(process.env.NODE_ENV!=="production"&&fe(!1,'"'+e+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` '+('and will default to "'+ve+'"')),null):e}function rs(e,t){let s,n,o,i,r;if(ts(e)){let d=e.getAttribute("action");n=d?se(d,t):null,s=e.getAttribute("method")||xe,o=Se(e.getAttribute("enctype"))||ve,i=new FormData(e)}else if(es(e)||ss(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||d.getAttribute("action");if(n=u?se(u,t):null,s=e.getAttribute("formmethod")||d.getAttribute("method")||xe,o=Se(e.getAttribute("formenctype"))||Se(d.getAttribute("enctype"))||ve,i=new FormData(d,e),!os()){let{name:l,type:h,value:f}=e;if(h==="image"){let m=l?l+".":"";i.append(m+"x","0"),i.append(m+"y","0")}else l&&i.append(l,f)}}else{if(Ee(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=xe,n=null,o=ve,r=e}return i&&o==="text/plain"&&(r=i,i=void 0),{action:n,method:s.toLowerCase(),encType:o,formData:i,body:r}}const ls=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cs=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ds=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],us="6";try{window.__reactRouterVersion=us}catch{}const ut=A.createContext({isTransitioning:!1});process.env.NODE_ENV!=="production"&&(ut.displayName="ViewTransition");const fs=A.createContext(new Map);process.env.NODE_ENV!=="production"&&(fs.displayName="Fetchers");process.env.NODE_ENV;const hs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ms=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z=A.forwardRef(function(t,s){let{onClick:n,relative:o,reloadDocument:i,replace:r,state:d,target:u,to:l,preventScrollReset:h,viewTransition:f}=t,m=$e(t,ls),{basename:j}=A.useContext(G),b,C=!1;if(typeof l=="string"&&ms.test(l)&&(b=l,hs))try{let g=new URL(window.location.href),N=l.startsWith("//")?new URL(g.protocol+l):new URL(l),y=se(N.pathname,j);N.origin===g.origin&&y!=null?l=y+N.search+N.hash:C=!0}catch{process.env.NODE_ENV!=="production"&&fe(!1,'<Link to="'+l+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let c=Jt(l,{relative:o}),p=vs(l,{replace:r,state:d,target:u,preventScrollReset:h,relative:o,viewTransition:f});function x(g){n&&n(g),g.defaultPrevented||p(g)}return A.createElement("a",ne({},m,{href:b||c,onClick:C||i?n:x,ref:s,target:u}))});process.env.NODE_ENV!=="production"&&(z.displayName="Link");const ps=A.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:o=!1,className:i="",end:r=!1,style:d,to:u,viewTransition:l,children:h}=t,f=$e(t,cs),m=me(u,{relative:f.relative}),j=he(),b=A.useContext(ot),{navigator:C,basename:c}=A.useContext(G),p=b!=null&&Cs(m)&&l===!0,x=C.encodeLocation?C.encodeLocation(m).pathname:m.pathname,g=j.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;o||(g=g.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&c&&(N=se(N,c)||N);const y=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let v=g===x||!r&&g.startsWith(x)&&g.charAt(y)==="/",E=N!=null&&(N===x||!r&&N.startsWith(x)&&N.charAt(x.length)==="/"),M={isActive:v,isPending:E,isTransitioning:p},O=v?n:void 0,D;typeof i=="function"?D=i(M):D=[i,v?"active":null,E?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let R=typeof d=="function"?d(M):d;return A.createElement(z,ne({},f,{"aria-current":O,className:D,ref:s,style:R,to:u,viewTransition:l}),typeof h=="function"?h(M):h)});process.env.NODE_ENV!=="production"&&(ps.displayName="NavLink");const ys=A.forwardRef((e,t)=>{let{fetcherKey:s,navigate:n,reloadDocument:o,replace:i,state:r,method:d=xe,action:u,onSubmit:l,relative:h,preventScrollReset:f,viewTransition:m}=e,j=$e(e,ds),b=js(),C=gs(u,{relative:h}),c=d.toLowerCase()==="get"?"get":"post",p=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let g=x.nativeEvent.submitter,N=(g==null?void 0:g.getAttribute("formmethod"))||d;b(g||x.currentTarget,{fetcherKey:s,method:N,navigate:n,replace:i,state:r,relative:h,preventScrollReset:f,viewTransition:m})};return A.createElement("form",ne({ref:t,method:c,action:C,onSubmit:o?l:p},j))});process.env.NODE_ENV!=="production"&&(ys.displayName="Form");process.env.NODE_ENV;var be;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(be||(be={}));var Ie;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ie||(Ie={}));function xs(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function ft(e){let t=A.useContext(Ce);return t||(process.env.NODE_ENV!=="production"?F(!1,xs(e)):F(!1)),t}function vs(e,t){let{target:s,replace:n,state:o,preventScrollReset:i,relative:r,viewTransition:d}=t===void 0?{}:t,u=Ht(),l=he(),h=me(e,{relative:r});return A.useCallback(f=>{if(as(f,s)){f.preventDefault();let m=n!==void 0?n:Le(l)===Le(h);u(e,{replace:m,state:o,preventScrollReset:i,relative:r,viewTransition:d})}},[l,u,h,n,o,s,e,i,r,d])}function bs(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let ws=0,Ns=()=>"__"+String(++ws)+"__";function js(){let{router:e}=ft(be.UseSubmit),{basename:t}=A.useContext(G),s=Xt();return A.useCallback(function(n,o){o===void 0&&(o={}),bs();let{action:i,method:r,encType:d,formData:u,body:l}=rs(n,t);if(o.navigate===!1){let h=o.fetcherKey||Ns();e.fetch(h,s,o.action||i,{preventScrollReset:o.preventScrollReset,formData:u,body:l,formMethod:o.method||r,formEncType:o.encType||d,flushSync:o.flushSync})}else e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:u,body:l,formMethod:o.method||r,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,s])}function gs(e,t){let{relative:s}=t===void 0?{}:t,{basename:n}=A.useContext(G),o=A.useContext(ie);o||(process.env.NODE_ENV!=="production"?F(!1,"useFormAction must be used inside a RouteContext"):F(!1));let[i]=o.matches.slice(-1),r=ne({},me(e||".",{relative:s})),d=he();if(e==null){r.search=d.search;let u=new URLSearchParams(r.search),l=u.getAll("index");if(l.some(f=>f==="")){u.delete("index"),l.filter(m=>m).forEach(m=>u.append("index",m));let f=u.toString();r.search=f?"?"+f:""}}return(!e||e===".")&&i.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:De([n,r.pathname])),Le(r)}function Cs(e,t){t===void 0&&(t={});let s=A.useContext(ut);s==null&&(process.env.NODE_ENV!=="production"?F(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?"):F(!1));let{basename:n}=ft(be.useViewTransitionState),o=me(e,{relative:t.relative});if(!s.isTransitioning)return!1;let i=se(s.currentLocation.pathname,n)||s.currentLocation.pathname,r=se(s.nextLocation.pathname,n)||s.nextLocation.pathname;return We(o.pathname,r)!=null||We(o.pathname,i)!=null}function Es(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}class ht{constructor(t={}){if(!t.link)throw new Error("TableLinkObject requires `link` (base route).");this.id=t.id??B("table-link"),this.className=t.className??"table",this.name=t.name??"table",this.rows=Array.isArray(t.rows)?t.rows.slice():[],this.link=t.link;const s={iconClass:"fa-solid fa-user"},n={iconClass:"fa-solid fa-arrow-down"};this.icon=t.icon instanceof L?t.icon:new L(t.icon||s),this.sort=t.sort instanceof L?t.sort:new L(t.sort||n)}}function ks(e){return!e||e.length===0?[]:Object.keys(e[0]).filter(t=>t!=="id")}function As({tableLink:e,output:t}){if(!e||!(e instanceof ht))throw new Error("AlloyTableLink requires `tableLink` (TableLinkObject instance).");const s=w.useRef(e.id),[n,o]=w.useState({col:"",dir:"asc"}),i=w.useMemo(()=>ks(e.rows),[e.rows]),r=d=>{if(!d)return;const u=n.col===d&&n.dir==="asc"?"desc":"asc";o({col:d,dir:u}),t==null||t({type:"column",name:d,dir:u})};return a.jsxs("table",{id:s.current,className:e.className,children:[a.jsx("caption",{className:"caption-top text-center",children:e.name}),a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",children:"Type"}),i.map(d=>{const u=n.col===d,l=u&&n.dir==="desc";return a.jsx("th",{scope:"col",children:a.jsxs("span",{onClick:()=>r(d),style:{userSelect:"none",cursor:"pointer"},children:[Es(d),u&&a.jsx("span",{className:"ms-1 d-inline-flex align-middle","aria-hidden":"true",title:l?"Sorted descending":"Sorted ascending",style:{transform:l?"rotate(180deg)":"none",transition:"transform 120ms"},children:a.jsx(U,{icon:e.sort})})]})},d)})]})}),a.jsx("tbody",{children:e.rows.length>0?e.rows.map((d,u)=>{const l=(d==null?void 0:d.id)??u,f=`${e.link.endsWith("/")?e.link.slice(0,-1):e.link}/${l}`;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(U,{icon:e.icon})}),i.map(m=>a.jsx("td",{children:a.jsx(z,{to:f,className:"text-decoration-none",onClick:()=>t==null?void 0:t({type:"navigate",to:f,id:l}),children:a.jsx("span",{children:d==null?void 0:d[m]})})},`${l}-${m}`))]},l)}):a.jsx("tr",{children:a.jsx("td",{colSpan:Math.max(1,i.length)+1,className:"text-center text-secondary",children:"No rows"})})})]})}function Os(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}function Ss(e){if(!Array.isArray(e)||e.length===0)return[];const t=e[0]??{};return Object.keys(t).filter(s=>s!=="id")}function Bs(e){if(!e||typeof e!="object")return"";const t=typeof e.name=="string"?e.name.trim():"";if(t)return t;const s=typeof e.ariaLabel=="string"?e.ariaLabel.trim():"";if(s)return s;const n=typeof e.title=="string"?e.title.trim():"";if(n)return n;const o=typeof e.id=="string"?e.id.trim():"";return o||""}class ae{constructor(t={}){this.id=t.id??B("table-action"),this.className=t.className??"table",this.name=t.name??"table",this.rows=Array.isArray(t.rows)?t.rows.slice():[],this.link=typeof t.link=="string"?t.link:"";const s=new L({iconClass:"fa-solid fa-user"}),n=new L({iconClass:"fa-solid fa-arrow-down"});this.icon=t.icon instanceof L?t.icon:new L(t.icon||s),this.sort=t.sort instanceof L?t.sort:new L(t.sort||n),this.actions=t.actions?t.actions instanceof I?t.actions:new I(t.actions):void 0}}function Ue({tableAction:e,output:t}){if(!e||!(e instanceof ae))throw new Error("AlloyTableAction requires `tableAction` (TableActionObject instance).");const s=w.useRef(e.id),n=w.useMemo(()=>Ss(e.rows),[e.rows]),[o,i]=w.useState({col:"",dir:"asc"});function r(l){const h=o.col===l&&o.dir==="asc"?"desc":"asc";i({col:l,dir:h});const f=new S({id:s.current,type:"column",action:"Sort",error:!1,data:{name:l,dir:h}});t==null||t(f)}function d(l){return(h,f)=>{const m=Bs(h),j=new S({id:s.current,type:"table",action:m,error:!1,data:l});t==null||t(j)}}const u=!!e.actions;return a.jsxs("table",{id:s.current,className:e.className,children:[a.jsx("caption",{className:"caption-top text-center",children:e.name}),a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",children:"Type"}),n.map(l=>{const h=o.col===l,f=h&&o.dir==="desc";return a.jsx("th",{scope:"col",children:a.jsxs("span",{onClick:()=>r(l),style:{userSelect:"none",cursor:"pointer"},children:[Os(l),h&&a.jsx("span",{className:"ms-1 d-inline-flex align-middle","aria-hidden":"true",title:f?"Sorted descending":"Sorted ascending",style:{transform:f?"rotate(180deg)":"none",transition:"transform 120ms"},children:a.jsx(U,{icon:e.sort})})]})},`h-${l}`)}),u&&a.jsx("th",{scope:"col",className:"text-end",children:"Actions"})]})}),a.jsx("tbody",{children:e.rows.length>0?e.rows.map((l,h)=>{const f=(l==null?void 0:l.id)??h,m=e.actions;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(U,{icon:e.icon})}),n.map(j=>{const b=e.link||"",C=b.endsWith("/")?b.slice(0,-1):b,c=C?`${C}/${f}`:"";return a.jsx("td",{children:C?a.jsx(z,{to:c,onClick:()=>{const p=new S({id:s.current,type:"row",action:"navigate",error:!1,data:{to:c,...l}});t==null||t(p)},className:"text-decoration-none",children:a.jsx("span",{children:l==null?void 0:l[j]})}):a.jsx("span",{children:l==null?void 0:l[j]})},`${f}-${j}`)}),u&&a.jsx("td",{className:"text-end",children:a.jsx(ue,{buttonBar:m,output:d(l)})})]},f)}):a.jsx("tr",{children:a.jsx("td",{colSpan:1+n.length+(u?1:0),className:"text-center text-secondary",children:"No rows"})})})]})}class le{constructor(t={}){if(!t.body)throw new Error("CardObject requires `body`.");if(this.id=t.id??B("card"),this.className=t.className??"card border m-2 shadow",this.link=typeof t.link=="string"?t.link:"",t.header instanceof k)this.header=t.header;else if(t.header){const n=new k(t.header);n.className=n.className||"card-header",this.header=n}else this.header=void 0;if(t.body instanceof k)this.body=t.body;else{const n=new k(t.body);n.className=n.className||"card-body",this.body=n}if(t.footer instanceof k)this.footer=t.footer;else if(t.footer){const n=new k(t.footer);n.className=n.className||"card-footer",this.footer=n}else this.footer=void 0;const s=Array.isArray(t.fields)?t.fields:[];this.fields=s.map(n=>n instanceof k?n:new k(n||{}))}}function mt({card:e}){var i;if(!e||!(e instanceof le))throw new Error("AlloyCard requires `card` (CardObject instance).");const t=e.header?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header","aria-label":e.header.name,children:e.header.name}):null,s=a.jsxs("div",{id:e.body.id,className:e.body.className||"card-body","aria-label":e.body.name,children:[e.body.name&&a.jsx("div",{className:"mb-2",children:e.body.name}),e.fields.map(r=>a.jsx("div",{id:r.id,className:r.className,"aria-label":r.name,children:r.name},r.id))]}),n=e.link?a.jsx(z,{to:e.link,className:"text-decoration-none d-block","aria-label":(i=e.body)==null?void 0:i.name,children:s}):s,o=e.footer?a.jsx("div",{id:e.footer.id,className:e.footer.className||"card-footer","aria-label":e.footer.name,children:e.footer.name}):null;return a.jsxs("div",{id:e.id,className:e.className,children:[t,n,o]})}class pt extends le{constructor(t={}){if(super(t),!t.icon)throw new Error("CardIconObject requires `icon`.");this.icon=t.icon instanceof L?t.icon:new L(t.icon),this.iconClass=t.iconClass??"col-4 d-flex align-items-start justify-content-center text-warning fs-2",this.textClass=t.textClass??"col-8"}}function Ls({cardIcon:e}){var i,r,d,u;if(!e||!(e instanceof pt))throw new Error("AlloyCardIcon requires `cardIcon` (CardIconObject instance).");const t=(i=e.header)!=null&&i.name?a.jsx("div",{id:e.header.id,className:e.header.className,children:e.header.name}):null,s=a.jsx("div",{id:e.body.id,className:e.body.className,"aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.iconClass,children:a.jsx(U,{icon:e.icon})}),a.jsxs("div",{className:e.textClass,children:[(r=e.body)!=null&&r.name?a.jsx("div",{className:"mb-1 fw-semibold",children:e.body.name}):null,e.fields.map(l=>l!=null&&l.name?a.jsx("div",{id:l.id,className:l.className,children:l.name},l.id):null)]})]})}),n=e.link?a.jsx(z,{to:e.link,className:"text-decoration-none d-block","aria-label":(d=e.body)==null?void 0:d.name,children:s}):s,o=(u=e.footer)!=null&&u.name?a.jsx("div",{id:e.footer.id,className:e.footer.className,children:e.footer.name}):null;return a.jsxs("div",{id:e.id,className:e.className,children:[t,n,o]})}class ze{constructor(t={}){this.id=t.id??B("logo"),this.imageUrl=t.imageUrl??"https://alloymobile.blob.core.windows.net/alloymobile/alloymobile.png",this.alt=t.alt??"Alloymobile",this.width=t.width??"72px",this.height=t.height??"auto"}}class qe{constructor(t={}){this.id=t.id??B("card"),this.className=t.className??"card border m-2 shadow",this.link=typeof t.link=="string"?t.link:"",this.header=t.header instanceof k?t.header:new k(t.header||{}),this.body=t.body instanceof k?t.body:new k(t.body||{}),this.footer=t.footer instanceof k?t.footer:new k(t.footer||{});const s=Array.isArray(t.fields)?t.fields:[];this.fields=s.map(n=>n instanceof k?n:new k(n||{})),this.logo=t.logo instanceof ze?t.logo:new ze(t.logo||{}),this.logoClass=t.logoClass??"col-4 d-flex align-items-center justify-content-center bg-light rounded mb-0",this.textClass=t.textClass??"col-8"}}function Rs({cardImage:e}){var i,r,d,u;if(!(e instanceof qe))throw new Error("AlloyCardImage requires `cardImage` (CardImageObject instance).");const t=(i=e.header)!=null&&i.name?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header py-2 fw-semibold","aria-label":e.header.name,children:e.header.name}):null,s=a.jsx("div",{id:e.body.id,className:e.body.className||"card-body py-3","aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.logoClass,children:a.jsx("img",{src:e.logo.imageUrl,alt:e.logo.alt,style:{width:e.logo.width,height:e.logo.height,maxWidth:"100%",objectFit:"contain"}})}),a.jsx("div",{className:e.textClass,children:a.jsxs("div",{className:"row p-1",children:[(r=e.body)!=null&&r.name?a.jsx("div",{className:"fw-semibold mb-1",children:e.body.name}):null,e.fields.map(l=>l!=null&&l.name?a.jsx("div",{id:l.id,className:l.className||"",children:l.name},l.id??B("card-image-field")):null)]})})]})}),n=e.link?a.jsx(z,{to:e.link,className:"text-decoration-none d-block","aria-label":(d=e.body)==null?void 0:d.name,children:s}):s,o=(u=e.footer)!=null&&u.name?a.jsx("div",{id:e.footer.id,className:e.footer.className||"card-footer small text-muted py-2","aria-label":e.footer.name,children:e.footer.name}):null;return a.jsxs("div",{id:e.id,className:e.className,children:[t,n,o]})}class we{constructor(t={}){this.id=t.id??B("card-action"),this.className=t.className??"card border m-2 shadow",this.link=t.link??"";const s=t.header??{};this.header=s instanceof k?s:new k(s);const n=t.body??{};this.body=n instanceof k?n:new k(n);const o=Array.isArray(t.fields)?t.fields:[];this.fields=o.map(d=>d instanceof k?d:new k(d||{}));const i=t.footer??{};this.footer=i instanceof k?i:new k(i),this.type=t.type??"AlloyButtonBar";const r=t.action;this.type==="AlloyLinkBar"?this.action=r instanceof W?r:r?new W(r):void 0:this.action=r instanceof I?r:r?new I(r):void 0}}function yt({cardAction:e,output:t}){var u,l;if(!e||!(e instanceof we))throw new Error("AlloyCardAction requires `cardAction` (CardActionObject instance).");function s(h){if(typeof t!="function")return;const f=h&&typeof h.toJSON=="function"?h.toJSON():h||{},{error:m=!1,errorMessage:j=[]}=f,b=n(f),C={};Array.isArray(e.fields)&&e.fields.forEach(p=>{if(!p)return;const x=p.id,g=p.name;x&&typeof g<"u"&&(C[x]=g)});const c=new S({id:e.id,type:"card-action",action:b,error:!!m,errorMessage:j||[],data:C});t(c)}function n(h){if(!h||typeof h!="object")return"";const f=j=>{if(!j||typeof j!="object")return"";const b=typeof j.name=="string"?j.name.trim():"";if(b)return b;const C=typeof j.ariaLabel=="string"?j.ariaLabel.trim():"";if(C)return C;const c=typeof j.title=="string"?j.title.trim():"";if(c)return c;const p=typeof j.id=="string"?j.id.trim():"";return p||""},m=h.data&&typeof h.data=="object"?h.data:null;if(m){if(m.action&&typeof m.action=="object"){const b=f(m.action);if(b)return b}if(m.button&&typeof m.button=="object"){const b=f(m.button);if(b)return b}if(m.link&&typeof m.link=="object"){const b=f(m.link);if(b)return b}const j=f(m);if(j)return j}return f(h)}const o=(u=e.header)!=null&&u.name?a.jsx("div",{id:e.header.id,className:e.header.className??"card-header py-2 fw-semibold",children:e.header.name}):null,i=a.jsxs("div",{id:e.body.id,className:e.body.className??"card-body",children:[e.body.name?a.jsx("div",{className:"fw-semibold mb-1",children:e.body.name}):null,e.fields.map(h=>h!=null&&h.name?a.jsx("div",{id:h.id,className:h.className??"",children:h.name},h.id??B("card-field")):null)]}),r=e.link?a.jsx(z,{to:e.link,className:"text-decoration-none d-block","aria-label":(l=e.body)==null?void 0:l.name,children:i}):i,d=a.jsxs("div",{id:e.footer.id,className:e.footer.className??"card-footer d-flex align-items-center gap-2 py-2",children:[e.footer.name?a.jsx("div",{className:"me-auto small text-muted",children:e.footer.name}):null,e.action?e.type==="AlloyLinkBar"?a.jsx(de,{linkBar:e.action,output:s}):a.jsx(ue,{buttonBar:e.action,output:s}):null]});return a.jsxs("div",{id:e.id,className:e.className??"card border m-2 shadow",children:[o,r,d]})}class Ne{constructor(t={}){this.id=t.id??B("card-icon-action"),this.className=t.className??"card border m-2 shadow",this.link=typeof t.link=="string"?t.link:"";const s=t.header??{};this.header=s instanceof k?s:new k(s);const n=t.body??{};this.body=n instanceof k?n:new k(n);const o=Array.isArray(t.fields)?t.fields:[];this.fields=o.map(d=>d instanceof k?d:new k(d||{}));const i=t.footer??{};this.footer=i instanceof k?i:new k(i);const r=new L({iconClass:"fa-solid fa-user fa-2xl"});this.icon=t.icon instanceof L?t.icon:new L(t.icon||{iconClass:r.iconClass}),this.iconClass=t.iconClass??"col-3 d-flex align-items-center justify-content-center rounded-circle bg-warning text-white mb-0",this.textClass=t.textClass??"col-9",this.type=t.type??"AlloyButtonBar",this.type==="AlloyLinkBar"?this.action=t.action instanceof W?t.action:new W(t.action||{}):this.action=t.action instanceof I?t.action:new I(t.action||{})}}function xt({cardIconAction:e,output:t}){var l,h;if(!e||!(e instanceof Ne))throw new Error("AlloyCardIconAction requires `cardIconAction` (CardIconActionObject instance).");function s(f){if(!f||typeof f!="object")return"";const m=typeof f.name=="string"?f.name.trim():"";if(m)return m;const j=typeof f.ariaLabel=="string"?f.ariaLabel.trim():"";if(j)return j;const b=typeof f.title=="string"?f.title.trim():"";if(b)return b;const C=typeof f.id=="string"?f.id.trim():"";return C||""}function n(){return(f,m)=>{if(typeof t!="function")return;const j=s(f),b={};Array.isArray(e.fields)&&e.fields.forEach(c=>{if(!c)return;const p=c.id,x=c.name;p&&typeof x<"u"&&(b[p]=x)});const C=new S({id:e.id,type:"card-action",action:j,error:!1,errorMessage:[],data:b});t(C)}}const o=(l=e.header)!=null&&l.name?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header py-2 fw-semibold","aria-label":e.header.name,children:e.header.name}):null,i=a.jsx("div",{id:e.body.id,className:e.body.className||"card-body","aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.iconClass,children:a.jsx(U,{icon:e.icon})}),a.jsx("div",{className:e.textClass,children:a.jsx("div",{className:"row p-1",children:e.fields.map(f=>f!=null&&f.name?a.jsx("div",{id:f.id,className:f.className,children:f.name},f.id??B("card-icon-action-field")):null)})})]})}),r=e.link?a.jsx(z,{to:e.link,className:"text-decoration-none d-block","aria-label":(h=e.body)==null?void 0:h.name,children:i}):i,d=e.type==="AlloyLinkBar"?a.jsx(de,{linkBar:e.action,output:n()}):a.jsx(ue,{buttonBar:e.action,output:n()}),u=a.jsxs("div",{id:e.footer.id,className:e.footer.className||"card-footer d-flex align-items-center justify-content-between flex-wrap gap-2 py-2","aria-label":e.footer.name,children:[a.jsx("div",{className:"me-auto",children:e.footer.name?e.footer.name:null}),a.jsx("div",{role:"group",children:d})]});return a.jsxs("div",{id:e.id,className:e.className,children:[o,r,u]})}class je extends qe{constructor(t={}){super(t),this.header=t.header instanceof k?t.header:new k(t.header||{className:"card-header py-2 fw-semibold",name:""}),this.body=t.body instanceof k?t.body:new k(t.body||{className:"card-body d-flex align-items-center",name:"Card Body"});const s=Array.isArray(t.fields)?t.fields:[];switch(this.fields=s.map((n,o)=>n instanceof k?n:new k({id:(n==null?void 0:n.id)||`field_${o+1}`,className:(n==null?void 0:n.className)??"",name:(n==null?void 0:n.name)??""})),this.footer=t.footer instanceof k?t.footer:new k(t.footer||{className:"card-footer d-flex align-items-center justify-content-between flex-wrap gap-2 py-2",name:"Footer"}),this.type=t.type??"AlloyButtonBar",this.type){case"AlloyLinkBar":{this.action=t.action instanceof W?t.action:new W(t.action||{className:"nav gap-2",linkClass:"nav-item",barName:{show:!1},type:"AlloyLink",links:[]});break}case"AlloyButtonBar":default:{this.type="AlloyButtonBar",this.action=t.action instanceof I?t.action:new I(t.action||{className:"nav gap-2",buttonClass:"nav-item",barName:{show:!1},type:"AlloyButton",buttons:[]});break}}}}function vt({cardImageAction:e,output:t}){var u,l,h,f,m,j;if(!e||!(e instanceof je))throw new Error("AlloyCardImageAction requires `cardImageAction` (CardImageActionObject instance).");function s(){return(b,C)=>{if(typeof t!="function")return;const c=Ms(b),p={};Array.isArray(e.fields)&&e.fields.forEach(g=>{if(!g)return;const N=g.id,y=g.name;N&&typeof y<"u"&&(p[N]=y)});const x=new S({id:e.id,type:"card-action",action:c,error:!1,errorMessage:[],data:p});t(x)}}const o=e.header&&((u=e.header.name)==null?void 0:u.trim())?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header py-2 fw-semibold","aria-label":e.header.name,children:e.header.name}):null,i=a.jsx("div",{id:e.body.id,className:e.body.className||"card-body d-flex align-items-center","aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.logoClass,children:a.jsx("img",{src:(l=e.logo)==null?void 0:l.imageUrl,alt:(h=e.logo)==null?void 0:h.alt,style:{width:(f=e.logo)==null?void 0:f.width,height:(m=e.logo)==null?void 0:m.height,maxWidth:"100%",objectFit:"contain"}})}),a.jsx("div",{className:e.textClass,children:a.jsx("div",{className:"row p-1",children:e.fields.map(b=>b!=null&&b.name?a.jsx("div",{id:b.id,className:b.className,children:b.name},b.id):null)})})]})}),r=e.link?a.jsx(z,{to:e.link,className:"text-decoration-none d-block","aria-label":(j=e.body)==null?void 0:j.name,children:i}):i,d=a.jsxs("div",{id:e.footer.id,className:e.footer.className||"card-footer d-flex align-items-center justify-content-between flex-wrap gap-2 py-2","aria-label":e.footer.name,children:[a.jsx("div",{className:"flex-grow-1",children:e.footer.name}),a.jsx("div",{role:"group",children:e.type==="AlloyLinkBar"?a.jsx(de,{linkBar:e.action,output:s()}):a.jsx(ue,{buttonBar:e.action,output:s()})})]});return a.jsxs("div",{id:e.id,className:e.className,children:[o,r,d]})}function Ms(e){if(!e||typeof e!="object")return"";const t=typeof e.name=="string"?e.name.trim():"";if(t)return t;const s=typeof e.ariaLabel=="string"?e.ariaLabel.trim():"";if(s)return s;const n=typeof e.title=="string"?e.title.trim():"";if(n)return n;const o=typeof e.id=="string"?e.id.trim():"";return o||""}class ce{constructor(t={}){const{id:s,title:n="AlloyMobile",className:o="col m-2",message:i="",action:r="",type:d="AlloyInputTextIcon",submit:u,fields:l,data:h}=t;this.id=s??B("form"),this.title=n,this.className=o,this.message=i,this.action=r,this.type=d,this.submit=u instanceof re?u:new re(u||{name:"Submit",icon:{iconClass:"fa-solid fa-circle-notch fa-spin"},className:"btn btn-primary w-100 mt-3",disabled:!1,loading:!1,ariaLabel:"Submit",title:"Submit"});const f=Array.isArray(l)?l:[];this.fields=f.map(m=>m instanceof V?m:new V(m)),this.data=h??{}}}function Je(e,t,s){let n=!0;const o=[];if(e.required&&(e.type==="checkbox"?(Array.isArray(t)?t:[]).length===0&&(n=!1,o.push("This field is required.")):(t===""||t===!1||t===void 0||t===null)&&(n=!1,o.push("This field is required."))),n&&typeof e.minLength=="number"&&typeof t=="string"&&t.length<e.minLength&&(n=!1,o.push(`Minimum length is ${e.minLength}`)),n&&typeof e.maxLength=="number"&&typeof t=="string"&&t.length>e.maxLength&&(n=!1,o.push(`Maximum length is ${e.maxLength}`)),n&&e.pattern&&typeof t=="string"&&!new RegExp(e.pattern).test(t)&&(n=!1,o.push("Invalid format.")),n&&e.passwordStrength&&typeof t=="string"&&(/(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}/.test(t)||(n=!1,o.push("Password is too weak."))),n&&e.matchWith){const i=e.matchWith;s[i]!==t&&(n=!1,o.push("Values do not match."))}return{valid:n,error:!n,errors:o}}function bt({form:e,output:t}){const s=e instanceof ce?e:new ce(e||{});if(!s||!Array.isArray(s.fields)||!(s.submit instanceof re))throw new Error("AlloyForm could not hydrate a valid FormObject (missing fields[] or submit).");const[n,o]=w.useState(()=>{const f={},m={};return s.fields.forEach(j=>{m[j.name]=j.value}),s.fields.forEach(j=>{const b=j.value,{valid:C,error:c,errors:p}=Je(j,b,m);f[j.name]={value:b,valid:C,error:c,errors:p}}),f}),i=w.useRef(null),r=w.useCallback(f=>{const m={};Object.keys(f).forEach(b=>{m[b]=f[b].value});const j={};return s.fields.forEach(b=>{const C=m[b.name],{valid:c,error:p,errors:x}=Je(b,C,m);j[b.name]={value:C,valid:c,error:p,errors:x}}),j},[s.fields]);function d(f){const m=f instanceof S?f.data||{}:f||{},{name:j,value:b}=m;j&&o(C=>{const c={...C};return c[j]={...C[j]||{value:void 0,valid:!0,error:!1,errors:[]},value:b},r(c)})}const u=w.useMemo(()=>{const f={};return Object.keys(n).forEach(m=>{f[m]=n[m].value}),f},[n]),l=w.useMemo(()=>Object.values(n).some(f=>f.error||!f.valid),[n]);function h(f){let m=!1;Object.values(n).forEach(c=>{(c.error||!c.valid)&&(m=!0)});const j={...u};s.data=j,s.message="";const b=m?{...n}:j,C=new S({id:s.id,type:"form",action:"submit",data:b,error:m});t==null||t(C)}return s.submit.disabled=l||!!s.submit.loading,a.jsx("div",{className:"row",children:a.jsx("div",{className:s.className,children:a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{children:s.title}),s.message!==""&&a.jsx("div",{className:"alert alert-text-danger m-0 p-0",children:s.message}),s.fields.map(f=>a.jsx(oe,{input:f,output:d},f.id)),a.jsx(Xe,{ref:i,buttonSubmit:s.submit,output:h})]})})})}class wt{constructor(t={}){this.id=t.id??B("tab"),this.key=t.key??this.id,this.title=t.title??"",this.subtitle=t.subtitle??"",this.order=typeof t.order=="number"?t.order:0,this.required=!!t.required,this.stage=t.stage??"",this.status=t.status??"",this.icon=t.icon?t.icon instanceof L?t.icon:new L(t.icon):null,this.inputs=Array.isArray(t.inputs)?t.inputs:[]}}class Nt{constructor(t={}){this.id=t.id??B("tab-form"),this.name=t.name??"",this.status=t.status??"draft";const n=(Array.isArray(t.tabs)?t.tabs:[]).map(r=>new wt(r));this.tabs=n.sort((r,d)=>r.order-d.order);let o=typeof t.currentIndex=="number"?t.currentIndex:0;o<0&&(o=0),o>=this.tabs.length&&(o=this.tabs.length-1),this.currentIndex=this.tabs.length>0?o:0;const i=t.navButtons||{};this.navButtons={previous:i.previous?new T({...i.previous,name:i.previous.name||i.previous.label||"Previous"}):null,next:i.next?new T({...i.next,name:i.next.name||i.next.label||"Next"}):null,finish:i.finish?new T({...i.finish,name:i.finish.name||i.finish.label||"Finish"}):null}}}function Ds(e){const t={};return e.tabs.forEach(s=>{const n={};s.inputs.forEach(o=>{const i=o.name;i&&(typeof o.value<"u"?n[i]=o.value:o.type==="checkbox"?n[i]=!1:n[i]="")}),t[s.key]=n}),t}function He(e,t){const s={};return e.inputs.forEach(n=>{const o=n.name;if(!o)return;const i=[],r=typeof t[o]<"u"?t[o]:n.value;if(n.required&&(n.type==="checkbox"?r||i.push("This field is required."):(r===""||r===null||typeof r>"u")&&i.push("This field is required.")),n.matchWith){const d=n.matchWith,u=t[d];r!==u&&i.push("Values do not match.")}i.length>0&&(s[o]=i)}),s}function Fs({tabForm:e,output:t}){if(!e||!(e instanceof Nt))throw new Error("AlloyTabForm requires `tabForm` (TabFormObject instance).");const[s,n]=w.useState(e.currentIndex),[o,i]=w.useState(()=>Ds(e)),[r,d]=w.useState({}),u=e.tabs,l=u.length,h=u[s]||null,f=h?h.key:"",m=e.navButtons||{};function j(O,D,R,P){const $=o[O]||{};return Object.prototype.hasOwnProperty.call($,D)?$[D]:typeof R<"u"?R:P==="checkbox"?!1:""}function b(O,D){var ee,J,pe;const R=D&&typeof D.toJSON=="function"?D.toJSON():D,P=(ee=R==null?void 0:R.data)==null?void 0:ee.name,$=(J=R==null?void 0:R.data)==null?void 0:J.value,K=((pe=R==null?void 0:R.data)==null?void 0:pe.errors)||[];P&&(i(Ae=>{const Z={...Ae},te={...Z[O]||{}};return te[P]=$,Z[O]=te,Z}),d(Ae=>{const Z={...Ae},te={...Z[O]||{}};return K.length>0?te[P]=K:delete te[P],Z[O]=te,Z}))}function C(O,D,R,P,$){const K=u[D]||h,ee=K?K.key:f,J={currentIndex:D,currentTabKey:ee,values:R};if($&&P&&Object.keys(P).length>0&&(J.errors=P,J.message="Validation failed for current step."),typeof t!="function")return;const pe=$?S.errorOf({id:e.id,type:"tab-form",action:O==="finish"?"submit":"draft",data:J}):S.ok({id:e.id,type:"tab-form",action:O==="finish"?"submit":"draft",data:J});t(pe)}function c(){if(!h||s<=0)return;const O=s-1;n(O),C("previous",O,o,r,!1)}function p(){if(!h||s>=l-1)return;const O=h.key,D=o[O]||{},R=He(h,D);if(Object.keys(R).length>0){const K={...r,[O]:R};d(K),C("next",s,o,K,!0);return}const P=s+1;n(P);const $={...r};delete $[O],d($),C("next",P,o,$,!1)}function x(){if(!h)return;const O=h.key,D=o[O]||{},R=He(h,D);if(Object.keys(R).length>0){const $={...r,[O]:R};d($),C("finish",s,o,$,!0);return}const P={...r};delete P[O],d(P),C("finish",s,o,P,!1)}if(!h)return a.jsx("div",{className:"alert alert-warning",children:"No steps defined for this TabForm."});const g=s>0,N=s===l-1,y=!N,v=g&&(m.previous||new T({name:"Previous",icon:{iconClass:"fa-solid fa-arrow-left"},className:"btn btn-primary"})),E=y&&(m.next||new T({name:"Next",icon:{iconClass:"fa-solid fa-arrow-right"},className:"btn btn-primary"})),M=N&&(m.finish||new T({name:"Finish",icon:{iconClass:"fa-solid fa-paper-plane"},className:"btn btn-primary"}));return a.jsxs("div",{className:"alloy-tab-form",children:[a.jsx("ul",{className:"nav nav-tabs mb-3 flex-wrap",children:u.map((O,D)=>{const R=D===s;return a.jsx("li",{className:"nav-item",children:a.jsxs("button",{type:"button",className:`nav-link ${R?"active":""}`,onClick:()=>n(D),children:[O.icon&&a.jsx("span",{className:"me-1",children:a.jsx(U,{icon:O.icon})}),O.title||`Step ${D+1}`]})},O.id)})}),(h.title||h.subtitle)&&a.jsxs("div",{className:"mb-3",children:[h.title&&a.jsx("h5",{className:"mb-1",children:h.title}),h.subtitle&&a.jsx("div",{className:"text-muted small",children:h.subtitle})]}),a.jsxs("form",{onSubmit:O=>O.preventDefault(),noValidate:!0,children:[a.jsx("div",{className:"row g-3",children:a.jsx("div",{className:"col-12 col-md-6 col-lg-5 mx-auto",children:h.inputs.map((O,D)=>{const R=j(h.key,O.name,O.value,O.type),$=(r[h.key]||{})[O.name]||[],K=$.length>0,ee=new V({...O,value:R,errors:$,invalid:K});return a.jsx(oe,{input:ee,output:J=>b(h.key,J)},`inp-${D}`)})})}),a.jsxs("div",{className:"d-flex justify-content-between mt-4",children:[g?a.jsx(Y,{buttonIcon:v,output:()=>c()}):a.jsx("span",{}),a.jsxs("div",{className:"d-flex gap-2 ms-auto",children:[y&&a.jsx(Y,{buttonIcon:E,output:()=>p()}),N&&a.jsx(Y,{buttonIcon:M,output:()=>x()})]})]})]})]})}class _{constructor(t={}){const{id:s,title:n,className:o,action:i,submit:r,fields:d=[],data:u={},...l}=t;this.id=s??B("modal"),this.title=n??"",this.className=o??"modal fade",this.action=i??"",r instanceof q?this.submit=r:r&&typeof r=="object"?this.submit=new q(r):this.submit=null,this.fields=d.map(f=>f instanceof V?f:new V(f));const h={};this.fields.forEach(f=>{h[f.name]=f.value}),this.data={...h,...u},Object.assign(this,l)}}function Ge(e){const t={};return e&&Array.isArray(e.fields)&&e.fields.forEach(s=>{s instanceof V&&(t[s.name]=s.value)}),{...t,...e.data||{}}}function Ts(e){return Object.values(e).some(t=>Array.isArray(t)&&t.length>0)}function Ps(e){if(!e)return;const t=document.getElementById(e);if(!t)return;const s=typeof window<"u"?window:void 0;if(s&&s.bootstrap&&s.bootstrap.Modal){const o=s.bootstrap.Modal.getOrCreateInstance(t);if(o){o.hide();return}}const n=t.querySelector('[data-bs-dismiss="modal"]');n&&typeof n.click=="function"&&n.click()}function ke({modal:e,output:t}){if(!e||!(e instanceof _))throw new Error("AlloyModal requires `modal` (ModalObject instance).");if(!e.submit||!(e.submit instanceof q))throw new Error("ModalObject.submit must be a ButtonObject instance for AlloyModal.");const[s,n]=w.useState(()=>Ge(e)),[o,i]=w.useState({});w.useEffect(()=>{n(Ge(e)),i({})},[e]);const r=u=>{if(!u||!(u instanceof S))return;const{data:l,error:h}=u;if(!l||!l.name)return;const{name:f,value:m,errors:j=[]}=l;n(b=>({...b,[f]:m})),i(b=>({...b,[f]:h?j:[]}))},d=()=>{if(typeof t!="function")return;const u={...s};if(Ts(o)){const h=S.errorOf({id:e.id,type:"modal",action:"submit",message:"Validation failed",data:{...u,errors:o}});t(h);return}const l=S.ok({id:e.id,type:"modal",action:"submit",data:u});t(l),Ps(e.id)};return a.jsx("div",{className:e.className,id:e.id,tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",role:"dialog",children:a.jsx("div",{className:"modal-dialog",role:"document",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:e.action+" a "+e.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:e.fields.map(u=>a.jsx(oe,{input:u,output:r},u.id))}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-dark","data-bs-dismiss":"modal",children:"Cancel"}),a.jsx(ge,{button:e.submit,output:d})]})]})})})}class jt{constructor(t={}){const{id:s,title:n,className:o,action:i,submit:r,message:d,...u}=t;this.id=s??B("modalToast"),this.title=n??"",this.className=o??"modal fade",this.action=i??"",r instanceof q?this.submit=r:r&&typeof r=="object"?this.submit=new q(r):this.submit=null,this.message=d??"",Object.assign(this,u)}}function $s(e){const t=document.getElementById(e);if(!t)return;const s=t.querySelector('[data-bs-dismiss="modal"]');s&&typeof s.click=="function"&&s.click()}function Us({modalToast:e,output:t}){if(!e||!(e instanceof jt))throw new Error("AlloyModalToast requires `modalToast` (ModalToastObject instance).");if(!e.submit||!(e.submit instanceof q))throw new Error("ModalToastObject.submit must be a ButtonObject instance for AlloyModalToast.");const s=()=>{if(typeof t=="function"){const n=S.ok({id:e.id,type:"modal-toast",action:"click",data:{action:e.action,title:e.title,message:e.message}});t(n)}$s(e.id)};return a.jsx("div",{className:e.className,id:e.id,tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",role:"dialog",children:a.jsx("div",{className:"modal-dialog",role:"document",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:e.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx("h3",{children:e.message})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-dark","data-bs-dismiss":"modal",children:"Cancel"}),a.jsx(ge,{button:e.submit,output:s})]})]})})})}class gt{constructor(t={}){const{id:s,className:n="container-fluid",modal:o,search:i,add:r,table:d,...u}=t||{};this.id=s??B("crud-table"),this.className=n,this.modal=o instanceof _?o:new _(o||{}),this.search=i instanceof V?i:i?new V(i):null,this.add=r instanceof T?r:r?new T(r):null,this.table=d instanceof ae?d:new ae(d||{}),Object.assign(this,u)}}function qs(e){if(!e)return;const t=document.getElementById(e);if(!t)return;const s=typeof window<"u"?window:void 0;if(s&&s.bootstrap&&s.bootstrap.Modal){s.bootstrap.Modal.getOrCreateInstance(t).show();return}const n=document.querySelector(`[data-bs-toggle="modal"][data-bs-target="#${e}"]`);n&&typeof n.click=="function"&&n.click()}function Vs({crudTable:e,output:t}){var C;if(!e||!(e instanceof gt))throw new Error("AlloyCrudTable requires `crudTable` (CrudTableObject instance).");const s=c=>{typeof t=="function"&&t(c)},n=w.useRef(null),o=()=>{var c;if(n.current&&typeof n.current.click=="function"){n.current.click();return}(c=e.modal)!=null&&c.id&&qs(e.modal.id)},[i,r]=w.useState(()=>{var c;return{mode:"create",data:((c=e.modal)==null?void 0:c.data)||{},disabled:!1,version:0}}),[d,u]=w.useState(!1);w.useEffect(()=>{r(c=>{var p;return{mode:"create",data:((p=e.modal)==null?void 0:p.data)||{},disabled:!1,version:c.version+1}}),u(!1)},[e]),w.useEffect(()=>{var c;d&&(c=e.modal)!=null&&c.id&&(o(),u(!1))},[i.version,d,(C=e.modal)==null?void 0:C.id]);const l=w.useMemo(()=>{const c=e.modal;let p;i.mode==="edit"?p="Edit":i.mode==="delete"?p="Delete":p=c.action||"Create";const x=i.data||{},g=Array.isArray(c.fields)?c.fields.map(N=>{const y=N instanceof V?{...N}:{...N},v=y.name;return v&&Object.prototype.hasOwnProperty.call(x,v)&&(y.value=x[v]),i.disabled&&(y.disabled=!0,y.readOnly=!0),y}):[];return new _({...c,action:p,fields:g,data:i.data})},[e.modal,i.mode,i.data,i.disabled,i.version]);function h(c={}){const p={},x=e.modal||{},g=x.data||{};return(Array.isArray(x.fields)?x.fields:[]).forEach(y=>{const v=y==null?void 0:y.name;v&&(Object.prototype.hasOwnProperty.call(c,v)?p[v]=c[v]:Object.prototype.hasOwnProperty.call(g,v)?p[v]=g[v]:p[v]="")}),p}const f=c=>{var y,v,E;const p=((y=c==null?void 0:c.data)==null?void 0:y.name)??((v=e.search)==null?void 0:v.name)??"",x=(E=c==null?void 0:c.data)==null?void 0:E.value,g=p&&typeof p=="string"?{[p]:x}:{},N=S.ok({id:e.id,type:"crud-table",action:"search",data:g});s(N)},m=c=>{var x,g;if(!c)return;if(c.type==="column"&&c.action==="Sort"){const N=((x=c.data)==null?void 0:x.name)??"",y=((g=c.data)==null?void 0:g.dir)??"",v=N&&typeof N=="string"?{[N]:y}:{},E=S.ok({id:e.id,type:"crud-table",action:"Sort",data:v});s(E);return}if(c.type==="table"){const N=c.data||{},y=c.action||"",v=(y||"").toLowerCase();if(v.includes("edit")){const E=h(N);r(M=>({mode:"edit",data:E,disabled:!1,version:M.version+1})),u(!0);return}if(v.includes("delete")){const E=h(N);r(M=>({mode:"delete",data:E,disabled:!0,version:M.version+1})),u(!0);return}if(y){const E=S.ok({id:e.id,type:"crud-table",action:y,data:{...N}});s(E)}return}if(c.type==="row"&&c.action==="navigate"){const{to:N,...y}=c.data||{},v=S.ok({id:e.id,type:"crud-table",action:"navigate",data:{to:N,...y}});s(v);return}const p=S.ok({id:e.id,type:"crud-table",action:c.action||"table",data:{...c.data||{}}});s(p)},j=c=>{var N,y;if(!c||c.type!=="modal"||c.error)return;const p=c.data||{};let x;i.mode==="edit"?x="Edit":i.mode==="delete"?x="Delete":x=((y=(N=e.modal)==null?void 0:N.submit)==null?void 0:y.name)||"Create";const g=S.ok({id:e.id,type:"crud-table",action:x,data:{...p}});s(g)},b=()=>{var p;const c=((p=e.modal)==null?void 0:p.data)||{};r(x=>({mode:"create",data:{...c},disabled:!1,version:x.version+1})),u(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:e.className,children:[a.jsxs("div",{className:"row input-group mt-2",children:[a.jsx("div",{className:"col-sm-8",children:e.search&&a.jsx(oe,{input:e.search,output:f})}),a.jsx("div",{className:"col-sm-4 d-flex align-items-center justify-content-end",children:e.add&&a.jsx(Y,{buttonIcon:e.add,output:b})})]}),a.jsx(Ue,{tableAction:e.table,output:m})]}),a.jsx("button",{type:"button",ref:n,className:"d-none","data-bs-toggle":"modal","data-bs-target":`#${e.modal.id}`}),a.jsx(ke,{modal:l,output:j})]})}class Ct{constructor(t={}){const{id:s,className:n="col-sm-6 col-md-4 col-lg-3 mb-3",type:o="AlloyCardAction",modal:i,add:r,cards:d=[],...u}=t||{};this.id=s??B("crud-card"),this.className=n,this.type=o,this.modal=i instanceof _?i:new _(i||{}),this.add=r instanceof T?r:r?new T(r):null,this.cards=d.map(l=>o==="AlloyCardIconAction"?l instanceof Ne?l:new Ne(l||{}):o==="AlloyCardImageAction"?l instanceof je?l:new je(l||{}):l instanceof we?l:new we(l||{})),Object.assign(this,u)}}function _s(e){if(!e)return;const t=document.getElementById(e);if(!t)return;const s=typeof window<"u"?window:void 0;if(s&&s.bootstrap&&s.bootstrap.Modal){s.bootstrap.Modal.getOrCreateInstance(t).show();return}const n=document.querySelector(`[data-bs-toggle="modal"][data-bs-target="#${e}"]`);n&&typeof n.click=="function"&&n.click()}function Ks({crudCard:e,output:t}){var C;if(!e||!(e instanceof Ct))throw new Error("AlloyCrudCard requires `crudCard` (CrudCardObject instance).");const s=c=>{typeof t=="function"&&t(c)},n=w.useRef(null),o=()=>{var c;if(n.current&&typeof n.current.click=="function"){n.current.click();return}(c=e.modal)!=null&&c.id&&_s(e.modal.id)},[i,r]=w.useState(()=>{var c;return{mode:"create",data:((c=e.modal)==null?void 0:c.data)||{},disabled:!1,version:0}}),[d,u]=w.useState(!1);w.useEffect(()=>{r(c=>{var p;return{mode:"create",data:((p=e.modal)==null?void 0:p.data)||{},disabled:!1,version:c.version+1}}),u(!1)},[e]),w.useEffect(()=>{var c;d&&(c=e.modal)!=null&&c.id&&(o(),u(!1))},[i.version,d,(C=e.modal)==null?void 0:C.id]);const l=w.useMemo(()=>{const c=e.modal;let p;i.mode==="edit"?p="Edit":i.mode==="delete"?p="Delete":p=c.action||"Create";const x=i.data||{},g=Array.isArray(c.fields)?c.fields.map(N=>{const y=N?{...N}:{},v=y.name;return v&&Object.prototype.hasOwnProperty.call(x,v)&&(y.value=x[v]),i.disabled&&(y.disabled=!0,y.readOnly=!0),y}):[];return new _({...c,action:p,fields:g,data:i.data})},[e.modal,i.mode,i.data,i.disabled,i.version]);function h(c={}){const p={},x=e.modal||{},g=x.data||{};return(Array.isArray(x.fields)?x.fields:[]).forEach(y=>{const v=y==null?void 0:y.name;v&&(Object.prototype.hasOwnProperty.call(c,v)?p[v]=c[v]:Object.prototype.hasOwnProperty.call(g,v)?p[v]=g[v]:p[v]="")}),p}const f=c=>{if(!c||c.type!=="card-action")return;const p=c.data||{},x=c.action||"",g=x.toLowerCase();if(g.includes("edit")){const N=h(p);r(y=>({mode:"edit",data:N,disabled:!1,version:y.version+1})),u(!0);return}if(g.includes("delete")){const N=h(p);r(y=>({mode:"delete",data:N,disabled:!0,version:y.version+1})),u(!0);return}if(x){const N=S.ok({id:e.id,type:"crud-card",action:x,data:{...p}});s(N)}},m=c=>{var N,y;if(!c||c.type!=="modal"||c.error)return;const p=c.data||{};let x;i.mode==="edit"?x="Edit":i.mode==="delete"?x="Delete":x=((y=(N=e.modal)==null?void 0:N.submit)==null?void 0:y.name)||"Create";const g=S.ok({id:e.id,type:"crud-card",action:x,data:{...p}});s(g)},j=()=>{var p;const c=((p=e.modal)==null?void 0:p.data)||{};r(x=>({mode:"create",data:{...c},disabled:!1,version:x.version+1})),u(!0)},b=()=>Array.isArray(e.cards)?e.type==="AlloyCardIconAction"?e.cards.map(c=>a.jsx("div",{className:e.className,children:a.jsx(xt,{cardIconAction:c,output:f})},c.id)):e.type==="AlloyCardImageAction"?e.cards.map(c=>a.jsx("div",{className:e.className,children:a.jsx(vt,{cardImageAction:c,output:f})},c.id)):e.cards.map(c=>a.jsx("div",{className:e.className,children:a.jsx(yt,{cardAction:c,output:f})},c.id)):null;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"row mt-2",children:a.jsx("div",{className:"col-sm-12 text-end",children:e.add&&a.jsx(Y,{buttonIcon:e.add,output:j})})}),a.jsx("div",{id:e.id,className:"row",children:b()}),a.jsx("button",{type:"button",ref:n,className:"d-none","data-bs-toggle":"modal","data-bs-target":`#${e.modal.id}`}),a.jsx(ke,{modal:l,output:m})]})}class Et{constructor(t={}){const{id:s,className:n="container-fluid",modal:o,search:i,send:r,table:d,...u}=t||{};this.id=s??B("email"),this.className=n,this.modal=o instanceof _?o:new _(o||{}),this.search=i instanceof V?i:i?new V(i):null,this.send=r instanceof T?r:r?new T(r):null,this.table=d instanceof ae?d:new ae(d||{}),Object.assign(this,u)}}function Ws(e){if(!e)return;const t=document.getElementById(e);if(!t)return;const s=typeof window<"u"?window:void 0;if(s&&s.bootstrap&&s.bootstrap.Modal){s.bootstrap.Modal.getOrCreateInstance(t).show();return}const n=document.querySelector(`[data-bs-toggle="modal"][data-bs-target="#${e}"]`);n&&typeof n.click=="function"&&n.click()}function Is({email:e,output:t}){var C;if(!e||!(e instanceof Et))throw new Error("AlloyEmail requires `email` (EmailObject instance).");const s=c=>{typeof t=="function"&&t(c)},n=w.useRef(null),o=()=>{var c;if(n.current&&typeof n.current.click=="function"){n.current.click();return}(c=e.modal)!=null&&c.id&&Ws(e.modal.id)},[i,r]=w.useState(()=>{var c;return{mode:"compose",data:((c=e.modal)==null?void 0:c.data)||{},disabled:!1,version:0}}),[d,u]=w.useState(!1);w.useEffect(()=>{r(c=>{var p;return{mode:"compose",data:((p=e.modal)==null?void 0:p.data)||{},disabled:!1,version:c.version+1}}),u(!1)},[e]),w.useEffect(()=>{var c;d&&(c=e.modal)!=null&&c.id&&(o(),u(!1))},[i.version,d,(C=e.modal)==null?void 0:C.id]);const l=w.useMemo(()=>{const c=e.modal;let p;i.mode==="open"?p="Open":i.mode==="reply"?p="Reply":i.mode==="delete"?p="Delete":p=c.action||"Compose";const x=i.data||{},g=Array.isArray(c.fields)?c.fields.map(N=>{const y=N instanceof V?{...N}:{...N},v=y.name;return v&&Object.prototype.hasOwnProperty.call(x,v)&&(y.value=x[v]),i.disabled&&(y.disabled=!0,y.readOnly=!0),y}):[];return new _({...c,action:p,fields:g,data:i.data})},[e.modal,i.mode,i.data,i.disabled]);function h(c={}){const p={},x=e.modal||{},g=x.data||{};return(Array.isArray(x.fields)?x.fields:[]).forEach(y=>{const v=y==null?void 0:y.name;v&&(Object.prototype.hasOwnProperty.call(c,v)?p[v]=c[v]:Object.prototype.hasOwnProperty.call(g,v)?p[v]=g[v]:p[v]="")}),p}const f=c=>{var y,v,E;const p=((y=c==null?void 0:c.data)==null?void 0:y.name)??((v=e.search)==null?void 0:v.name)??"",x=(E=c==null?void 0:c.data)==null?void 0:E.value,g=p&&typeof p=="string"?{[p]:x}:{},N=S.ok({id:e.id,type:"email",action:"search",data:g});s(N)},m=c=>{var x,g;if(!c)return;if(c.type==="column"&&c.action==="Sort"){const N=((x=c.data)==null?void 0:x.name)??"",y=((g=c.data)==null?void 0:g.dir)??"",v=N&&typeof N=="string"?{[N]:y}:{},E=S.ok({id:e.id,type:"email",action:"Sort",data:v});s(E);return}if(c.type==="row"&&c.action==="navigate"){const{to:N,...y}=c.data||{},v=S.ok({id:e.id,type:"email",action:"navigate",data:{to:N,...y}});s(v);return}if(c.type==="table"){const N=c.data||{},y=c.action||"",v=(y||"").toLowerCase();if(v.includes("open")){const E=h(N);r(M=>({mode:"open",data:E,disabled:!0,version:M.version+1})),u(!0);return}if(v.includes("reply")){const E=h(N);r(M=>({mode:"reply",data:E,disabled:!1,version:M.version+1})),u(!0);return}if(v.includes("delete")){const E=h(N);r(M=>({mode:"delete",data:E,disabled:!0,version:M.version+1})),u(!0);return}if(y){const E=S.ok({id:e.id,type:"email",action:y,data:{...N}});s(E)}return}const p=S.ok({id:e.id,type:"email",action:c.action||"table",data:{...c.data||{}}});s(p)},j=c=>{var N,y;if(!c||c.type!=="modal"||c.error)return;const p=c.data||{};let x;i.mode==="open"?x="Open":i.mode==="reply"?x="Reply":i.mode==="delete"?x="Delete":x=((y=(N=e.modal)==null?void 0:N.submit)==null?void 0:y.name)||"submit";const g=S.ok({id:e.id,type:"email",action:x,data:{...p}});s(g)},b=()=>{var p;const c=((p=e.modal)==null?void 0:p.data)||{};r(x=>({mode:"compose",data:{...c},disabled:!1,version:x.version+1})),u(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:e.className,children:[a.jsxs("div",{className:"row input-group mt-2",children:[a.jsx("div",{className:"col-sm-8",children:e.search&&a.jsx(oe,{input:e.search,output:f})}),a.jsx("div",{className:"col-sm-4 d-flex align-items-center justify-content-end",children:e.send&&a.jsx(Y,{buttonIcon:e.send,output:b})})]}),a.jsx(Ue,{tableAction:e.table,output:m})]}),a.jsx("button",{type:"button",ref:n,className:"d-none","data-bs-toggle":"modal","data-bs-target":`#${e.modal.id}`}),a.jsx(ke,{modal:l,output:j})]})}class kt{constructor(t={}){const{id:s,title:n="Contact Us",type:o="AlloyInputTextIcon",className:i="d-flex justify-content-center flex-column text-center h-100 mt-3",contactClass:r="col-12 col-md-6",addressClass:d="col-12 col-md-6",contactForm:u,addressCard:l,data:h,...f}=t||{};this.id=s??B("contact"),this.title=n,this.type=o,this.className=i,this.contactClass=r,this.addressClass=d,this.contactForm=u instanceof ce?u:new ce(u||{});const m=l&&l.body?l:{id:"contactAddressFallback",className:"card border-0",body:{id:"contactAddressFallbackBody",className:"card-body text-center text-muted",name:"Configure addressCard.body to show address info."}};this.addressCard=m instanceof le?m:new le(m),this.data=h||{},Object.assign(this,f)}}function zs({contact:e,output:t}){if(!e||!(e instanceof kt))throw new Error("AlloyContact requires `contact` (ContactObject instance).");const s=o=>{typeof t=="function"&&t(o)};function n(o){if(!o)return;const i=o instanceof S&&typeof o.toJSON=="function"?o.toJSON():o||{},r=new S({id:e.id,type:"contact",action:i.action||"submit",error:!!i.error,data:i.data||{}});s(r)}return a.jsxs("div",{id:e.id,className:e.className,children:[a.jsx("h1",{className:"text-center mb-4",children:e.title}),a.jsxs("div",{className:"row d-flex align-items-center",children:[a.jsx("div",{className:e.contactClass,children:a.jsx(bt,{form:e.contactForm,output:n})}),a.jsx("div",{className:e.addressClass,children:a.jsx(mt,{card:e.addressCard})})]})]})}exports.AlloyButton=ge;exports.AlloyButtonBar=ue;exports.AlloyButtonIcon=Y;exports.AlloyButtonSubmit=Xe;exports.AlloyCard=mt;exports.AlloyCardAction=yt;exports.AlloyCardIcon=Ls;exports.AlloyCardIconAction=xt;exports.AlloyCardImage=Rs;exports.AlloyCardImageAction=vt;exports.AlloyContact=zs;exports.AlloyCrudCard=Ks;exports.AlloyCrudTable=Vs;exports.AlloyEmail=Is;exports.AlloyForm=bt;exports.AlloyIcon=U;exports.AlloyInput=oe;exports.AlloyLink=Ye;exports.AlloyLinkBar=de;exports.AlloyLinkIcon=Ze;exports.AlloyLinkLogo=Me;exports.AlloyModal=ke;exports.AlloyModalToast=Us;exports.AlloyNavBar=Dt;exports.AlloyTabForm=Fs;exports.AlloyTable=Pt;exports.AlloyTableAction=Ue;exports.AlloyTableLink=As;exports.ButtonBarObject=I;exports.ButtonIconObject=T;exports.ButtonObject=q;exports.ButtonSubmitObject=re;exports.CardActionObject=we;exports.CardIconActionObject=Ne;exports.CardIconObject=pt;exports.CardImageActionObject=je;exports.CardImageObject=qe;exports.CardObject=le;exports.ContactObject=kt;exports.CrudCardObject=Ct;exports.CrudTableObject=gt;exports.EmailObject=Et;exports.FormObject=ce;exports.IconObject=L;exports.InputObject=V;exports.LinkBarObject=W;exports.LinkIconObject=Q;exports.LinkLogoObject=H;exports.LinkObject=X;exports.ModalObject=_;exports.ModalToastObject=jt;exports.NavBarObject=Qe;exports.TabFormObject=Nt;exports.TabObject=wt;exports.TableActionObject=ae;exports.TableLinkObject=ht;exports.TableObject=et;
//# sourceMappingURL=alloy-react.cjs.js.map
