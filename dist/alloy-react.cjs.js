"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("react/jsx-runtime"),i=require("react");let b=0;function U(){return b+=1,`alloyIcon${b}`}class w{constructor({id:e,iconClass:n}){if(!n)throw new Error("Icon requires iconClass");this.id=e??U(),this.iconClass=n}}function L({icon:s}){if(!s)throw new Error("AlloyIcon requires `icon` prop (Icon instance).");return o.jsx("i",{id:s.id,className:s.iconClass,"aria-hidden":"true"})}let M=0;function p(){return M+=1,`alloyLink${M}`}function S(s="",e=""){const[n,r]=i.useState(!1),[t,c]=i.useState(!1),[d,h]=i.useState(!1);return{className:i.useMemo(()=>[s,(n||t||d)&&e].filter(Boolean).join(" "),[s,e,n,t,d]),events:{onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),c(!1)},onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onFocus:()=>h(!0),onBlur:()=>h(!1)}}}class C{constructor({id:e,name:n,href:r,className:t,active:c,target:d,rel:h,onClick:u,title:a}){if(!r)throw new Error("LinkObject requires `href`.");this.id=e??p(),this.name=n,this.href=r,this.className=t??"",this.active=c??"",this.target=d,this.rel=h,this.onClick=u,this.title=a}}function H({link:s}){if(!s||!(s instanceof C))throw new Error("AlloyLink requires `link` (LinkObject instance).");if(!s.name)throw new Error("AlloyLink requires `link.name`.");const e=i.useRef(s.id),{className:n,events:r}=S(s.className,s.active),t=s.target==="_blank"?s.rel?`${s.rel} noopener noreferrer`:"noopener noreferrer":s.rel;return o.jsx("a",{id:e.current,href:s.href,className:n,target:s.target,rel:t,onClick:s.onClick,title:s.title,...r,children:o.jsx("span",{children:s.name})})}let B=0;function P(){return B+=1,`alloyLinkIcon${B}`}function T(s="",e=""){const[n,r]=i.useState(!1),[t,c]=i.useState(!1),[d,h]=i.useState(!1);return{className:i.useMemo(()=>[s,(n||t||d)&&e].filter(Boolean).join(" "),[s,e,n,t,d]),events:{onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),c(!1)},onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onFocus:()=>h(!0),onBlur:()=>h(!1)}}}class D{constructor({id:e,href:n,icon:r,name:t,className:c,active:d,target:h,rel:u,onClick:a,title:y}){if(!n)throw new Error("LinkIconObject requires `href`.");if(!r||!(r instanceof w))throw new Error("LinkIconObject requires `icon` (Icon instance).");this.id=e??P(),this.href=n,this.icon=r instanceof w?r:new w(r),this.name=t,this.className=c??"",this.active=d??"",this.target=h,this.rel=u,this.onClick=a,this.title=y}}function W({linkIcon:s}){if(!s||!(s instanceof D))throw new Error("AlloyLinkIcon requires `linkIcon` (LinkIconObject instance).");const e=i.useRef(s.id),{className:n,events:r}=T(s.className,s.active),t=s.target==="_blank"?s.rel?`${s.rel} noopener noreferrer`:"noopener noreferrer":s.rel,c=!!s.name;return o.jsx("a",{id:e.current,href:s.href,className:n,target:s.target,rel:t,onClick:s.onClick,title:s.title,...r,children:o.jsxs("span",{children:[o.jsx(L,{icon:s.icon}),c&&o.jsx("span",{className:"px-1",children:s.name})]})})}let N=0;function z(){return N+=1,`alloyLinkLogo${N}`}function V(s="",e=""){const[n,r]=i.useState(!1),[t,c]=i.useState(!1),[d,h]=i.useState(!1);return{className:i.useMemo(()=>[s,(n||t||d)&&e].filter(Boolean).join(" "),[s,e,n,t,d]),events:{onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),c(!1)},onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onFocus:()=>h(!0),onBlur:()=>h(!1)}}}class ${constructor({id:e,name:n,href:r,logo:t,width:c,height:d,logoAlt:h="",className:u,active:a,target:y,rel:v,onClick:x,title:j}){if(!r)throw new Error("LinkLogoObject requires `href`.");if(!t)throw new Error("LinkLogoObject requires `logo`.");this.id=e??z(),this.name=n,this.href=r,this.logo=t,this.width=c,this.height=d,this.logoAlt=h,this.className=u??"",this.active=a??"",this.target=y,this.rel=v,this.onClick=x,this.title=j}}function Z({linkLogo:s}){if(!s||!(s instanceof $))throw new Error("AlloyLinkLogo requires `linkLogo` (LinkLogoObject instance).");const e=i.useRef(s.id),{className:n,events:r}=V(s.className,s.active),t=s.target==="_blank"?s.rel?`${s.rel} noopener noreferrer`:"noopener noreferrer":s.rel,c=!!s.name;return o.jsx("a",{id:e.current,href:s.href,className:n,target:s.target,rel:t,onClick:s.onClick,title:s.title,...r,children:o.jsxs("span",{children:[o.jsx("img",{src:s.logo,alt:s.logoAlt||s.name,width:s.width,height:s.height,style:{display:"inline-block"}}),c&&o.jsx("span",{className:"px-1",children:s.name})]})})}let A=0;function G(){return A+=1,`alloyBtn${A}`}function J(s="",e=""){const[n,r]=i.useState(!1),[t,c]=i.useState(!1),[d,h]=i.useState(!1);return{className:i.useMemo(()=>[s,(n||t||d)&&e].filter(Boolean).join(" "),[s,e,n,t,d]),events:{onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),c(!1)},onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onFocus:()=>h(!0),onBlur:()=>h(!1)}}}class F{constructor(e){if(!e||!e.name)throw new Error("ButtonObject requires `name`.");this.id=e.id??G(),this.name=e.name,this.className=e.className??"",this.active=e.active??"",this.disabled=!!e.disabled,this.title=e.title,this.ariaLabel=e.ariaLabel,this.tabIndex=e.tabIndex,this.onClick=e.onClick,this.onKeyDown=e.onKeyDown,this.onKeyUp=e.onKeyUp,this.onFocus=e.onFocus,this.onBlur=e.onBlur,this.onMouseEnter=e.onMouseEnter,this.onMouseLeave=e.onMouseLeave}}const Q=i.forwardRef(function({button:e,output:n},r){if(!e||!(e instanceof F))throw new Error("AlloyButton requires `button` (ButtonObject instance).");const t=i.useRef(null),c=i.useRef(e.id),d=e.disabled,{className:h,events:u}=J(e.className,e.active);i.useImperativeHandle(r,()=>({el:t.current,model:e,focus:()=>{var v;return(v=t.current)==null?void 0:v.focus()},click:()=>{var v;return(v=t.current)==null?void 0:v.click()}}),[e]);const a=(v,x)=>j=>{x==null||x(j),n==null||n(e,j),v==null||v(j,e)},y={onClick:a(e.onClick),onKeyDown:a(e.onKeyDown,u.onFocus),onKeyUp:a(e.onKeyUp),onFocus:a(e.onFocus,u.onFocus),onBlur:a(e.onBlur,u.onBlur),onMouseEnter:a(e.onMouseEnter,u.onMouseEnter),onMouseLeave:a(e.onMouseLeave,u.onMouseLeave),onMouseDown:a(void 0,u.onMouseDown),onMouseUp:a(void 0,u.onMouseUp)};return o.jsx("button",{id:c.current,ref:t,type:"button",className:h,title:e.title,"aria-label":e.ariaLabel||e.name,"aria-disabled":d||void 0,disabled:d,tabIndex:e.tabIndex,...y,children:o.jsx("span",{className:"px-2 align-middle",children:e.name})})});let E=0;function X(){return E+=1,`alloyBtnicon${E}`}function Y(s="",e=""){const[n,r]=i.useState(!1),[t,c]=i.useState(!1),[d,h]=i.useState(!1);return{className:i.useMemo(()=>[s,(n||t||d)&&e].filter(Boolean).join(" "),[s,e,n,t,d]),events:{onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),c(!1)},onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onFocus:()=>h(!0),onBlur:()=>h(!1)}}}class I{constructor(e){if(!e||!e.icon)throw new Error("ButtonIconObject requires `icon` (IconObject).");this.id=e.id??X(),this.name=e.name,this.icon=e.icon instanceof w?e.icon:new w(e.icon),this.className=e.className??"",this.active=e.active??"",this.disabled=!!e.disabled,this.title=e.title,this.ariaLabel=e.ariaLabel,this.tabIndex=e.tabIndex,this.onClick=e.onClick,this.onKeyDown=e.onKeyDown,this.onKeyUp=e.onKeyUp,this.onFocus=e.onFocus,this.onBlur=e.onBlur,this.onMouseEnter=e.onMouseEnter,this.onMouseLeave=e.onMouseLeave}}const ee=i.forwardRef(function({buttonIcon:e,output:n},r){if(!e||!(e instanceof I))throw new Error("AlloyButtonIcon requires `buttonIcon` (ButtonIconObject instance).");const t=i.useRef(null),c=i.useRef(e.id),d=e.disabled,{className:h,events:u}=Y(e.className,e.active);i.useImperativeHandle(r,()=>({el:t.current,model:e,focus:()=>{var x;return(x=t.current)==null?void 0:x.focus()},click:()=>{var x;return(x=t.current)==null?void 0:x.click()}}),[e]);const a=(x,j)=>f=>{j==null||j(f),n==null||n(e,f),x==null||x(f,e)},y={onClick:a(e.onClick),onKeyDown:a(e.onKeyDown,u.onFocus),onKeyUp:a(e.onKeyUp),onFocus:a(e.onFocus,u.onFocus),onBlur:a(e.onBlur,u.onBlur),onMouseEnter:a(e.onMouseEnter,u.onMouseEnter),onMouseLeave:a(e.onMouseLeave,u.onMouseLeave),onMouseDown:a(void 0,u.onMouseDown),onMouseUp:a(void 0,u.onMouseUp)},v=e.ariaLabel||e.name||"icon button";return o.jsxs("button",{id:c.current,ref:t,type:"button",className:h,title:e.title,"aria-label":v,"aria-disabled":d||void 0,disabled:d,tabIndex:e.tabIndex,...y,children:[o.jsx("span",{className:"d-inline-flex align-middle",children:o.jsx(L,{icon:e.icon})}),e.name?o.jsx("span",{className:"px-2 align-middle",children:e.name}):null]})});let k=0;function se(){return k+=1,`alloyBtnsubmit${k}`}class q{constructor(e){if(!e||!e.name)throw new Error("ButtonSubmitObject requires `name`.");if(!e.icon)throw new Error("ButtonSubmitObject requires `icon`.");this.id=e.id??se(),this.name=e.name,this.icon=e.icon instanceof w?e.icon:new w(e.icon),this.className=e.className??"",this.disabled=!!e.disabled,this.loading=!!e.loading,this.title=e.title,this.ariaLabel=e.ariaLabel,this.tabIndex=e.tabIndex,this.onClick=e.onClick,this.onMouseDown=e.onMouseDown,this.onKeyDown=e.onKeyDown}}const ne=i.forwardRef(function({buttonSubmit:e,output:n},r){if(!e||!(e instanceof q))throw new Error("AlloyButtonSubmit requires `buttonSubmit` (ButtonSubmitObject instance).");const t=i.useRef(null),c=i.useRef(e.id),[d,h]=i.useState(!!e.loading);i.useEffect(()=>{h(!!e.loading)},[e.loading]);const u=e.disabled||d;i.useImperativeHandle(r,()=>({el:t.current,model:e,focus:()=>{var l;return(l=t.current)==null?void 0:l.focus()},click:()=>{var l;return(l=t.current)==null?void 0:l.click()}}),[e]);const a=i.useRef(!1);i.useEffect(()=>{d||(a.current=!1)},[d]);const y=()=>a.current||u?!1:(a.current=!0,e.loading=!0,e.disabled=!0,h(!0),!0),v=(l,g)=>{n==null||n(e,l),g==null||g(l,e)},x=l=>{y()&&v(l,e.onClick)},j=l=>{y()&&v(l,e.onMouseDown)},f=l=>{const g=l.key;(g==="Enter"||g===" ")&&y()&&v(l,e.onKeyDown)},m=d;return o.jsxs("button",{id:c.current,ref:t,type:"submit",className:e.className,title:e.title,"aria-label":e.ariaLabel||e.name,"aria-busy":d||void 0,"aria-disabled":u||void 0,disabled:u,tabIndex:e.tabIndex,onClick:x,onMouseDown:j,onKeyDown:f,children:[m&&o.jsx("span",{className:"d-inline-flex align-middle",children:o.jsx(L,{icon:e.icon})}),o.jsx("span",{className:m?"px-2 align-middle":"align-middle",children:e.name}),d?o.jsx("span",{className:"ms-2 visually-hidden","aria-live":"polite",children:"Loadingâ€¦"}):null]})});let O=0;function oe(){return O+=1,`alloyinput${O}`}class te{constructor(e){const{id:n,name:r,type:t="text",label:c="",value:d=t==="checkbox"?[]:"",layout:h="text",icon:u,placeholder:a="",required:y=!1,minLength:v,maxLength:x,min:j,max:f,pattern:m,matchWith:l,passwordStrength:g,options:_=[],validators:K=[],...R}=e||{};if(!r)throw new Error("InputObject requires a 'name' field");if(["icon","floating"].includes(h)&&!u)throw new Error("Icon is required for icon and floating layouts");this.id=n??oe(),this.name=r,this.type=t,this.label=c,this.value=d,this.layout=h,this.icon=u instanceof w?u:u?new w(u):void 0,this.placeholder=a,this.required=y,this.minLength=v,this.maxLength=x,this.min=j,this.max=f,this.pattern=m,this.matchWith=l,this.passwordStrength=g,this.options=_,this.validators=K,Object.assign(this,R)}}function re({input:s,output:e}){const[n,r]=i.useState(s.value),[t,c]=i.useState(!1),d=f=>{const m=[],l=typeof f=="string"?f.trim():f;return s.required&&(Array.isArray(l)&&l.length===0||!Array.isArray(l)&&(l===""||l===!1))&&m.push("This field is required."),s.minLength&&typeof l=="string"&&l.length<s.minLength&&m.push(`Minimum length is ${s.minLength}`),s.maxLength&&typeof l=="string"&&l.length>s.maxLength&&m.push(`Maximum length is ${s.maxLength}`),s.pattern&&typeof l=="string"&&!new RegExp(s.pattern).test(l)&&m.push("Invalid format."),s.passwordStrength&&typeof l=="string"&&!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}/.test(l)&&m.push("Password is too weak."),m},h=f=>{const m=d(f);e==null||e({id:s.id,name:s.name,value:f,valid:m.length===0,error:m.length>0,errors:m})},u=()=>c(!0),a=t&&d(n).length>0,y=a&&o.jsx("div",{className:"mt-2","aria-live":"polite",children:d(n).map((f,m)=>o.jsx("div",{className:"alert alert-danger py-2 mb-2",role:"alert",children:f},m))}),v={name:s.name,placeholder:s.placeholder,onBlur:u,"aria-invalid":a||void 0},x=f=>{const m=f.target.value;if(s.type==="checkbox"){const l=Array.isArray(n)?[...n]:[],g=l.indexOf(m);g>-1?l.splice(g,1):l.push(m),r(l),h(l)}else r(m),h(m)},j=()=>s.type==="textarea"?o.jsx("textarea",{...v,value:n,className:`form-control${a?" is-invalid":""}`}):s.type==="select"?o.jsx("select",{...v,value:n,className:`form-select${a?" is-invalid":""}`,onChange:x,children:s.options.map(f=>o.jsx("option",{value:f.value,children:f.label},f.value))}):s.type==="radio"?o.jsxs("div",{children:[o.jsx("label",{className:"form-label d-block mb-2",children:s.label}),s.options.map((f,m)=>o.jsxs("div",{className:"form-check",children:[o.jsx("input",{type:"radio",id:`${s.id}_${m}`,className:`form-check-input${a?" is-invalid":""}`,name:s.name,value:f.value,checked:n===f.value,onChange:l=>{r(l.target.value),h(l.target.value)}}),o.jsx("label",{className:"form-check-label",htmlFor:`${s.id}_${m}`,children:f.label})]},m))]}):s.type==="checkbox"?o.jsxs("div",{children:[o.jsx("label",{className:"form-label d-block mb-2",children:s.label}),s.options.map((f,m)=>o.jsxs("div",{className:"form-check",children:[o.jsx("input",{type:"checkbox",id:`${s.id}_${m}`,className:`form-check-input${a?" is-invalid":""}`,name:s.name,value:f.value,checked:Array.isArray(n)&&n.includes(f.value),onChange:x}),o.jsx("label",{className:"form-check-label",htmlFor:`${s.id}_${m}`,children:f.label})]},m))]}):o.jsx("input",{...v,type:s.type,value:n,onChange:x,className:`form-control${a?" is-invalid":""}`});return s.layout==="floating"?o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"form-floating",children:[j(),o.jsxs("label",{htmlFor:s.id,children:[s.icon&&o.jsx(L,{icon:s.icon})," ",s.label]})]}),y]}):s.layout==="icon"?o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:s.id,className:"form-label",children:s.label}),o.jsxs("div",{className:"input-group",children:[o.jsx("span",{className:"input-group-text",children:o.jsx(L,{icon:s.icon})}),j()]}),y]}):o.jsxs("div",{className:"mb-3",children:[["text","textarea","number","email","password","date"].includes(s.type)&&o.jsx("label",{htmlFor:s.id,className:"form-label",children:s.label}),j(),y]})}exports.AlloyButton=Q;exports.AlloyButtonIcon=ee;exports.AlloyButtonSubmit=ne;exports.AlloyIcon=L;exports.AlloyInput=re;exports.AlloyLink=H;exports.AlloyLinkIcon=W;exports.AlloyLinkLogo=Z;exports.ButtonIconObject=I;exports.ButtonObject=F;exports.ButtonSubmitObject=q;exports.IconObject=w;exports.InputObject=te;exports.LinkIconObject=D;exports.LinkLogoObject=$;exports.LinkObject=C;
//# sourceMappingURL=alloy-react.cjs.js.map
