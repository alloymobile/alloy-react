"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("react/jsx-runtime"),y=require("react");require("react-dom");function et(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const s in e)if(s!=="default"){const n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:()=>e[s]})}}return t.default=e,Object.freeze(t)}const N=et(y);function L(e="id"){const t=Date.now(),s=Math.random().toString(36).slice(2,7);return`${e}-${t}-${s}`}class x{constructor(t={}){const{id:s,name:n,className:r}=t;this.id=s??L("tag"),this.name=n??"",this.className=r??""}}class C{constructor(t={}){if(!t.iconClass)throw new Error("IconObject requires `iconClass`.");this.id=t.id??L("icon"),this.iconClass=t.iconClass}}function k({icon:e}){if(!e)throw new Error("AlloyIcon requires `icon` prop (Icon instance).");return a.jsx("i",{id:e.id,className:e.iconClass,"aria-hidden":"true"})}function tt(e="",t=""){const[s,n]=y.useState(!1),[r,c]=y.useState(!1),[h,o]=y.useState(!1);return{className:y.useMemo(()=>[e,(s||r||h)&&t].filter(Boolean).join(" "),[e,t,s,r,h]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),c(!1)},onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onFocus:()=>o(!0),onBlur:()=>o(!1)}}}class ${constructor(t={}){if(!t.href)throw new Error("LinkObject requires `href`.");if(!t.name)throw new Error("LinkObject requires `name`.");this.id=t.id??L("link"),this.name=t.name,this.href=t.href,this.className=t.className??"nav-link",this.active=t.active??"",this.target=t.target,this.rel=t.rel,this.onClick=t.onClick,this.title=t.title??t.name}}function Oe({link:e}){if(!e||!(e instanceof $))throw new Error("AlloyLink requires `link` (LinkObject instance).");const t=y.useRef(e.id),{className:s,events:n}=tt(e.className,e.active),r=e.target==="_blank"?e.rel?`${e.rel} noopener noreferrer`:"noopener noreferrer":e.rel;return a.jsx("a",{id:t.current,href:e.href,className:s,target:e.target,rel:r,onClick:e.onClick,title:e.title,...n,children:a.jsx("span",{children:e.name})})}function st(e="",t=""){const[s,n]=y.useState(!1),[r,c]=y.useState(!1),[h,o]=y.useState(!1);return{className:y.useMemo(()=>[e,(s||r||h)&&t].filter(Boolean).join(" "),[e,t,s,r,h]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),c(!1)},onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onFocus:()=>o(!0),onBlur:()=>o(!1)}}}class P{constructor(t={}){if(!t.href)throw new Error("LinkIconObject requires `href`.");if(!t.icon)throw new Error("LinkIconObject requires `icon`.");const s=t.icon instanceof C?t.icon:new C(t.icon);this.id=t.id??L("link-icon"),this.href=t.href,this.icon=s,this.name=t.name,this.className=t.className??"nav-link",this.active=t.active??"",this.target=t.target,this.rel=t.rel,this.onClick=t.onClick,this.title=t.title??t.name}}function Le({linkIcon:e}){if(!e||!(e instanceof P))throw new Error("AlloyLinkIcon requires `linkIcon` (LinkIconObject instance).");const t=y.useRef(e.id),{className:s,events:n}=st(e.className,e.active),r=e.target==="_blank"?e.rel?`${e.rel} noopener noreferrer`:"noopener noreferrer":e.rel,c=!!e.name;return a.jsx("a",{id:t.current,href:e.href,className:s,target:e.target,rel:r,onClick:e.onClick,title:e.title,...n,children:a.jsxs("span",{className:"d-inline-flex align-items-center",children:[a.jsx(k,{icon:e.icon}),c&&a.jsx("span",{className:"px-1",children:e.name})]})})}function nt(e="",t=""){const[s,n]=y.useState(!1),[r,c]=y.useState(!1),[h,o]=y.useState(!1);return{className:y.useMemo(()=>[e,(s||r||h)&&t].filter(Boolean).join(" "),[e,t,s,r,h]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),c(!1)},onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onFocus:()=>o(!0),onBlur:()=>o(!1)}}}class T{constructor(t={}){if(!t.href)throw new Error("LinkLogoObject requires `href`.");if(!t.logo)throw new Error("LinkLogoObject requires `logo`.");this.id=t.id??L("link-logo"),this.name=t.name,this.href=t.href,this.logo=t.logo,this.width=t.width,this.height=t.height,this.logoAlt=t.logoAlt??t.name??"",this.className=t.className??"nav-link",this.active=t.active??"",this.target=t.target,this.rel=t.rel,this.onClick=t.onClick,this.title=t.title??t.name}}function he({linkLogo:e}){if(!e||!(e instanceof T))throw new Error("AlloyLinkLogo requires `linkLogo` (LinkLogoObject instance).");const t=y.useRef(e.id),{className:s,events:n}=nt(e.className,e.active),r=e.target==="_blank"?e.rel?`${e.rel} noopener noreferrer`:"noopener noreferrer":e.rel,c=!!e.name;return a.jsx("a",{id:t.current,href:e.href,className:s,target:e.target,rel:r,onClick:e.onClick,title:e.title,...n,children:a.jsxs("span",{className:"d-inline-flex align-items-center",children:[a.jsx("img",{src:e.logo,alt:e.logoAlt||e.name||"",width:e.width,height:e.height,style:{display:"inline-block"}}),c&&a.jsx("span",{className:"px-1",children:e.name})]})})}function at(e="",t=""){const[s,n]=y.useState(!1),[r,c]=y.useState(!1),[h,o]=y.useState(!1);return{className:y.useMemo(()=>[e,(s||r||h)&&t].filter(Boolean).join(" "),[e,t,s,r,h]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),c(!1)},onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onFocus:()=>o(!0),onBlur:()=>o(!1)}}}class _{constructor(t={}){if(!t.name)throw new Error("ButtonObject requires `name`.");this.id=t.id??L("btn"),this.name=t.name,this.className=t.className??"",this.active=t.active??"btn btn-primary",this.disabled=!!t.disabled,this.title=t.title??t.name,this.ariaLabel=t.ariaLabel??t.name,this.tabIndex=t.tabIndex,this.onClick=t.onClick,this.onKeyDown=t.onKeyDown,this.onKeyUp=t.onKeyUp,this.onFocus=t.onFocus,this.onBlur=t.onBlur,this.onMouseEnter=t.onMouseEnter,this.onMouseLeave=t.onMouseLeave}}const Ae=y.forwardRef(function({button:t,output:s},n){if(!t||!(t instanceof _))throw new Error("AlloyButton requires `button` (ButtonObject instance).");const r=y.useRef(null),c=y.useRef(t.id),h=t.disabled,{className:o,events:d}=at(t.className,t.active);y.useImperativeHandle(n,()=>({el:r.current,model:t,focus:()=>{var u;return(u=r.current)==null?void 0:u.focus()},click:()=>{var u;return(u=r.current)==null?void 0:u.click()}}),[t]);const i=(u,m)=>p=>{m==null||m(p),s==null||s(t,p),u==null||u(p,t)},l={onClick:i(t.onClick),onKeyDown:i(t.onKeyDown,d.onFocus),onKeyUp:i(t.onKeyUp),onFocus:i(t.onFocus,d.onFocus),onBlur:i(t.onBlur,d.onBlur),onMouseEnter:i(t.onMouseEnter,d.onMouseEnter),onMouseLeave:i(t.onMouseLeave,d.onMouseLeave),onMouseDown:i(void 0,d.onMouseDown),onMouseUp:i(void 0,d.onMouseUp)};return a.jsx("button",{id:c.current,ref:r,type:"button",className:o,title:t.title,"aria-label":t.ariaLabel,"aria-disabled":h||void 0,disabled:h,tabIndex:t.tabIndex,...l,children:a.jsx("span",{className:"px-2 align-middle",children:t.name})})});function it(e="",t=""){const[s,n]=y.useState(!1),[r,c]=y.useState(!1),[h,o]=y.useState(!1);return{className:y.useMemo(()=>[e,(s||r||h)&&t].filter(Boolean).join(" "),[e,t,s,r,h]),events:{onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),c(!1)},onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onFocus:()=>o(!0),onBlur:()=>o(!1)}}}class q{constructor(t={}){if(!t.icon)throw new Error("ButtonIconObject requires `icon`.");const s=t.icon instanceof C?t.icon:new C(t.icon);this.id=t.id??L("btn-icon"),this.name=t.name,this.icon=s,this.className=t.className??"btn btn-primary",this.active=t.active??"",this.disabled=!!t.disabled,this.title=t.title??t.name??"icon button",this.ariaLabel=t.ariaLabel??t.name??"icon button",this.tabIndex=t.tabIndex,this.onClick=t.onClick,this.onKeyDown=t.onKeyDown,this.onKeyUp=t.onKeyUp,this.onFocus=t.onFocus,this.onBlur=t.onBlur,this.onMouseEnter=t.onMouseEnter,this.onMouseLeave=t.onMouseLeave}}const Be=y.forwardRef(function({buttonIcon:t,output:s},n){if(!t||!(t instanceof q))throw new Error("AlloyButtonIcon requires `buttonIcon` (ButtonIconObject instance).");const r=y.useRef(null),c=y.useRef(t.id),h=t.disabled,{className:o,events:d}=it(t.className,t.active);y.useImperativeHandle(n,()=>({el:r.current,model:t,focus:()=>{var u;return(u=r.current)==null?void 0:u.focus()},click:()=>{var u;return(u=r.current)==null?void 0:u.click()}}),[t]);const i=(u,m)=>p=>{m==null||m(p),s==null||s(t,p),u==null||u(p,t)},l={onClick:i(t.onClick),onKeyDown:i(t.onKeyDown,d.onFocus),onKeyUp:i(t.onKeyUp),onFocus:i(t.onFocus,d.onFocus),onBlur:i(t.onBlur,d.onBlur),onMouseEnter:i(t.onMouseEnter,d.onMouseEnter),onMouseLeave:i(t.onMouseLeave,d.onMouseLeave),onMouseDown:i(void 0,d.onMouseDown),onMouseUp:i(void 0,d.onMouseUp)};return a.jsxs("button",{id:c.current,ref:r,type:"button",className:o,title:t.title,"aria-label":t.ariaLabel,"aria-disabled":h||void 0,disabled:h,tabIndex:t.tabIndex,...l,children:[a.jsx("span",{className:"d-inline-flex align-middle",children:a.jsx(k,{icon:t.icon})}),t.name?a.jsx("span",{className:"px-2 align-middle",children:t.name}):null]})});class z{constructor(t={}){if(!t.name)throw new Error("ButtonSubmitObject requires `name`.");if(!t.icon)throw new Error("ButtonSubmitObject requires `icon`.");const s=t.icon instanceof C?t.icon:new C(t.icon);this.id=t.id??L("btn-submit"),this.name=t.name,this.icon=s,this.className=t.className??"",this.disabled=!!t.disabled,this.loading=!!t.loading,this.title=t.title??t.name,this.ariaLabel=t.ariaLabel??t.name,this.tabIndex=t.tabIndex,this.onClick=t.onClick,this.onMouseDown=t.onMouseDown,this.onKeyDown=t.onKeyDown}}const ke=y.forwardRef(function({buttonSubmit:t,output:s},n){if(!t||!(t instanceof z))throw new Error("AlloyButtonSubmit requires `buttonSubmit` (ButtonSubmitObject instance).");const r=y.useRef(null),c=y.useRef(t.id),[h,o]=y.useState(!!t.loading),d=y.useRef(!1);y.useEffect(()=>{const w=!!t.loading;o(w),w||(d.current=!1)},[t.loading]);const i=t.disabled||h;y.useImperativeHandle(n,()=>({el:r.current,model:t,focus:()=>{var w;return(w=r.current)==null?void 0:w.focus()},click:()=>{var w;return(w=r.current)==null?void 0:w.click()}}),[t]);const l=()=>d.current||i?!1:(d.current=!0,t.loading=!0,t.disabled=!0,o(!0),!0),u=(w,O)=>{s==null||s(t,w),O==null||O(w,t)},m=w=>{l()&&u(w,t.onClick)},p=w=>{l()&&u(w,t.onMouseDown)},f=w=>{const O=w.key;(O==="Enter"||O===" ")&&l()&&u(w,t.onKeyDown)},g=h;return a.jsxs("button",{id:c.current,ref:r,type:"submit",className:t.className,title:t.title,"aria-label":t.ariaLabel,"aria-busy":h||void 0,"aria-disabled":i||void 0,disabled:i,tabIndex:t.tabIndex,onClick:m,onMouseDown:p,onKeyDown:f,children:[g&&a.jsx("span",{className:"d-inline-flex align-middle",children:a.jsx(k,{icon:t.icon})}),a.jsx("span",{className:g?"px-2 align-middle":"align-middle",children:t.name}),h?a.jsx("span",{className:"ms-2 visually-hidden","aria-live":"polite",children:"Loading…"}):null]})});class re{constructor(t={}){const{id:s,name:n,type:r="text",label:c="",value:h,layout:o="text",icon:d,placeholder:i="",required:l=!1,minLength:u,maxLength:m,min:p,max:f,pattern:g,matchWith:w,passwordStrength:O,className:E,options:A=[],validators:v=[],...j}=t;if(!n)throw new Error("InputObject requires `name`.");if((o==="icon"||o==="floating")&&!d)throw new Error("InputObject with layout='icon' or 'floating' requires `icon`.");let b;typeof h<"u"?b=h:r==="checkbox"?b=[]:b="";const S=d instanceof C?d:d?new C(d):void 0;this.id=s??L("input"),this.name=n,this.type=r,this.label=c,this.value=b,this.layout=o,this.icon=S,this.placeholder=i,this.required=!!l,this.minLength=u,this.maxLength=m,this.min=p,this.max=f,this.pattern=g,this.matchWith=w,this.passwordStrength=O,typeof E=="string"&&E.trim()!==""?this.className=E.trim():r==="select"?this.className="form-select":r==="radio"||r==="checkbox"?this.className="form-check-input":this.className="form-control",this.options=A,this.validators=v,Object.assign(this,j)}}function Se({input:e,output:t}){const[s,n]=y.useState(e.value),[r,c]=y.useState(!1);y.useEffect(()=>{n(e.value),c(!1)},[e.value,e.required,e.minLength,e.maxLength,e.min,e.max,e.pattern,e.passwordStrength,e.matchWith,e.type,e.layout,e.options]);const h=v=>{const j=[],b=typeof v=="string"?v.trim():v;if(e.required){const S=Array.isArray(b)&&b.length===0,W=!Array.isArray(b)&&(b===""||b===!1||b==null);(S||W)&&j.push("This field is required.")}return typeof b=="string"&&e.minLength!=null&&b.length<e.minLength&&j.push(`Minimum length is ${e.minLength}`),typeof b=="string"&&e.maxLength!=null&&b.length>e.maxLength&&j.push(`Maximum length is ${e.maxLength}`),typeof b=="string"&&e.pattern&&e.pattern!==""&&(new RegExp(e.pattern).test(b)||j.push("Invalid format.")),e.passwordStrength&&typeof b=="string"&&(/(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}/.test(b)||j.push("Password is too weak.")),j},o=h(s),d=r&&o.length>0,i=d&&o.length>0&&a.jsx("div",{className:"mt-2","aria-live":"polite",children:o.map((v,j)=>a.jsx("div",{className:"alert alert-danger py-2 mb-2",role:"alert",children:v},j))}),l=v=>{const j=h(v);t==null||t({id:e.id,name:e.name,value:v,valid:j.length===0,error:j.length>0,errors:j})},u=v=>{const j=v.target.value;if(e.type==="checkbox"){const b=Array.isArray(s)?[...s]:[],S=b.indexOf(j);S>-1?b.splice(S,1):b.push(j),n(b),l(b)}else e.type,n(j),l(j)},m={id:e.id,name:e.name,placeholder:e.placeholder,onBlur:()=>c(!0),"aria-invalid":d||void 0},p=v=>v+(d?" is-invalid":""),f=()=>a.jsx("textarea",{...m,value:s,onChange:u,className:p(e.className)}),g=()=>a.jsx("select",{...m,value:s,onChange:u,className:p(e.className),children:e.options.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))}),w=()=>a.jsxs("div",{children:[e.label&&a.jsx("label",{className:"form-label d-block mb-2",children:e.label}),e.options.map((v,j)=>a.jsxs("div",{className:"form-check",children:[a.jsx("input",{type:"radio",id:`${e.id}_${j}`,className:p(e.className),name:e.name,value:v.value,checked:s===v.value,onChange:u,onBlur:()=>c(!0),"aria-invalid":d||void 0}),a.jsx("label",{className:"form-check-label",htmlFor:`${e.id}_${j}`,children:v.label})]},j)),i]}),O=()=>a.jsxs("div",{children:[e.label&&a.jsx("label",{className:"form-label d-block mb-2",children:e.label}),e.options.map((v,j)=>a.jsxs("div",{className:"form-check",children:[a.jsx("input",{type:"checkbox",id:`${e.id}_${j}`,className:p(e.className),name:e.name,value:v.value,checked:Array.isArray(s)&&s.includes(v.value),onChange:u,onBlur:()=>c(!0),"aria-invalid":d||void 0}),a.jsx("label",{className:"form-check-label",htmlFor:`${e.id}_${j}`,children:v.label})]},j)),i]}),E=()=>a.jsx("input",{...m,type:e.type,value:s,onChange:u,className:p(e.className)}),A=()=>{switch(e.type){case"textarea":return f();case"select":return g();case"radio":return w();case"checkbox":return O();default:return E()}};return e.layout==="floating"?a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"form-floating",children:[A(),a.jsxs("label",{htmlFor:e.id,children:[e.icon&&a.jsx(k,{icon:e.icon}),e.icon&&" ",e.label]})]}),!(e.type==="radio"||e.type==="checkbox")&&i]}):e.layout==="icon"?a.jsxs("div",{className:"mb-3",children:[e.label&&a.jsx("label",{htmlFor:e.id,className:"form-label",children:e.label}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:a.jsx(k,{icon:e.icon})}),["radio","checkbox"].includes(e.type)?A():a.jsx("input",{...m,type:e.type,value:s,onChange:u,className:p(e.className)})]}),!(e.type==="radio"||e.type==="checkbox")&&i]}):a.jsxs("div",{className:"mb-3",children:[["text","textarea","number","email","password","date"].includes(e.type)&&e.label&&a.jsx("label",{htmlFor:e.id,className:"form-label",children:e.label}),A(),!(e.type==="radio"||e.type==="checkbox")&&i]})}class R{constructor(t={}){this.id=t.id??L("linkBar"),this.className=t.className??"d-flex justify-content-center",this.type=t.type??"AlloyLink",this.linkClass=t.linkClass??"nav-item",this.selected=t.selected??"active",t.title instanceof x?this.title=t.title:t.title?this.title=new x(t.title):this.title=new x({});const s=Array.isArray(t.links)?t.links:[];this.type==="AlloyLinkIcon"?this.links=s.map(n=>n instanceof P?n:new P(n)):this.type==="AlloyLinkLogo"?this.links=s.map(n=>n instanceof T?n:new T(n)):this.links=s.map(n=>n instanceof $?n:new $(n))}}function rt(e,t,s,n){const r=s?t:"";return e instanceof $?new $({id:e.id,name:e.name,href:e.href,className:e.className,active:r,target:e.target,rel:e.rel,onClick:n,title:e.title}):e instanceof P?new P({id:e.id,href:e.href,icon:e.icon,name:e.name,className:e.className,active:r,target:e.target,rel:e.rel,onClick:n,title:e.title}):e instanceof T?new T({id:e.id,name:e.name,href:e.href,logo:e.logo,width:e.width,height:e.height,logoAlt:e.logoAlt,className:e.className,active:r,target:e.target,rel:e.rel,onClick:n,title:e.title}):e}function H({linkBar:e}){if(!e||!(e instanceof R))throw new Error("AlloyLinkBar requires `linkBar` (LinkBarObject instance).");const t=y.useRef(e.id),[s,n]=y.useState("");y.useEffect(()=>{n("")},[e]);const r=()=>e.title&&e.title.name?a.jsx("div",{id:e.title.id,className:e.title.className,children:e.title.name}):null;function c(o){const d=o.onClick;return i=>{const l=o.id||`${o.href||""}-${o.name||""}`;n(l),d==null||d(i)}}function h(){return a.jsx("ul",{id:t.current,className:e.className,children:e.links.map((o,d)=>{const i=((o==null?void 0:o.id)??"")===s,l=rt(o,e.selected,i,c(o));switch(e.type){case"AlloyLink":if(!(l instanceof $))throw new Error("AlloyLinkBar (type='AlloyLink') expects each link to be a LinkObject instance.");return a.jsx("li",{className:e.linkClass,children:a.jsx(Oe,{link:l})},((o==null?void 0:o.id)??d)+"-li");case"AlloyLinkIcon":if(!(l instanceof P))throw new Error("AlloyLinkBar (type='AlloyLinkIcon') expects each link to be a LinkIconObject instance.");return a.jsx("li",{className:e.linkClass,children:a.jsx(Le,{linkIcon:l})},((o==null?void 0:o.id)??d)+"-li");case"AlloyLinkLogo":if(!(l instanceof T))throw new Error("AlloyLinkBar (type='AlloyLinkLogo') expects each link to be a LinkLogoObject instance.");return a.jsx("li",{className:e.linkClass,children:a.jsx(he,{linkLogo:l})},((o==null?void 0:o.id)??d)+"-li");default:throw new Error(`Unsupported linkBar.type "${e.type}".`)}})})}return a.jsxs("nav",{"data-type":e.type,children:[a.jsx(r,{}),h()]})}class F{constructor(t={}){this.id=t.id??L("buttonBar"),this.className=t.className??"d-flex justify-content-center",this.type=t.type??"AlloyButton",this.buttonClass=t.buttonClass??"nav-item",this.selected=t.selected??"active",t.title instanceof x?this.title=t.title:t.title?this.title=new x(t.title):this.title=new x({});const s=Array.isArray(t.buttons)?t.buttons:[];this.type==="AlloyButtonIcon"?this.buttons=s.map(n=>n instanceof q?n:new q(n)):this.buttons=s.map(n=>n instanceof _?n:new _(n))}}function Ne(e,t,s,n,r){const c=s?t:"";function h(o,d){if((d==null?void 0:d.type)==="click"){const i=(o==null?void 0:o.id)??"";n(i)}r==null||r(o,d)}return e instanceof _?{model:new _({id:e.id,name:e.name,className:e.className,active:c,disabled:e.disabled,title:e.title,ariaLabel:e.ariaLabel,tabIndex:e.tabIndex,onClick:e.onClick,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onFocus:e.onFocus,onBlur:e.onBlur,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}),onAnyEvent:h}:e instanceof q?{model:new q({id:e.id,name:e.name,icon:e.icon,className:e.className,active:c,disabled:e.disabled,title:e.title,ariaLabel:e.ariaLabel,tabIndex:e.tabIndex,onClick:e.onClick,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onFocus:e.onFocus,onBlur:e.onBlur,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}),onAnyEvent:h}:{model:e,onAnyEvent:h}}function J({buttonBar:e,output:t}){if(!e||!(e instanceof F))throw new Error("AlloyButtonBar requires `buttonBar` (ButtonBarObject instance).");const s=y.useRef(e.id),[n,r]=y.useState("");y.useEffect(()=>{r("")},[e]);const c=()=>e.title&&e.title.name?a.jsx("div",{id:e.title.id,className:e.title.className,children:e.title.name}):null;function h(){return a.jsx("ul",{id:s.current,className:e.className,children:e.buttons.map((i,l)=>{if(!(i instanceof _))throw new Error("AlloyButtonBar (type='AlloyButton') expects ButtonObject items.");const u=((i==null?void 0:i.id)??"")===n,{model:m,onAnyEvent:p}=Ne(i,e.selected,u,r,t);return a.jsx("li",{className:e.buttonClass,children:a.jsx(Ae,{button:m,output:p})},((i==null?void 0:i.id)??l)+"-li")})})}function o(){return a.jsx("ul",{id:s.current,className:e.className,children:e.buttons.map((i,l)=>{if(!(i instanceof q))throw new Error("AlloyButtonBar (type='AlloyButtonIcon') expects ButtonIconObject items.");const u=((i==null?void 0:i.id)??"")===n,{model:m,onAnyEvent:p}=Ne(i,e.selected,u,r,t);return a.jsx("li",{className:e.buttonClass,children:a.jsx(Be,{buttonIcon:m,output:p})},((i==null?void 0:i.id)??l)+"-li")})})}function d(){switch(e.type){case"AlloyButtonIcon":return o();case"AlloyButton":default:return h()}}return a.jsxs("nav",{"data-type":e.type,children:[a.jsx(c,{}),d()]})}class Re{constructor(t={}){if(this.id=t.id??L("navbar"),this.className=t.className??"navbar navbar-expand-lg navbar-light bg-light",t.logo instanceof T)this.logo=t.logo;else{const s=t.logo??{href:"/",logo:"/logos/alloy.svg",name:"Alloy",width:110,height:28,logoAlt:"Alloy",className:"navbar-brand d-flex align-items-center gap-2"};this.logo=new T(s)}if(t.linkBar instanceof R)this.linkBar=t.linkBar;else{const s=t.linkBar??{};this.linkBar=new R({id:s.id,className:s.className??"navbar-nav ms-auto mb-2 mb-lg-0 gap-2",title:s.title??{name:"",className:"text-center fw-semibold mb-2"},type:s.type??"AlloyLink",linkClass:s.linkClass??"nav-item",selected:s.selected??"active",links:Array.isArray(s.links)?s.links:[]})}}}function ot({navBar:e}){if(!e||!(e instanceof Re))throw new Error("AlloyNavBar requires `navBar` (NavBarObject instance).");const t=y.useRef(e.id),s=`${t.current}-collapse`;return a.jsx("nav",{id:t.current,className:e.className,children:a.jsxs("div",{className:"container-fluid",children:[a.jsx(he,{linkLogo:e.logo}),a.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":`#${s}`,"aria-controls":s,"aria-expanded":"false","aria-label":"Toggle navigation",children:a.jsx("span",{className:"navbar-toggler-icon"})}),a.jsx("div",{className:"position-relative navbar-collapse collapse justify-content-end",id:s,children:a.jsx(H,{linkBar:e.linkBar})})]})})}function lt(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}class Fe{constructor(t={}){this.id=t.id??L("table"),this.className=t.className??"table",this.name=t.name??"table",this.rows=Array.isArray(t.rows)?t.rows.slice():[];const s={iconClass:"fa-solid fa-user"},n={iconClass:"fa-solid fa-arrow-down"},r=t.icon instanceof C?t.icon:new C(t.icon||s),c=t.sort instanceof C?t.sort:new C(t.sort||n);this.icon=r,this.sort=c}}function ct(e){return!e||e.length===0?[]:Object.keys(e[0]).filter(t=>t!=="id")}function dt({table:e,output:t}){if(!e||!(e instanceof Fe))throw new Error("AlloyTable requires `table` (TableObject instance).");const s=y.useRef(e.id),[n,r]=y.useState({col:"",dir:"asc"}),c=y.useMemo(()=>ct(e.rows),[e.rows]),h=d=>{if(!d)return;const i=n.col===d&&n.dir==="asc"?"desc":"asc";r({col:d,dir:i}),t==null||t({type:"column",name:d,dir:i})},o=d=>{t==null||t({type:"row",id:d})};return a.jsxs("table",{id:s.current,className:e.className,children:[a.jsx("caption",{className:"caption-top text-center",children:e.name}),a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",children:"Type"}),c.map(d=>{const i=n.col===d,l=i&&n.dir==="desc";return a.jsx("th",{scope:"col",children:a.jsxs("span",{onClick:()=>h(d),style:{userSelect:"none",cursor:"pointer"},children:[lt(d),i&&a.jsx("span",{className:"ms-1 d-inline-flex align-middle","aria-hidden":"true",title:l?"Sorted descending":"Sorted ascending",style:{transform:l?"rotate(180deg)":"none",transition:"transform 120ms"},children:a.jsx(k,{icon:e.sort})})]})},d)})]})}),a.jsx("tbody",{children:e.rows.length>0?e.rows.map((d,i)=>a.jsxs("tr",{onClick:()=>o(d==null?void 0:d.id),style:{cursor:"pointer"},children:[a.jsx("td",{children:a.jsx(k,{icon:e.icon})}),c.map(l=>a.jsx("td",{children:a.jsx("span",{children:d==null?void 0:d[l]})},`${(d==null?void 0:d.id)??i}-${l}`))]},(d==null?void 0:d.id)??i)):a.jsx("tr",{children:a.jsx("td",{colSpan:Math.max(1,c.length)+1,className:"text-center text-secondary",children:"No rows"})})})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},oe.apply(this,arguments)}var we;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(we||(we={}));function B(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function le(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function De(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var je;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(je||(je={}));function ge(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=ht(e.path,e.caseSensitive,e.end),r=t.match(s);if(!r)return null;let c=r[0],h=c.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:n.reduce((i,l,u)=>{let{paramName:m,isOptional:p}=l;if(m==="*"){let g=o[u]||"";h=c.slice(0,c.length-g.length).replace(/(.)\/+$/,"$1")}const f=o[u];return p&&!f?i[m]=void 0:i[m]=(f||"").replace(/%2F/g,"/"),i},{}),pathname:c,pathnameBase:h,pattern:e}}function ht(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),G(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,o,d)=>(n.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function V(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function ut(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:r=""}=typeof e=="string"?De(e):e;return{pathname:s?s.startsWith("/")?s:mt(s,t):t,search:yt(n),hash:pt(r)}}function mt(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function ae(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ft(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Te(e,t){let s=ft(e);return t?s.map((n,r)=>r===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Ue(e,t,s,n){n===void 0&&(n=!1);let r;typeof e=="string"?r=De(e):(r=oe({},e),B(!r.pathname||!r.pathname.includes("?"),ae("?","pathname","search",r)),B(!r.pathname||!r.pathname.includes("#"),ae("#","pathname","hash",r)),B(!r.search||!r.search.includes("#"),ae("#","search","hash",r)));let c=e===""||r.pathname==="",h=c?"/":r.pathname,o;if(h==null)o=s;else{let u=t.length-1;if(!n&&h.startsWith("..")){let m=h.split("/");for(;m[0]==="..";)m.shift(),u-=1;r.pathname=m.join("/")}o=u>=0?t[u]:"/"}let d=ut(r,o),i=h&&h!=="/"&&h.endsWith("/"),l=(c||h===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(i||l)&&(d.pathname+="/"),d}const ue=e=>e.join("/").replace(/\/\/+/g,"/"),yt=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pt=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,$e=["post","put","patch","delete"];new Set($e);const xt=["get",...$e];new Set(xt);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ce.apply(this,arguments)}const te=N.createContext(null);process.env.NODE_ENV!=="production"&&(te.displayName="DataRouter");const Pe=N.createContext(null);process.env.NODE_ENV!=="production"&&(Pe.displayName="DataRouterState");const vt=N.createContext(null);process.env.NODE_ENV!=="production"&&(vt.displayName="Await");const U=N.createContext(null);process.env.NODE_ENV!=="production"&&(U.displayName="Navigation");const me=N.createContext(null);process.env.NODE_ENV!=="production"&&(me.displayName="Location");const K=N.createContext({outlet:null,matches:[],isDataRoute:!1});process.env.NODE_ENV!=="production"&&(K.displayName="Route");const Nt=N.createContext(null);process.env.NODE_ENV!=="production"&&(Nt.displayName="RouteError");function wt(e,t){let{relative:s}=t===void 0?{}:t;fe()||(process.env.NODE_ENV!=="production"?B(!1,"useHref() may be used only in the context of a <Router> component."):B(!1));let{basename:n,navigator:r}=N.useContext(U),{hash:c,pathname:h,search:o}=Z(e,{relative:s}),d=h;return n!=="/"&&(d=h==="/"?n:ue([n,h])),r.createHref({pathname:d,search:o,hash:c})}function fe(){return N.useContext(me)!=null}function Y(){return fe()||(process.env.NODE_ENV!=="production"?B(!1,"useLocation() may be used only in the context of a <Router> component."):B(!1)),N.useContext(me).location}const _e="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qe(e){N.useContext(U).static||N.useLayoutEffect(e)}function jt(){let{isDataRoute:e}=N.useContext(K);return e?Ot():gt()}function gt(){fe()||(process.env.NODE_ENV!=="production"?B(!1,"useNavigate() may be used only in the context of a <Router> component."):B(!1));let e=N.useContext(te),{basename:t,future:s,navigator:n}=N.useContext(U),{matches:r}=N.useContext(K),{pathname:c}=Y(),h=JSON.stringify(Te(r,s.v7_relativeSplatPath)),o=N.useRef(!1);return qe(()=>{o.current=!0}),N.useCallback(function(i,l){if(l===void 0&&(l={}),process.env.NODE_ENV!=="production"&&G(o.current,_e),!o.current)return;if(typeof i=="number"){n.go(i);return}let u=Ue(i,JSON.parse(h),c,l.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:ue([t,u.pathname])),(l.replace?n.replace:n.push)(u,l.state,l)},[t,n,h,c,e])}function Z(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=N.useContext(U),{matches:r}=N.useContext(K),{pathname:c}=Y(),h=JSON.stringify(Te(r,n.v7_relativeSplatPath));return N.useMemo(()=>Ue(e,JSON.parse(h),c,s==="path"),[e,h,c,s])}var Ve=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ve||{}),ye=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ye||{});function Me(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function bt(e){let t=N.useContext(te);return t||(process.env.NODE_ENV!=="production"?B(!1,Me(e)):B(!1)),t}function Ct(e){let t=N.useContext(K);return t||(process.env.NODE_ENV!=="production"?B(!1,Me(e)):B(!1)),t}function Ke(e){let t=Ct(e),s=t.matches[t.matches.length-1];return s.route.id||(process.env.NODE_ENV!=="production"?B(!1,e+' can only be used on routes that contain a unique "id"'):B(!1)),s.route.id}function Et(){return Ke(ye.UseRouteId)}function Ot(){let{router:e}=bt(Ve.UseNavigateStable),t=Ke(ye.UseNavigateStable),s=N.useRef(!1);return qe(()=>{s.current=!0}),N.useCallback(function(r,c){c===void 0&&(c={}),process.env.NODE_ENV!=="production"&&G(s.current,_e),s.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,ce({fromRouteId:t},c)))},[e,t])}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},M.apply(this,arguments)}function pe(e,t){if(e==null)return{};var s={},n=Object.keys(e),r,c;for(c=0;c<n.length;c++)r=n[c],!(t.indexOf(r)>=0)&&(s[r]=e[r]);return s}const Q="get",I="application/x-www-form-urlencoded";function se(e){return e!=null&&typeof e.tagName=="string"}function Lt(e){return se(e)&&e.tagName.toLowerCase()==="button"}function At(e){return se(e)&&e.tagName.toLowerCase()==="form"}function Bt(e){return se(e)&&e.tagName.toLowerCase()==="input"}function kt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function St(e,t){return e.button===0&&(!t||t==="_self")&&!kt(e)}let X=null;function Rt(){if(X===null)try{new FormData(document.createElement("form"),0),X=!1}catch{X=!0}return X}const Ft=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ie(e){return e!=null&&!Ft.has(e)?(process.env.NODE_ENV!=="production"&&G(!1,'"'+e+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` '+('and will default to "'+I+'"')),null):e}function Dt(e,t){let s,n,r,c,h;if(At(e)){let o=e.getAttribute("action");n=o?V(o,t):null,s=e.getAttribute("method")||Q,r=ie(e.getAttribute("enctype"))||I,c=new FormData(e)}else if(Lt(e)||Bt(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||o.getAttribute("action");if(n=d?V(d,t):null,s=e.getAttribute("formmethod")||o.getAttribute("method")||Q,r=ie(e.getAttribute("formenctype"))||ie(o.getAttribute("enctype"))||I,c=new FormData(o,e),!Rt()){let{name:i,type:l,value:u}=e;if(l==="image"){let m=i?i+".":"";c.append(m+"x","0"),c.append(m+"y","0")}else i&&c.append(i,u)}}else{if(se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Q,n=null,r=I,h=e}return c&&r==="text/plain"&&(h=c,c=void 0),{action:n,method:s.toLowerCase(),encType:r,formData:c,body:h}}const Tt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ut=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$t=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],Pt="6";try{window.__reactRouterVersion=Pt}catch{}const We=N.createContext({isTransitioning:!1});process.env.NODE_ENV!=="production"&&(We.displayName="ViewTransition");const _t=N.createContext(new Map);process.env.NODE_ENV!=="production"&&(_t.displayName="Fetchers");process.env.NODE_ENV;const qt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D=N.forwardRef(function(t,s){let{onClick:n,relative:r,reloadDocument:c,replace:h,state:o,target:d,to:i,preventScrollReset:l,viewTransition:u}=t,m=pe(t,Tt),{basename:p}=N.useContext(U),f,g=!1;if(typeof i=="string"&&Vt.test(i)&&(f=i,qt))try{let A=new URL(window.location.href),v=i.startsWith("//")?new URL(A.protocol+i):new URL(i),j=V(v.pathname,p);v.origin===A.origin&&j!=null?i=j+v.search+v.hash:g=!0}catch{process.env.NODE_ENV!=="production"&&G(!1,'<Link to="'+i+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let w=wt(i,{relative:r}),O=zt(i,{replace:h,state:o,target:d,preventScrollReset:l,relative:r,viewTransition:u});function E(A){n&&n(A),A.defaultPrevented||O(A)}return N.createElement("a",M({},m,{href:f||w,onClick:g||c?n:E,ref:s,target:d}))});process.env.NODE_ENV!=="production"&&(D.displayName="Link");const Mt=N.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:r=!1,className:c="",end:h=!1,style:o,to:d,viewTransition:i,children:l}=t,u=pe(t,Ut),m=Z(d,{relative:u.relative}),p=Y(),f=N.useContext(Pe),{navigator:g,basename:w}=N.useContext(U),O=f!=null&&Xt(m)&&i===!0,E=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,A=p.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(A=A.toLowerCase(),v=v?v.toLowerCase():null,E=E.toLowerCase()),v&&w&&(v=V(v,w)||v);const j=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let b=A===E||!h&&A.startsWith(E)&&A.charAt(j)==="/",S=v!=null&&(v===E||!h&&v.startsWith(E)&&v.charAt(E.length)==="/"),W={isActive:b,isPending:S,isTransitioning:O},Qe=b?n:void 0,ne;typeof c=="function"?ne=c(W):ne=[c,b?"active":null,S?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof o=="function"?o(W):o;return N.createElement(D,M({},u,{"aria-current":Qe,className:ne,ref:s,style:Ie,to:d,viewTransition:i}),typeof l=="function"?l(W):l)});process.env.NODE_ENV!=="production"&&(Mt.displayName="NavLink");const Kt=N.forwardRef((e,t)=>{let{fetcherKey:s,navigate:n,reloadDocument:r,replace:c,state:h,method:o=Q,action:d,onSubmit:i,relative:l,preventScrollReset:u,viewTransition:m}=e,p=pe(e,$t),f=Yt(),g=Zt(d,{relative:l}),w=o.toLowerCase()==="get"?"get":"post",O=E=>{if(i&&i(E),E.defaultPrevented)return;E.preventDefault();let A=E.nativeEvent.submitter,v=(A==null?void 0:A.getAttribute("formmethod"))||o;f(A||E.currentTarget,{fetcherKey:s,method:v,navigate:n,replace:c,state:h,relative:l,preventScrollReset:u,viewTransition:m})};return N.createElement("form",M({ref:t,method:w,action:g,onSubmit:r?i:O},p))});process.env.NODE_ENV!=="production"&&(Kt.displayName="Form");process.env.NODE_ENV;var ee;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ee||(ee={}));var be;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(be||(be={}));function Wt(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function ze(e){let t=N.useContext(te);return t||(process.env.NODE_ENV!=="production"?B(!1,Wt(e)):B(!1)),t}function zt(e,t){let{target:s,replace:n,state:r,preventScrollReset:c,relative:h,viewTransition:o}=t===void 0?{}:t,d=jt(),i=Y(),l=Z(e,{relative:h});return N.useCallback(u=>{if(St(u,s)){u.preventDefault();let m=n!==void 0?n:le(i)===le(l);d(e,{replace:m,state:r,preventScrollReset:c,relative:h,viewTransition:o})}},[i,d,l,n,r,s,e,c,h,o])}function Ht(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let Jt=0,Gt=()=>"__"+String(++Jt)+"__";function Yt(){let{router:e}=ze(ee.UseSubmit),{basename:t}=N.useContext(U),s=Et();return N.useCallback(function(n,r){r===void 0&&(r={}),Ht();let{action:c,method:h,encType:o,formData:d,body:i}=Dt(n,t);if(r.navigate===!1){let l=r.fetcherKey||Gt();e.fetch(l,s,r.action||c,{preventScrollReset:r.preventScrollReset,formData:d,body:i,formMethod:r.method||h,formEncType:r.encType||o,flushSync:r.flushSync})}else e.navigate(r.action||c,{preventScrollReset:r.preventScrollReset,formData:d,body:i,formMethod:r.method||h,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:s,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,s])}function Zt(e,t){let{relative:s}=t===void 0?{}:t,{basename:n}=N.useContext(U),r=N.useContext(K);r||(process.env.NODE_ENV!=="production"?B(!1,"useFormAction must be used inside a RouteContext"):B(!1));let[c]=r.matches.slice(-1),h=M({},Z(e||".",{relative:s})),o=Y();if(e==null){h.search=o.search;let d=new URLSearchParams(h.search),i=d.getAll("index");if(i.some(u=>u==="")){d.delete("index"),i.filter(m=>m).forEach(m=>d.append("index",m));let u=d.toString();h.search=u?"?"+u:""}}return(!e||e===".")&&c.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:ue([n,h.pathname])),le(h)}function Xt(e,t){t===void 0&&(t={});let s=N.useContext(We);s==null&&(process.env.NODE_ENV!=="production"?B(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?"):B(!1));let{basename:n}=ze(ee.useViewTransitionState),r=Z(e,{relative:t.relative});if(!s.isTransitioning)return!1;let c=V(s.currentLocation.pathname,n)||s.currentLocation.pathname,h=V(s.nextLocation.pathname,n)||s.nextLocation.pathname;return ge(r.pathname,h)!=null||ge(r.pathname,c)!=null}function Qt(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}class He{constructor(t={}){if(!t.link)throw new Error("TableLinkObject requires `link` (base route).");this.id=t.id??L("table-link"),this.className=t.className??"table",this.name=t.name??"table",this.rows=Array.isArray(t.rows)?t.rows.slice():[],this.link=t.link;const s={iconClass:"fa-solid fa-user"},n={iconClass:"fa-solid fa-arrow-down"};this.icon=t.icon instanceof C?t.icon:new C(t.icon||s),this.sort=t.sort instanceof C?t.sort:new C(t.sort||n)}}function It(e){return!e||e.length===0?[]:Object.keys(e[0]).filter(t=>t!=="id")}function es({tableLink:e,output:t}){if(!e||!(e instanceof He))throw new Error("AlloyTableLink requires `tableLink` (TableLinkObject instance).");const s=y.useRef(e.id),[n,r]=y.useState({col:"",dir:"asc"}),c=y.useMemo(()=>It(e.rows),[e.rows]),h=o=>{if(!o)return;const d=n.col===o&&n.dir==="asc"?"desc":"asc";r({col:o,dir:d}),t==null||t({type:"column",name:o,dir:d})};return a.jsxs("table",{id:s.current,className:e.className,children:[a.jsx("caption",{className:"caption-top text-center",children:e.name}),a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",children:"Type"}),c.map(o=>{const d=n.col===o,i=d&&n.dir==="desc";return a.jsx("th",{scope:"col",children:a.jsxs("span",{onClick:()=>h(o),style:{userSelect:"none",cursor:"pointer"},children:[Qt(o),d&&a.jsx("span",{className:"ms-1 d-inline-flex align-middle","aria-hidden":"true",title:i?"Sorted descending":"Sorted ascending",style:{transform:i?"rotate(180deg)":"none",transition:"transform 120ms"},children:a.jsx(k,{icon:e.sort})})]})},o)})]})}),a.jsx("tbody",{children:e.rows.length>0?e.rows.map((o,d)=>{const i=(o==null?void 0:o.id)??d,u=`${e.link.endsWith("/")?e.link.slice(0,-1):e.link}/${i}`;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(k,{icon:e.icon})}),c.map(m=>a.jsx("td",{children:a.jsx(D,{to:u,className:"text-decoration-none",onClick:()=>t==null?void 0:t({type:"navigate",to:u,id:i}),children:a.jsx("span",{children:o==null?void 0:o[m]})})},`${i}-${m}`))]},i)}):a.jsx("tr",{children:a.jsx("td",{colSpan:Math.max(1,c.length)+1,className:"text-center text-secondary",children:"No rows"})})})]})}function ts(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}function ss(e){if(!Array.isArray(e)||e.length===0)return[];const t=e[0]??{};return Object.keys(t).filter(s=>s!=="id")}class Je{constructor(t={}){this.id=t.id??L("table-action"),this.className=t.className??"table",this.name=t.name??"table",this.rows=Array.isArray(t.rows)?t.rows.slice():[],this.link=typeof t.link=="string"?t.link:"";const s=new C({iconClass:"fa-solid fa-user"}),n=new C({iconClass:"fa-solid fa-arrow-down"});this.icon=t.icon instanceof C?t.icon:new C(t.icon||s),this.sort=t.sort instanceof C?t.sort:new C(t.sort||n),this.actions=t.actions?t.actions instanceof F?t.actions:new F(t.actions):void 0}}function ns({tableAction:e,output:t}){if(!e||!(e instanceof Je))throw new Error("AlloyTableAction requires `tableAction` (TableActionObject instance).");const s=y.useRef(e.id),n=y.useMemo(()=>ss(e.rows),[e.rows]),[r,c]=y.useState({col:"",dir:"asc"});function h(i){const l=r.col===i&&r.dir==="asc"?"desc":"asc";c({col:i,dir:l}),t==null||t({type:"column",name:i,dir:l})}function o(i){return(l,u)=>{var m;t==null||t({type:"action",action:{id:l==null?void 0:l.id,name:l==null?void 0:l.name,className:l==null?void 0:l.className,active:l==null?void 0:l.active,disabled:!!(l!=null&&l.disabled),title:l==null?void 0:l.title,ariaLabel:l==null?void 0:l.ariaLabel,tabIndex:l==null?void 0:l.tabIndex,iconClass:(m=l==null?void 0:l.icon)==null?void 0:m.iconClass},row:i})}}const d=!!e.actions;return a.jsxs("table",{id:s.current,className:e.className,children:[a.jsx("caption",{className:"caption-top text-center",children:e.name}),a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",children:"Type"}),n.map(i=>{const l=r.col===i,u=l&&r.dir==="desc";return a.jsx("th",{scope:"col",children:a.jsxs("span",{onClick:()=>h(i),style:{userSelect:"none"},children:[ts(i),l&&a.jsx("span",{className:"ms-1 d-inline-flex align-middle","aria-hidden":"true",title:u?"Sorted descending":"Sorted ascending",style:{transform:u?"rotate(180deg)":"none",transition:"transform 120ms"},children:a.jsx(k,{icon:e.sort})})]})},`h-${i}`)}),d&&a.jsx("th",{scope:"col",className:"text-end",children:"Actions"})]})}),a.jsx("tbody",{children:e.rows.length>0?e.rows.map((i,l)=>{const u=(i==null?void 0:i.id)??l,m=e.actions;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(k,{icon:e.icon})}),n.map(p=>{const f=e.link||"",g=f.endsWith("/")?f.slice(0,-1):f,w=g?`${g}/${u}`:"";return a.jsx("td",{children:g?a.jsx(D,{to:w,onClick:()=>t==null?void 0:t({type:"navigate",to:w,id:u,row:i}),className:"text-decoration-none",children:a.jsx("span",{children:i==null?void 0:i[p]})}):a.jsx("span",{children:i==null?void 0:i[p]})},`${u}-${p}`)}),d&&a.jsx("td",{className:"text-end",children:a.jsx(J,{buttonBar:m,output:o(i)})})]},u)}):a.jsx("tr",{children:a.jsx("td",{colSpan:1+n.length+(d?1:0),className:"text-center text-secondary",children:"No rows"})})})]})}class xe{constructor(t={}){if(!t.body)throw new Error("CardObject requires `body`.");if(this.id=t.id??L("card"),this.className=t.className??"card border m-2 shadow",this.link=typeof t.link=="string"?t.link:"",t.header instanceof x)this.header=t.header;else if(t.header){const n=new x(t.header);n.className=n.className||"card-header",this.header=n}else this.header=void 0;if(t.body instanceof x)this.body=t.body;else{const n=new x(t.body);n.className=n.className||"card-body",this.body=n}if(t.footer instanceof x)this.footer=t.footer;else if(t.footer){const n=new x(t.footer);n.className=n.className||"card-footer",this.footer=n}else this.footer=void 0;const s=Array.isArray(t.fields)?t.fields:[];this.fields=s.map(n=>n instanceof x?n:new x(n||{}))}}function as({card:e}){var c;if(!e||!(e instanceof xe))throw new Error("AlloyCard requires `card` (CardObject instance).");const t=e.header?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header","aria-label":e.header.name,children:e.header.name}):null,s=a.jsxs("div",{id:e.body.id,className:e.body.className||"card-body","aria-label":e.body.name,children:[e.body.name&&a.jsx("div",{className:"mb-2",children:e.body.name}),e.fields.map(h=>a.jsx("div",{id:h.id,className:h.className,"aria-label":h.name,children:h.name},h.id))]}),n=e.link?a.jsx(D,{to:e.link,className:"text-decoration-none d-block","aria-label":(c=e.body)==null?void 0:c.name,children:s}):s,r=e.footer?a.jsx("div",{id:e.footer.id,className:e.footer.className||"card-footer","aria-label":e.footer.name,children:e.footer.name}):null;return a.jsxs("div",{id:e.id,className:e.className,children:[t,n,r]})}class Ge extends xe{constructor(t={}){if(super(t),!t.icon)throw new Error("CardIconObject requires `icon`.");this.icon=t.icon instanceof C?t.icon:new C(t.icon),this.iconClass=t.iconClass??"col-4 d-flex align-items-start justify-content-center text-warning fs-2",this.textClass=t.textClass??"col-8"}}function is({cardIcon:e}){var c,h,o,d;if(!e||!(e instanceof Ge))throw new Error("AlloyCardIcon requires `cardIcon` (CardIconObject instance).");const t=(c=e.header)!=null&&c.name?a.jsx("div",{id:e.header.id,className:e.header.className,children:e.header.name}):null,s=a.jsx("div",{id:e.body.id,className:e.body.className,"aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.iconClass,children:a.jsx(k,{icon:e.icon})}),a.jsxs("div",{className:e.textClass,children:[(h=e.body)!=null&&h.name?a.jsx("div",{className:"mb-1 fw-semibold",children:e.body.name}):null,e.fields.map(i=>i!=null&&i.name?a.jsx("div",{id:i.id,className:i.className,children:i.name},i.id):null)]})]})}),n=e.link?a.jsx(D,{to:e.link,className:"text-decoration-none d-block","aria-label":(o=e.body)==null?void 0:o.name,children:s}):s,r=(d=e.footer)!=null&&d.name?a.jsx("div",{id:e.footer.id,className:e.footer.className,children:e.footer.name}):null;return a.jsxs("div",{id:e.id,className:e.className,children:[t,n,r]})}class Ce{constructor(t={}){this.id=t.id??L("logo"),this.imageUrl=t.imageUrl??"https://alloymobile.blob.core.windows.net/alloymobile/alloymobile.png",this.alt=t.alt??"Alloymobile",this.width=t.width??"72px",this.height=t.height??"auto"}}class ve{constructor(t={}){this.id=t.id??L("card"),this.className=t.className??"card border m-2 shadow",this.link=typeof t.link=="string"?t.link:"",this.header=t.header instanceof x?t.header:new x(t.header||{}),this.body=t.body instanceof x?t.body:new x(t.body||{}),this.footer=t.footer instanceof x?t.footer:new x(t.footer||{});const s=Array.isArray(t.fields)?t.fields:[];this.fields=s.map(n=>n instanceof x?n:new x(n||{})),this.logo=t.logo instanceof Ce?t.logo:new Ce(t.logo||{}),this.logoClass=t.logoClass??"col-4 d-flex align-items-center justify-content-center bg-light rounded mb-0",this.textClass=t.textClass??"col-8"}}function rs({cardImage:e}){var c,h,o,d;if(!(e instanceof ve))throw new Error("AlloyCardImage requires `cardImage` (CardImageObject instance).");const t=(c=e.header)!=null&&c.name?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header py-2 fw-semibold","aria-label":e.header.name,children:e.header.name}):null,s=a.jsx("div",{id:e.body.id,className:e.body.className||"card-body py-3","aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.logoClass,children:a.jsx("img",{src:e.logo.imageUrl,alt:e.logo.alt,style:{width:e.logo.width,height:e.logo.height,maxWidth:"100%",objectFit:"contain"}})}),a.jsx("div",{className:e.textClass,children:a.jsxs("div",{className:"row p-1",children:[(h=e.body)!=null&&h.name?a.jsx("div",{className:"fw-semibold mb-1",children:e.body.name}):null,e.fields.map(i=>i!=null&&i.name?a.jsx("div",{id:i.id,className:i.className||"",children:i.name},i.id??L("card-image-field")):null)]})})]})}),n=e.link?a.jsx(D,{to:e.link,className:"text-decoration-none d-block","aria-label":(o=e.body)==null?void 0:o.name,children:s}):s,r=(d=e.footer)!=null&&d.name?a.jsx("div",{id:e.footer.id,className:e.footer.className||"card-footer small text-muted py-2","aria-label":e.footer.name,children:e.footer.name}):null;return a.jsxs("div",{id:e.id,className:e.className,children:[t,n,r]})}class Ye{constructor(t={}){this.id=t.id??L("card-action"),this.className=t.className??"card border m-2 shadow",this.link=t.link??"";const s=t.header??{};this.header=s instanceof x?s:new x(s);const n=t.body??{};this.body=n instanceof x?n:new x(n);const r=Array.isArray(t.fields)?t.fields:[];this.fields=r.map(o=>o instanceof x?o:new x(o||{}));const c=t.footer??{};this.footer=c instanceof x?c:new x(c),this.type=t.type??"AlloyButtonBar";const h=t.action;this.type==="AlloyLinkBar"?this.action=h instanceof R?h:h?new R(h):void 0:this.action=h instanceof F?h:h?new F(h):void 0}}function os({cardAction:e,output:t}){var o,d;if(!e||!(e instanceof Ye))throw new Error("AlloyCardAction requires `cardAction` (CardActionObject instance).");function s(i,l){var u;t==null||t({type:"action",action:{id:i==null?void 0:i.id,name:i==null?void 0:i.name,className:i==null?void 0:i.className,active:i==null?void 0:i.active,disabled:(i==null?void 0:i.disabled)??!1,title:i==null?void 0:i.title,ariaLabel:i==null?void 0:i.ariaLabel,tabIndex:i==null?void 0:i.tabIndex,iconClass:(u=i==null?void 0:i.icon)==null?void 0:u.iconClass,href:i==null?void 0:i.href},card:{id:e.id}})}const n=(o=e.header)!=null&&o.name?a.jsx("div",{id:e.header.id,className:e.header.className??"card-header py-2 fw-semibold",children:e.header.name}):null,r=a.jsxs("div",{id:e.body.id,className:e.body.className??"card-body",children:[e.body.name?a.jsx("div",{className:"fw-semibold mb-1",children:e.body.name}):null,e.fields.map(i=>i!=null&&i.name?a.jsx("div",{id:i.id,className:i.className??"",children:i.name},i.id??L("card-field")):null)]}),c=e.link?a.jsx(D,{to:e.link,className:"text-decoration-none d-block","aria-label":(d=e.body)==null?void 0:d.name,children:r}):r,h=a.jsxs("div",{id:e.footer.id,className:e.footer.className??"card-footer d-flex align-items-center gap-2 py-2",children:[e.footer.name?a.jsx("div",{className:"me-auto small text-muted",children:e.footer.name}):null,e.action?e.type==="AlloyLinkBar"?a.jsx(H,{linkBar:e.action,output:s}):a.jsx(J,{buttonBar:e.action,output:s}):null]});return a.jsxs("div",{id:e.id,className:e.className??"card border m-2 shadow",children:[n,c,h]})}class Ze{constructor(t={}){this.id=t.id??L("card-icon-action"),this.className=t.className??"card border m-2 shadow",this.link=typeof t.link=="string"?t.link:"";const s=t.header??{};this.header=s instanceof x?s:new x(s);const n=t.body??{};this.body=n instanceof x?n:new x(n);const r=Array.isArray(t.fields)?t.fields:[];this.fields=r.map(o=>o instanceof x?o:new x(o||{}));const c=t.footer??{};this.footer=c instanceof x?c:new x(c);const h=new C({iconClass:"fa-solid fa-user fa-2xl"});this.icon=t.icon instanceof C?t.icon:new C(t.icon||{iconClass:h.iconClass}),this.iconClass=t.iconClass??"col-3 d-flex align-items-center justify-content-center rounded-circle bg-warning text-white mb-0",this.textClass=t.textClass??"col-9",this.type=t.type??"AlloyButtonBar",this.type==="AlloyLinkBar"?this.action=t.action instanceof R?t.action:new R(t.action||{}):this.action=t.action instanceof F?t.action:new F(t.action||{})}}function ls({cardIconAction:e,output:t}){var d,i;if(!e||!(e instanceof Ze))throw new Error("AlloyCardIconAction requires `cardIconAction` (CardIconActionObject instance).");function s(){return(l,u)=>{var m;t==null||t({type:"action",action:{id:l==null?void 0:l.id,name:l==null?void 0:l.name,title:l==null?void 0:l.title,href:l==null?void 0:l.href,className:l==null?void 0:l.className,iconClass:(m=l==null?void 0:l.icon)==null?void 0:m.iconClass,active:l==null?void 0:l.active,disabled:!!(l!=null&&l.disabled),ariaLabel:l==null?void 0:l.ariaLabel,tabIndex:l==null?void 0:l.tabIndex},card:{id:e.id}})}}const n=(d=e.header)!=null&&d.name?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header py-2 fw-semibold","aria-label":e.header.name,children:e.header.name}):null,r=a.jsx("div",{id:e.body.id,className:e.body.className||"card-body","aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.iconClass,children:a.jsx(k,{icon:e.icon})}),a.jsx("div",{className:e.textClass,children:a.jsx("div",{className:"row p-1",children:e.fields.map(l=>l!=null&&l.name?a.jsx("div",{id:l.id,className:l.className,children:l.name},l.id??L("card-icon-action-field")):null)})})]})}),c=e.link?a.jsx(D,{to:e.link,className:"text-decoration-none d-block","aria-label":(i=e.body)==null?void 0:i.name,children:r}):r,h=e.type==="AlloyLinkBar"?a.jsx(H,{linkBar:e.action,output:s()}):a.jsx(J,{buttonBar:e.action,output:s()}),o=a.jsxs("div",{id:e.footer.id,className:e.footer.className||"card-footer d-flex align-items-center justify-content-between flex-wrap gap-2 py-2","aria-label":e.footer.name,children:[a.jsx("div",{className:"me-auto",children:e.footer.name?e.footer.name:null}),a.jsx("div",{role:"group",children:h})]});return a.jsxs("div",{id:e.id,className:e.className,children:[n,c,o]})}class Xe extends ve{constructor(t={}){super(t),this.header=t.header instanceof x?t.header:new x(t.header||{className:"card-header py-2 fw-semibold",name:""}),this.body=t.body instanceof x?t.body:new x(t.body||{className:"card-body d-flex align-items-center",name:"Card Body"});const s=Array.isArray(t.fields)?t.fields:[];switch(this.fields=s.map((n,r)=>n instanceof x?n:new x({id:(n==null?void 0:n.id)||`field_${r+1}`,className:(n==null?void 0:n.className)??"",name:(n==null?void 0:n.name)??""})),this.footer=t.footer instanceof x?t.footer:new x(t.footer||{className:"card-footer d-flex align-items-center justify-content-between flex-wrap gap-2 py-2",name:"Footer"}),this.type=t.type??"AlloyButtonBar",this.type){case"AlloyLinkBar":{this.action=t.action instanceof R?t.action:new R(t.action||{className:"nav gap-2",linkClass:"nav-item",barName:{show:!1},type:"AlloyLink",links:[]});break}case"AlloyButtonBar":default:{this.type="AlloyButtonBar",this.action=t.action instanceof F?t.action:new F(t.action||{className:"nav gap-2",buttonClass:"nav-item",barName:{show:!1},type:"AlloyButton",buttons:[]});break}}}}function cs({cardImageAction:e,output:t}){var d,i,l,u,m,p;if(!e||!(e instanceof Xe))throw new Error("AlloyCardImageAction requires `cardImageAction` (CardImageActionObject instance).");function s(){return(f,g)=>{var w,O;t==null||t({type:"action",action:{id:f==null?void 0:f.id,name:f==null?void 0:f.name,title:f==null?void 0:f.title,href:f==null?void 0:f.href,className:f==null?void 0:f.className,iconClass:(w=f==null?void 0:f.icon)==null?void 0:w.iconClass,active:f==null?void 0:f.active,disabled:!!(f!=null&&f.disabled),ariaLabel:f==null?void 0:f.ariaLabel,tabIndex:f==null?void 0:f.tabIndex},card:{id:e.id,bodyId:(O=e.body)==null?void 0:O.id}})}}const r=e.header&&((d=e.header.name)==null?void 0:d.trim())?a.jsx("div",{id:e.header.id,className:e.header.className||"card-header py-2 fw-semibold","aria-label":e.header.name,children:e.header.name}):null,c=a.jsx("div",{id:e.body.id,className:e.body.className||"card-body d-flex align-items-center","aria-label":e.body.name,children:a.jsxs("div",{className:"row m-0",children:[a.jsx("div",{className:e.logoClass,children:a.jsx("img",{src:(i=e.logo)==null?void 0:i.imageUrl,alt:(l=e.logo)==null?void 0:l.alt,style:{width:(u=e.logo)==null?void 0:u.width,height:(m=e.logo)==null?void 0:m.height,maxWidth:"100%",objectFit:"contain"}})}),a.jsx("div",{className:e.textClass,children:a.jsx("div",{className:"row p-1",children:e.fields.map(f=>f!=null&&f.name?a.jsx("div",{id:f.id,className:f.className,children:f.name},f.id):null)})})]})}),h=e.link?a.jsx(D,{to:e.link,className:"text-decoration-none d-block","aria-label":(p=e.body)==null?void 0:p.name,children:c}):c,o=a.jsxs("div",{id:e.footer.id,className:e.footer.className||"card-footer d-flex align-items-center justify-content-between flex-wrap gap-2 py-2","aria-label":e.footer.name,children:[a.jsx("div",{className:"flex-grow-1",children:e.footer.name}),a.jsx("div",{role:"group",children:e.type==="AlloyLinkBar"?a.jsx(H,{linkBar:e.action,output:s()}):a.jsx(J,{buttonBar:e.action,output:s()})})]});return a.jsxs("div",{id:e.id,className:e.className,children:[r,h,o]})}class de{constructor(t={}){const{id:s,title:n="AlloyMobile",className:r="col m-2",message:c="",action:h="",type:o="AlloyInputTextIcon",submit:d,fields:i,data:l}=t;this.id=s??L("form"),this.title=n,this.className=r,this.message=c,this.action=h,this.type=o,this.submit=d instanceof z?d:new z(d||{name:"Submit",icon:{iconClass:"fa-solid fa-circle-notch fa-spin"},className:"btn btn-primary w-100 mt-3",disabled:!1,loading:!1,ariaLabel:"Submit",title:"Submit"});const u=Array.isArray(i)?i:[];this.fields=u.map(m=>m instanceof re?m:new re(m)),this.data=l??{}}}function Ee(e,t,s){let n=!0;const r=[];if(e.required&&(e.type==="checkbox"?(Array.isArray(t)?t:[]).length===0&&(n=!1,r.push("This field is required.")):(t===""||t===!1||t===void 0||t===null)&&(n=!1,r.push("This field is required."))),n&&typeof e.minLength=="number"&&typeof t=="string"&&t.length<e.minLength&&(n=!1,r.push(`Minimum length is ${e.minLength}`)),n&&typeof e.maxLength=="number"&&typeof t=="string"&&t.length>e.maxLength&&(n=!1,r.push(`Maximum length is ${e.maxLength}`)),n&&e.pattern&&typeof t=="string"&&!new RegExp(e.pattern).test(t)&&(n=!1,r.push("Invalid format.")),n&&e.passwordStrength&&typeof t=="string"&&(/(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}/.test(t)||(n=!1,r.push("Password is too weak."))),n&&e.matchWith){const c=e.matchWith;s[c]!==t&&(n=!1,r.push("Values do not match."))}return{valid:n,error:!n,errors:r}}function ds({form:e,output:t}){const s=e instanceof de?e:new de(e||{});if(!s||!Array.isArray(s.fields)||!(s.submit instanceof z))throw new Error("AlloyForm could not hydrate a valid FormObject (missing fields[] or submit).");const[n,r]=y.useState(()=>{const u={},m={};return s.fields.forEach(p=>{m[p.name]=p.value}),s.fields.forEach(p=>{const f=p.value,{valid:g,error:w,errors:O}=Ee(p,f,m);u[p.name]={value:f,valid:g,error:w,errors:O}}),u}),c=y.useRef(null),h=y.useCallback(u=>{const m={};Object.keys(u).forEach(f=>{m[f]=u[f].value});const p={};return s.fields.forEach(f=>{const g=m[f.name],{valid:w,error:O,errors:E}=Ee(f,g,m);p[f.name]={value:g,valid:w,error:O,errors:E}}),p},[s.fields]);function o(u){if(!u||!u.name)return;const{name:m,value:p}=u;r(f=>{const g={...f};return g[m]={...f[m],value:p},h(g)})}const d=y.useMemo(()=>{const u={};return Object.keys(n).forEach(m=>{u[m]=n[m].value}),u},[n]),i=y.useMemo(()=>Object.values(n).some(u=>u.error||!u.valid),[n]);function l(u,m){const p={...d,action:s.action};s.data=p,s.message="",t==null||t(p)}return s.submit.disabled=i||!!s.submit.loading,a.jsx("div",{className:"row",children:a.jsx("div",{className:s.className,children:a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{children:s.title}),s.message!==""&&a.jsx("div",{className:"alert alert-text-danger m-0 p-0",children:s.message}),s.fields.map(u=>a.jsx(Se,{input:u,output:o},u.id)),a.jsx(ke,{ref:c,buttonSubmit:s.submit,output:l})]})})})}exports.AlloyButton=Ae;exports.AlloyButtonBar=J;exports.AlloyButtonIcon=Be;exports.AlloyButtonSubmit=ke;exports.AlloyCard=as;exports.AlloyCardAction=os;exports.AlloyCardIcon=is;exports.AlloyCardIconAction=ls;exports.AlloyCardImage=rs;exports.AlloyCardImageAction=cs;exports.AlloyForm=ds;exports.AlloyIcon=k;exports.AlloyInput=Se;exports.AlloyLink=Oe;exports.AlloyLinkBar=H;exports.AlloyLinkIcon=Le;exports.AlloyLinkLogo=he;exports.AlloyNavBar=ot;exports.AlloyTable=dt;exports.AlloyTableAction=ns;exports.AlloyTableLink=es;exports.ButtonBarObject=F;exports.ButtonIconObject=q;exports.ButtonObject=_;exports.ButtonSubmitObject=z;exports.CardActionObject=Ye;exports.CardIconActionObject=Ze;exports.CardIconObject=Ge;exports.CardImageActionObject=Xe;exports.CardImageObject=ve;exports.CardObject=xe;exports.FormObject=de;exports.IconObject=C;exports.InputObject=re;exports.LinkBarObject=R;exports.LinkIconObject=P;exports.LinkLogoObject=T;exports.LinkObject=$;exports.NavBarObject=Re;exports.TableActionObject=Je;exports.TableLinkObject=He;exports.TableObject=Fe;
//# sourceMappingURL=alloy-react.cjs.js.map
