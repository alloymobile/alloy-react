"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("react/jsx-runtime"),d=require("react");let M=0;function J(){return M+=1,`alloyIcon${M}`}class g{constructor({id:e,iconClass:t}){if(!t)throw new Error("Icon requires iconClass");this.id=e??J(),this.iconClass=t}}function L({icon:s}){if(!s)throw new Error("AlloyIcon requires `icon` prop (Icon instance).");return n.jsx("i",{id:s.id,className:s.iconClass,"aria-hidden":"true"})}let I=0;function Q(){return I+=1,`alloyLink${I}`}function X(s="",e=""){const[t,r]=d.useState(!1),[a,l]=d.useState(!1),[o,i]=d.useState(!1);return{className:d.useMemo(()=>[s,(t||a||o)&&e].filter(Boolean).join(" "),[s,e,t,a,o]),events:{onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),l(!1)},onMouseDown:()=>l(!0),onMouseUp:()=>l(!1),onFocus:()=>i(!0),onBlur:()=>i(!1)}}}class b{constructor({id:e,name:t,href:r,className:a,active:l,target:o,rel:i,onClick:c,title:u}){if(!r)throw new Error("LinkObject requires `href`.");this.id=e??Q(),this.name=t,this.href=r,this.className=a??"",this.active=l??"",this.target=o,this.rel=i,this.onClick=c,this.title=u}}function K({link:s}){if(!s||!(s instanceof b))throw new Error("AlloyLink requires `link` (LinkObject instance).");if(!s.name)throw new Error("AlloyLink requires `link.name`.");const e=d.useRef(s.id),{className:t,events:r}=X(s.className,s.active),a=s.target==="_blank"?s.rel?`${s.rel} noopener noreferrer`:"noopener noreferrer":s.rel;return n.jsx("a",{id:e.current,href:s.href,className:t,target:s.target,rel:a,onClick:s.onClick,title:s.title,...r,children:n.jsx("span",{children:s.name})})}let E=0;function Y(){return E+=1,`alloyLinkIcon${E}`}function ee(s="",e=""){const[t,r]=d.useState(!1),[a,l]=d.useState(!1),[o,i]=d.useState(!1);return{className:d.useMemo(()=>[s,(t||a||o)&&e].filter(Boolean).join(" "),[s,e,t,a,o]),events:{onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),l(!1)},onMouseDown:()=>l(!0),onMouseUp:()=>l(!1),onFocus:()=>i(!0),onBlur:()=>i(!1)}}}class A{constructor({id:e,href:t,icon:r,name:a,className:l,active:o,target:i,rel:c,onClick:u,title:j}){if(!t)throw new Error("LinkIconObject requires `href`.");if(!r||!(r instanceof g))throw new Error("LinkIconObject requires `icon` (Icon instance).");this.id=e??Y(),this.href=t,this.icon=r instanceof g?r:new g(r),this.name=a,this.className=l??"",this.active=o??"",this.target=i,this.rel=c,this.onClick=u,this.title=j}}function U({linkIcon:s}){if(!s||!(s instanceof A))throw new Error("AlloyLinkIcon requires `linkIcon` (LinkIconObject instance).");const e=d.useRef(s.id),{className:t,events:r}=ee(s.className,s.active),a=s.target==="_blank"?s.rel?`${s.rel} noopener noreferrer`:"noopener noreferrer":s.rel,l=!!s.name;return n.jsx("a",{id:e.current,href:s.href,className:t,target:s.target,rel:a,onClick:s.onClick,title:s.title,...r,children:n.jsxs("span",{children:[n.jsx(L,{icon:s.icon}),l&&n.jsx("span",{className:"px-1",children:s.name})]})})}let O=0;function se(){return O+=1,`alloyLinkLogo${O}`}function ne(s="",e=""){const[t,r]=d.useState(!1),[a,l]=d.useState(!1),[o,i]=d.useState(!1);return{className:d.useMemo(()=>[s,(t||a||o)&&e].filter(Boolean).join(" "),[s,e,t,a,o]),events:{onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),l(!1)},onMouseDown:()=>l(!0),onMouseUp:()=>l(!1),onFocus:()=>i(!0),onBlur:()=>i(!1)}}}class N{constructor({id:e,name:t,href:r,logo:a,width:l,height:o,logoAlt:i="",className:c,active:u,target:j,rel:y,onClick:x,title:v}){if(!r)throw new Error("LinkLogoObject requires `href`.");if(!a)throw new Error("LinkLogoObject requires `logo`.");this.id=e??se(),this.name=t,this.href=r,this.logo=a,this.width=l,this.height=o,this.logoAlt=i,this.className=c??"",this.active=u??"",this.target=j,this.rel=y,this.onClick=x,this.title=v}}function S({linkLogo:s}){if(!s||!(s instanceof N))throw new Error("AlloyLinkLogo requires `linkLogo` (LinkLogoObject instance).");const e=d.useRef(s.id),{className:t,events:r}=ne(s.className,s.active),a=s.target==="_blank"?s.rel?`${s.rel} noopener noreferrer`:"noopener noreferrer":s.rel,l=!!s.name;return n.jsx("a",{id:e.current,href:s.href,className:t,target:s.target,rel:a,onClick:s.onClick,title:s.title,...r,children:n.jsxs("span",{children:[n.jsx("img",{src:s.logo,alt:s.logoAlt||s.name,width:s.width,height:s.height,style:{display:"inline-block"}}),l&&n.jsx("span",{className:"px-1",children:s.name})]})})}let C=0;function te(){return C+=1,`alloyBtn${C}`}function oe(s="",e=""){const[t,r]=d.useState(!1),[a,l]=d.useState(!1),[o,i]=d.useState(!1);return{className:d.useMemo(()=>[s,(t||a||o)&&e].filter(Boolean).join(" "),[s,e,t,a,o]),events:{onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),l(!1)},onMouseDown:()=>l(!0),onMouseUp:()=>l(!1),onFocus:()=>i(!0),onBlur:()=>i(!1)}}}class B{constructor(e){if(!e||!e.name)throw new Error("ButtonObject requires `name`.");this.id=e.id??te(),this.name=e.name,this.className=e.className??"",this.active=e.active??"",this.disabled=!!e.disabled,this.title=e.title,this.ariaLabel=e.ariaLabel,this.tabIndex=e.tabIndex,this.onClick=e.onClick,this.onKeyDown=e.onKeyDown,this.onKeyUp=e.onKeyUp,this.onFocus=e.onFocus,this.onBlur=e.onBlur,this.onMouseEnter=e.onMouseEnter,this.onMouseLeave=e.onMouseLeave}}const H=d.forwardRef(function({button:e,output:t},r){if(!e||!(e instanceof B))throw new Error("AlloyButton requires `button` (ButtonObject instance).");const a=d.useRef(null),l=d.useRef(e.id),o=e.disabled,{className:i,events:c}=oe(e.className,e.active);d.useImperativeHandle(r,()=>({el:a.current,model:e,focus:()=>{var y;return(y=a.current)==null?void 0:y.focus()},click:()=>{var y;return(y=a.current)==null?void 0:y.click()}}),[e]);const u=(y,x)=>v=>{x==null||x(v),t==null||t(e,v),y==null||y(v,e)},j={onClick:u(e.onClick),onKeyDown:u(e.onKeyDown,c.onFocus),onKeyUp:u(e.onKeyUp),onFocus:u(e.onFocus,c.onFocus),onBlur:u(e.onBlur,c.onBlur),onMouseEnter:u(e.onMouseEnter,c.onMouseEnter),onMouseLeave:u(e.onMouseLeave,c.onMouseLeave),onMouseDown:u(void 0,c.onMouseDown),onMouseUp:u(void 0,c.onMouseUp)};return n.jsx("button",{id:l.current,ref:a,type:"button",className:i,title:e.title,"aria-label":e.ariaLabel||e.name,"aria-disabled":o||void 0,disabled:o,tabIndex:e.tabIndex,...j,children:n.jsx("span",{className:"px-2 align-middle",children:e.name})})});let p=0;function re(){return p+=1,`alloyBtnicon${p}`}function ae(s="",e=""){const[t,r]=d.useState(!1),[a,l]=d.useState(!1),[o,i]=d.useState(!1);return{className:d.useMemo(()=>[s,(t||a||o)&&e].filter(Boolean).join(" "),[s,e,t,a,o]),events:{onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),l(!1)},onMouseDown:()=>l(!0),onMouseUp:()=>l(!1),onFocus:()=>i(!0),onBlur:()=>i(!1)}}}class k{constructor(e){if(!e||!e.icon)throw new Error("ButtonIconObject requires `icon` (IconObject).");this.id=e.id??re(),this.name=e.name,this.icon=e.icon instanceof g?e.icon:new g(e.icon),this.className=e.className??"",this.active=e.active??"",this.disabled=!!e.disabled,this.title=e.title,this.ariaLabel=e.ariaLabel,this.tabIndex=e.tabIndex,this.onClick=e.onClick,this.onKeyDown=e.onKeyDown,this.onKeyUp=e.onKeyUp,this.onFocus=e.onFocus,this.onBlur=e.onBlur,this.onMouseEnter=e.onMouseEnter,this.onMouseLeave=e.onMouseLeave}}const P=d.forwardRef(function({buttonIcon:e,output:t},r){if(!e||!(e instanceof k))throw new Error("AlloyButtonIcon requires `buttonIcon` (ButtonIconObject instance).");const a=d.useRef(null),l=d.useRef(e.id),o=e.disabled,{className:i,events:c}=ae(e.className,e.active);d.useImperativeHandle(r,()=>({el:a.current,model:e,focus:()=>{var x;return(x=a.current)==null?void 0:x.focus()},click:()=>{var x;return(x=a.current)==null?void 0:x.click()}}),[e]);const u=(x,v)=>f=>{v==null||v(f),t==null||t(e,f),x==null||x(f,e)},j={onClick:u(e.onClick),onKeyDown:u(e.onKeyDown,c.onFocus),onKeyUp:u(e.onKeyUp),onFocus:u(e.onFocus,c.onFocus),onBlur:u(e.onBlur,c.onBlur),onMouseEnter:u(e.onMouseEnter,c.onMouseEnter),onMouseLeave:u(e.onMouseLeave,c.onMouseLeave),onMouseDown:u(void 0,c.onMouseDown),onMouseUp:u(void 0,c.onMouseUp)},y=e.ariaLabel||e.name||"icon button";return n.jsxs("button",{id:l.current,ref:a,type:"button",className:i,title:e.title,"aria-label":y,"aria-disabled":o||void 0,disabled:o,tabIndex:e.tabIndex,...j,children:[n.jsx("span",{className:"d-inline-flex align-middle",children:n.jsx(L,{icon:e.icon})}),e.name?n.jsx("span",{className:"px-2 align-middle",children:e.name}):null]})});let $=0;function ie(){return $+=1,`alloyBtnsubmit${$}`}class T{constructor(e){if(!e||!e.name)throw new Error("ButtonSubmitObject requires `name`.");if(!e.icon)throw new Error("ButtonSubmitObject requires `icon`.");this.id=e.id??ie(),this.name=e.name,this.icon=e.icon instanceof g?e.icon:new g(e.icon),this.className=e.className??"",this.disabled=!!e.disabled,this.loading=!!e.loading,this.title=e.title,this.ariaLabel=e.ariaLabel,this.tabIndex=e.tabIndex,this.onClick=e.onClick,this.onMouseDown=e.onMouseDown,this.onKeyDown=e.onKeyDown}}const le=d.forwardRef(function({buttonSubmit:e,output:t},r){if(!e||!(e instanceof T))throw new Error("AlloyButtonSubmit requires `buttonSubmit` (ButtonSubmitObject instance).");const a=d.useRef(null),l=d.useRef(e.id),[o,i]=d.useState(!!e.loading);d.useEffect(()=>{i(!!e.loading)},[e.loading]);const c=e.disabled||o;d.useImperativeHandle(r,()=>({el:a.current,model:e,focus:()=>{var h;return(h=a.current)==null?void 0:h.focus()},click:()=>{var h;return(h=a.current)==null?void 0:h.click()}}),[e]);const u=d.useRef(!1);d.useEffect(()=>{o||(u.current=!1)},[o]);const j=()=>u.current||c?!1:(u.current=!0,e.loading=!0,e.disabled=!0,i(!0),!0),y=(h,w)=>{t==null||t(e,h),w==null||w(h,e)},x=h=>{j()&&y(h,e.onClick)},v=h=>{j()&&y(h,e.onMouseDown)},f=h=>{const w=h.key;(w==="Enter"||w===" ")&&j()&&y(h,e.onKeyDown)},m=o;return n.jsxs("button",{id:l.current,ref:a,type:"submit",className:e.className,title:e.title,"aria-label":e.ariaLabel||e.name,"aria-busy":o||void 0,"aria-disabled":c||void 0,disabled:c,tabIndex:e.tabIndex,onClick:x,onMouseDown:v,onKeyDown:f,children:[m&&n.jsx("span",{className:"d-inline-flex align-middle",children:n.jsx(L,{icon:e.icon})}),n.jsx("span",{className:m?"px-2 align-middle":"align-middle",children:e.name}),o?n.jsx("span",{className:"ms-2 visually-hidden","aria-live":"polite",children:"Loading…"}):null]})});let q=0;function ce(){return q+=1,`alloyinput${q}`}class de{constructor(e){const{id:t,name:r,type:a="text",label:l="",value:o=a==="checkbox"?[]:"",layout:i="text",icon:c,placeholder:u="",required:j=!1,minLength:y,maxLength:x,min:v,max:f,pattern:m,matchWith:h,passwordStrength:w,options:V=[],validators:Z=[],...G}=e||{};if(!r)throw new Error("InputObject requires a 'name' field");if(["icon","floating"].includes(i)&&!c)throw new Error("Icon is required for icon and floating layouts");this.id=t??ce(),this.name=r,this.type=a,this.label=l,this.value=o,this.layout=i,this.icon=c instanceof g?c:c?new g(c):void 0,this.placeholder=u,this.required=j,this.minLength=y,this.maxLength=x,this.min=v,this.max=f,this.pattern=m,this.matchWith=h,this.passwordStrength=w,this.options=V,this.validators=Z,Object.assign(this,G)}}function ue({input:s,output:e}){const[t,r]=d.useState(s.value),[a,l]=d.useState(!1),o=f=>{const m=[],h=typeof f=="string"?f.trim():f;return s.required&&(Array.isArray(h)&&h.length===0||!Array.isArray(h)&&(h===""||h===!1))&&m.push("This field is required."),s.minLength&&typeof h=="string"&&h.length<s.minLength&&m.push(`Minimum length is ${s.minLength}`),s.maxLength&&typeof h=="string"&&h.length>s.maxLength&&m.push(`Maximum length is ${s.maxLength}`),s.pattern&&typeof h=="string"&&!new RegExp(s.pattern).test(h)&&m.push("Invalid format."),s.passwordStrength&&typeof h=="string"&&!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}/.test(h)&&m.push("Password is too weak."),m},i=f=>{const m=o(f);e==null||e({id:s.id,name:s.name,value:f,valid:m.length===0,error:m.length>0,errors:m})},c=()=>l(!0),u=a&&o(t).length>0,j=u&&n.jsx("div",{className:"mt-2","aria-live":"polite",children:o(t).map((f,m)=>n.jsx("div",{className:"alert alert-danger py-2 mb-2",role:"alert",children:f},m))}),y={name:s.name,placeholder:s.placeholder,onBlur:c,"aria-invalid":u||void 0},x=f=>{const m=f.target.value;if(s.type==="checkbox"){const h=Array.isArray(t)?[...t]:[],w=h.indexOf(m);w>-1?h.splice(w,1):h.push(m),r(h),i(h)}else r(m),i(m)},v=()=>s.type==="textarea"?n.jsx("textarea",{...y,value:t,className:`form-control${u?" is-invalid":""}`}):s.type==="select"?n.jsx("select",{...y,value:t,className:`form-select${u?" is-invalid":""}`,onChange:x,children:s.options.map(f=>n.jsx("option",{value:f.value,children:f.label},f.value))}):s.type==="radio"?n.jsxs("div",{children:[n.jsx("label",{className:"form-label d-block mb-2",children:s.label}),s.options.map((f,m)=>n.jsxs("div",{className:"form-check",children:[n.jsx("input",{type:"radio",id:`${s.id}_${m}`,className:`form-check-input${u?" is-invalid":""}`,name:s.name,value:f.value,checked:t===f.value,onChange:h=>{r(h.target.value),i(h.target.value)}}),n.jsx("label",{className:"form-check-label",htmlFor:`${s.id}_${m}`,children:f.label})]},m))]}):s.type==="checkbox"?n.jsxs("div",{children:[n.jsx("label",{className:"form-label d-block mb-2",children:s.label}),s.options.map((f,m)=>n.jsxs("div",{className:"form-check",children:[n.jsx("input",{type:"checkbox",id:`${s.id}_${m}`,className:`form-check-input${u?" is-invalid":""}`,name:s.name,value:f.value,checked:Array.isArray(t)&&t.includes(f.value),onChange:x}),n.jsx("label",{className:"form-check-label",htmlFor:`${s.id}_${m}`,children:f.label})]},m))]}):n.jsx("input",{...y,type:s.type,value:t,onChange:x,className:`form-control${u?" is-invalid":""}`});return s.layout==="floating"?n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"form-floating",children:[v(),n.jsxs("label",{htmlFor:s.id,children:[s.icon&&n.jsx(L,{icon:s.icon})," ",s.label]})]}),j]}):s.layout==="icon"?n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{htmlFor:s.id,className:"form-label",children:s.label}),n.jsxs("div",{className:"input-group",children:[n.jsx("span",{className:"input-group-text",children:n.jsx(L,{icon:s.icon})}),v()]}),j]}):n.jsxs("div",{className:"mb-3",children:[["text","textarea","number","email","password","date"].includes(s.type)&&n.jsx("label",{htmlFor:s.id,className:"form-label",children:s.label}),v(),j]})}let F=0;function he(){return F+=1,`barItem${F}`}let _=0;function fe(){return _+=1,`linkBar${_}`}let D=class{constructor({id:e,name:t,className:r,show:a}={}){this.id=e??he(),this.name=t??"Bar Item",this.className=r??"",this.show=typeof a=="boolean"?a:!1}};class W{constructor({id:e,className:t,barName:r,type:a,linkClass:l,links:o}={}){this.id=e??fe(),this.className=t??"d-flex justify-content-center",this.barName=r instanceof D?r:new D(r??{}),this.type=a??"AlloyLink",this.linkClass=l??"nav-item",this.links=Array.isArray(o)?o.slice():[]}}function me({linkBar:s}){if(!s||!(s instanceof W))throw new Error("AlloyLinkBar requires `linkBar` (LinkBarObject instance).");const e=d.useRef(s.id),t=()=>{var o;return(o=s.barName)!=null&&o.show?n.jsx("div",{id:s.barName.id,className:s.barName.className,children:s.barName.name}):null},r=()=>n.jsxs(n.Fragment,{children:[n.jsx(t,{}),n.jsx("ul",{id:e.current,className:s.className,children:s.links.map((o,i)=>{if(!(o instanceof b))throw new Error("AlloyLinkBar (type='AlloyLink') requires each `links` item to be a LinkObject instance.");return n.jsx("li",{className:s.linkClass,children:n.jsx(K,{link:o})},((o==null?void 0:o.id)??i)+"-li")})})]}),a=()=>n.jsxs(n.Fragment,{children:[n.jsx(t,{}),n.jsx("ul",{id:e.current,className:s.className,children:s.links.map((o,i)=>{if(!(o instanceof A))throw new Error("AlloyLinkBar (type='AlloyLinkIcon') requires each `links` item to be a LinkIconObject instance.");return n.jsx("li",{className:s.linkClass,children:n.jsx(U,{linkIcon:o})},((o==null?void 0:o.id)??i)+"-li")})})]}),l=()=>n.jsxs(n.Fragment,{children:[n.jsx(t,{}),n.jsx("ul",{id:e.current,className:s.className,children:s.links.map((o,i)=>{if(!(o instanceof N))throw new Error("AlloyLinkBar (type='AlloyLinkLogo') requires each `links` item to be a LinkLogoObject instance.");return n.jsx("li",{className:s.linkClass,children:n.jsx(S,{linkLogo:o})},((o==null?void 0:o.id)??i)+"-li")})})]});switch(s.type){case"AlloyLink":return n.jsx("nav",{"data-type":"AlloyLink",children:r()});case"AlloyLinkIcon":return n.jsx("nav",{"data-type":"AlloyLinkIcon",children:a()});case"AlloyLinkLogo":return n.jsx("nav",{"data-type":"AlloyLinkLogo",children:l()});default:return n.jsx("nav",{"data-type":"AlloyLink",children:r()})}}let ye=0;function xe(){return`barItem${++ye}`}let je=0;function ve(){return`buttonBar${++je}`}class R{constructor({id:e,name:t,className:r,show:a}={}){this.id=e??xe(),this.name=t??"Bar",this.className=r??"",this.show=typeof a=="boolean"?a:!1}}class z{constructor({id:e,className:t,barName:r,type:a,buttonClass:l,buttons:o}={}){this.id=e??ve(),this.className=t??"d-flex justify-content-center",this.barName=r instanceof R?r:new R(r??{}),this.type=a??"AlloyButton",this.buttonClass=l??"nav-item",this.buttons=Array.isArray(o)?o.slice():[]}}function we({buttonBar:s,output:e}){if(!s||!(s instanceof z))throw new Error("AlloyButtonBar requires `buttonBar` (ButtonBarObject instance).");const t=d.useRef(s.id),r=()=>{var i;return(i=s.barName)!=null&&i.show?n.jsx("div",{id:s.barName.id,className:s.barName.className,children:s.barName.name}):null},a=(i,c)=>{e==null||e(i,c)},l=()=>n.jsxs(n.Fragment,{children:[n.jsx(r,{}),n.jsx("ul",{id:t.current,className:s.className,children:s.buttons.map((i,c)=>{if(!(i instanceof B))throw new Error("AlloyButtonBar (type='AlloyButton') requires ButtonObject items.");return n.jsx("li",{className:s.buttonClass,children:n.jsx(H,{button:i,output:a})},((i==null?void 0:i.id)??c)+"-li")})})]}),o=()=>n.jsxs(n.Fragment,{children:[n.jsx(r,{}),n.jsx("ul",{id:t.current,className:s.className,children:s.buttons.map((i,c)=>{if(!(i instanceof k))throw new Error("AlloyButtonBar (type='AlloyButtonIcon') requires ButtonIconObject items.");return n.jsx("li",{className:s.buttonClass,children:n.jsx(P,{buttonIcon:i,output:a})},((i==null?void 0:i.id)??c)+"-li")})})]});switch(s.type){case"AlloyButton":return n.jsx("nav",{"data-type":"AlloyButton",children:l()});case"AlloyButtonIcon":return n.jsx("nav",{"data-type":"AlloyButtonIcon",children:o()});default:return n.jsx("nav",{"data-type":"AlloyButton",children:l()})}}exports.AlloyButton=H;exports.AlloyButtonBar=we;exports.AlloyButtonIcon=P;exports.AlloyButtonSubmit=le;exports.AlloyIcon=L;exports.AlloyInput=ue;exports.AlloyLink=K;exports.AlloyLinkBar=me;exports.AlloyLinkIcon=U;exports.AlloyLinkLogo=S;exports.ButtonBarObject=z;exports.ButtonIconObject=k;exports.ButtonObject=B;exports.ButtonSubmitObject=T;exports.IconObject=g;exports.InputObject=de;exports.LinkBarObject=W;exports.LinkIconObject=A;exports.LinkLogoObject=N;exports.LinkObject=b;
//# sourceMappingURL=alloy-react.cjs.js.map
